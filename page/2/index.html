<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.png?v=7.4.1">
  <link rel="mask-icon" href="/images/avatar.svg?v=7.4.1" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'å¤åˆ¶',
      copy_success: 'å¤åˆ¶æˆåŠŸ',
      copy_failure: 'å¤åˆ¶å¤±è´¥'
    },
    sidebarPadding: 40
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Mr.RS">
<meta property="og:url" content="https://mrrs878.github.io/page/2/index.html">
<meta property="og:site_name" content="Mr.RS">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mr.RS">
  <link rel="canonical" href="https://mrrs878.github.io/page/2/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Mr.RS</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Mr.RS</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Read The Fucking Source Code!</p>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
        
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>å…³äº</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>åˆ†ç±»</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a>

  </li>
      
    
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/15/ç½‘ç»œç›¸å…³-https/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/15/ç½‘ç»œç›¸å…³-https/" class="post-title-link" itemprop="url">ç½‘ç»œç›¸å…³-https</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-15 22:38:54" itemprop="dateCreated datePublished" datetime="2020-04-15T22:38:54+08:00">2020-04-15</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-16 20:59:28" itemprop="dateModified" datetime="2020-04-16T20:59:28+08:00">2020-04-16</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç½‘ç»œ/" itemprop="url" rel="index">
                    <span itemprop="name">ç½‘ç»œ</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="HTTPSæ˜¯ä»€ä¹ˆ"><a href="#HTTPSæ˜¯ä»€ä¹ˆ" class="headerlink" title="HTTPSæ˜¯ä»€ä¹ˆ"></a>HTTPSæ˜¯ä»€ä¹ˆ</h1><p>HTTPSï¼ˆhyper text transfer protocol over secure socket layerï¼‰ï¼Œæ˜¯ä»¥å®‰å…¨ä¸ºç›®æ ‡çš„HTTPé€šé“ï¼Œç®€å•è¯´å°±æ˜¯HTTPçš„å®‰å…¨ç‰ˆã€‚å³HTTPä¸‹åŠ å…¥SSLå±‚ï¼ŒHTTPSçš„å®‰å…¨åŸºç¡€æ˜¯SSLï¼Œå› æ­¤åŠ å¯†çš„è¯¦ç»†å†…å®¹å°±éœ€è¦SSLã€‚</p>
<h2 id="HTTPSå’ŒHTTPçš„åŒºåˆ«"><a href="#HTTPSå’ŒHTTPçš„åŒºåˆ«" class="headerlink" title="HTTPSå’ŒHTTPçš„åŒºåˆ«"></a>HTTPSå’ŒHTTPçš„åŒºåˆ«</h2><ul>
<li>HTTPæ˜¯æ˜æ–‡ä¼ è¾“ï¼ŒHTTPSé€šè¿‡SSL/TLSè¿›è¡Œäº†åŠ å¯†</li>
<li>HTTPçš„ç«¯å£æ˜¯80ï¼ŒHTTPSçš„ç«¯å£æ˜¯443</li>
<li>HTTPSéœ€è¦CAè¯ä¹¦</li>
</ul>
<h1 id="ä¸ºä»€ä¹ˆè¦æœ‰HTTPS"><a href="#ä¸ºä»€ä¹ˆè¦æœ‰HTTPS" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æœ‰HTTPS"></a>ä¸ºä»€ä¹ˆè¦æœ‰HTTPS</h1><ul>
<li>å»ºç«‹ä¸€ä¸ªä¿¡æ¯å®‰å…¨é€šé“ï¼Œæ¥ä¿è¯æ•°æ®ä¼ è¾“çš„å®‰å…¨</li>
<li>ç¡®è®¤ç½‘ç«™çš„çœŸå®æ€§ï¼Œé˜²æ­¢é’“é±¼ç½‘ç«™</li>
</ul>
<h1 id="HTTPSçš„åŸç†"><a href="#HTTPSçš„åŸç†" class="headerlink" title="HTTPSçš„åŸç†"></a>HTTPSçš„åŸç†</h1><p>æ•´ä½“ä¸ŠHTTPåˆ°HTTPSçš„å†ç¨‹æ˜¯ï¼š<br>HTTP â€“&gt; å¯¹ç§°åŠ å¯† â€“&gt; éå¯¹ç§°åŠ å¯† â€“&gt; å¯¹ç§°åŠ å¯†+éå¯¹ç§°åŠ å¯† â€“&gt; ä¸­é—´äººæ”»å‡» â€“&gt; CAè¯ä¹¦</p>
<h2 id="å¯¹ç§°åŠ å¯†"><a href="#å¯¹ç§°åŠ å¯†" class="headerlink" title="å¯¹ç§°åŠ å¯†"></a>å¯¹ç§°åŠ å¯†</h2><p>HTTPçš„é€šä¿¡æ˜¯æ˜æ–‡çš„ï¼Œå°±ç›¸å½“äºåœ¨ç½‘ç»œä¸Šè£¸å¥”ï¼Œä»»ä½•ç»„ç»‡æˆ–ä¸ªäººéƒ½å¯ä»¥ç›‘å¬ã€çª¥æ¢æ•°æ®åŒ…ã€‚å®‰å…¨è¡Œè¾ƒå·®ï¼Œæ­¤æ—¶å¯¹ç§°åŠ å¯†å‡ºç°äº†ï¼šæ¯æ¬¡ä¼ è¾“ä¹‹å‰ï¼Œå‘é€æ–¹ç”¨ä¸€ä¸ªåŠ å¯†ç®—æ³•åŠ å¯†ï¼Œç„¶åå†å‘é€ï¼›æ¥æ”¶æ–¹ä½¿ç”¨åŠ å¯†ç®—æ³•å¯¹åº”çš„å¯†é’¥è¿›è¡Œè§£å¯†ã€‚å› ä¸ºåŠ å¯†/è§£å¯†éƒ½ç”¨çš„åŒä¸€ä¸ªå¯†é’¥ï¼Œå› æ­¤ç§°ä¹‹ä¸ºå¯¹ç§°åŠ å¯†</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/https-0.png" alt="å¯¹ç§°åŠ å¯†"></p>
<h3 id="å¼Šç«¯"><a href="#å¼Šç«¯" class="headerlink" title="å¼Šç«¯"></a>å¼Šç«¯</h3><p><strong>å¯†é’¥å®¹æ˜“è¢«æˆªå–</strong></p>
<h2 id="éå¯¹ç§°åŠ å¯†"><a href="#éå¯¹ç§°åŠ å¯†" class="headerlink" title="éå¯¹ç§°åŠ å¯†"></a>éå¯¹ç§°åŠ å¯†</h2><p>ä½¿ç”¨éå¯¹ç§°åŠ å¯†çš„åŒæ–¹éƒ½æœ‰ä¸€å¯¹å¯†é’¥ï¼šç§é’¥ï¼ˆä¿å¯†ï¼‰ï¼Œå…¬é’¥ï¼ˆå…¬å¼€ï¼‰ã€‚ä½¿ç”¨ç§é’¥åŠ å¯†çš„æ•°æ®åªæœ‰å¯¹åº”çš„å…¬é’¥æ‰èƒ½è§£å¯†ï¼›ç”¨å…¬é’¥åŠ å¯†çš„æ•°æ®åªæœ‰å¯¹åº”çš„ç§é’¥æ‰èƒ½è§£å¯†ã€‚</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/https-1.png" alt="éå¯¹ç§°åŠ å¯†"></p>
<h3 id="å¼Šç«¯-1"><a href="#å¼Šç«¯-1" class="headerlink" title="å¼Šç«¯"></a>å¼Šç«¯</h3><p><strong>é€Ÿåº¦è¾ƒæ…¢</strong>ï¼Œç›¸è¾ƒäºå¯¹ç§°åŠ å¯†ç®—æ³•ï¼Œéå¯¹ç§°åŠ å¯†ç®—æ³•çš„é€Ÿåº¦è¦æ…¢ä¸Šç™¾å€</p>
<h2 id="å¯¹ç§°åŠ å¯†-éå¯¹ç§°åŠ å¯†"><a href="#å¯¹ç§°åŠ å¯†-éå¯¹ç§°åŠ å¯†" class="headerlink" title="å¯¹ç§°åŠ å¯†+éå¯¹ç§°åŠ å¯†"></a>å¯¹ç§°åŠ å¯†+éå¯¹ç§°åŠ å¯†</h2><p>ä½¿ç”¨éå¯¹ç§°åŠ å¯†ä¼ è¾“å¯¹ç§°åŠ å¯†çš„å¯†é’¥ï¼Œä¹‹åä½¿ç”¨å¯¹ç§°åŠ å¯†é€šä¿¡</p>
<h3 id="å¼Šç«¯-2"><a href="#å¼Šç«¯-2" class="headerlink" title="å¼Šç«¯"></a>å¼Šç«¯</h3><p>ä¸èƒ½ç¡®ä¿æ¥æ”¶äººçš„èº«ä»½ï¼Œå®¹æ˜“å—åˆ°ä¸­é—´äººæ”»å‡»</p>
<h2 id="ä¸­é—´äººæ”»å‡»"><a href="#ä¸­é—´äººæ”»å‡»" class="headerlink" title="ä¸­é—´äººæ”»å‡»"></a>ä¸­é—´äººæ”»å‡»</h2><p>åœ¨æµè§ˆå™¨å‘é€å…¬é’¥çš„æ—¶å€™ï¼Œæœ‰ä¸ªä¸­é—´äººæˆªå–äº†æµè§ˆå™¨çš„å…¬é’¥ï¼Œç„¶åæŠŠè‡ªå·±çš„å…¬é’¥å‘é€ç»™æœåŠ¡å™¨æ¥å†’å……æµè§ˆå™¨ï¼Œç„¶åä½¿ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†å¯¹ç§°åŠ å¯†ä½¿ç”¨çš„å…¬é’¥æ¥è¿›è¡Œé€šä¿¡ã€‚ï¼ˆç±»ä¼¼äºä»£ç†ï¼‰</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/https-2.png" alt="ä¸­é—´äººæ”»å‡»"></p>
<h2 id="CAè¯ä¹¦"><a href="#CAè¯ä¹¦" class="headerlink" title="CAè¯ä¹¦"></a>CAè¯ä¹¦</h2><p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/https-3.png" alt="CAè¯ä¹¦"></p>
<p>ğŸ‘€ï¼šè¿™äº›ï¼£ï¼¡æœ¬èº«ä¹Ÿæœ‰è¯ä¹¦æ¥è¯æ˜è‡ªå·±çš„èº«ä»½ï¼Œå¹¶ä¸”ï¼£ï¼¡çš„ä¿¡ç”¨æ˜¯åƒæ ‘ä¸€æ ·åˆ†çº§çš„ï¼Œé«˜å±‚çš„ï¼£ï¼¡ç»™åº•å±‚çš„ï¼£ï¼¡åšä¿¡ç”¨èƒŒä¹¦ï¼Œè€Œæ“ä½œç³»ç»Ÿï¼æµè§ˆå™¨ä¸­ä¼šå†…ç½®ä¸€äº›é¡¶å±‚çš„ï¼£ï¼¡çš„è¯ä¹¦ï¼Œç›¸å½“äºä½ è‡ªåŠ¨ä¿¡ä»»äº†ä»–ä»¬ã€‚ã€€è¿™äº›é¡¶å±‚çš„ï¼£ï¼¡è¯ä¹¦ä¸€å®šå¾—å®‰å…¨åœ°æ”¾å…¥æ“ä½œç³»ç»Ÿï¼æµè§ˆå™¨å½“ä¸­ï¼Œå¦åˆ™ä¸–ç•Œå¤§ä¹±ã€‚</p>
<h1 id="å®Œæ•´HTTPSæµç¨‹"><a href="#å®Œæ•´HTTPSæµç¨‹" class="headerlink" title="å®Œæ•´HTTPSæµç¨‹"></a>å®Œæ•´HTTPSæµç¨‹</h1><p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/https-4.png" alt="httpså®Œæ•´æµç¨‹å›¾"></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/14/webpackå­¦ä¹ -2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/14/webpackå­¦ä¹ -2/" class="post-title-link" itemprop="url">webpackå­¦ä¹ -2</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-14 23:04:37 / ä¿®æ”¹æ—¶é—´ï¼š23:05:31" itemprop="dateCreated datePublished" datetime="2020-04-14T23:04:37+08:00">2020-04-14</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/webpack/" itemprop="url" rel="index">
                    <span itemprop="name">webpack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ä¼˜åŒ–"><a href="#ä¼˜åŒ–" class="headerlink" title="ä¼˜åŒ–"></a>ä¼˜åŒ–</h1><h2 id="æå–å…¬å…±çš„jsæ–‡ä»¶-splitChunks-cacheGroups-commons"><a href="#æå–å…¬å…±çš„jsæ–‡ä»¶-splitChunks-cacheGroups-commons" class="headerlink" title="æå–å…¬å…±çš„jsæ–‡ä»¶-splitChunks.cacheGroups.commons"></a>æå–å…¬å…±çš„jsæ–‡ä»¶-splitChunks.cacheGroups.commons</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">"./src/app.js"</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">"dist"</span>),</span><br><span class="line">        filname: <span class="string">"bundle.[hash:6].js"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    optimization: &#123;</span><br><span class="line">        splitChunks: &#123;</span><br><span class="line">            cacheGroups: &#123;</span><br><span class="line">                commons: &#123;</span><br><span class="line">                    chunks: <span class="string">"initial"</span>,</span><br><span class="line">                    minChunks: <span class="number">2</span>,</span><br><span class="line">                    maxInitialRequests: <span class="number">5</span>,</span><br><span class="line">                    minSize: <span class="number">2</span>,</span><br><span class="line">                    name: <span class="string">"common.[hash:6]"</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å‹ç¼©å›¾ç‰‡-image-webpack-loader"><a href="#å‹ç¼©å›¾ç‰‡-image-webpack-loader" class="headerlink" title="å‹ç¼©å›¾ç‰‡-image-webpack-loader"></a>å‹ç¼©å›¾ç‰‡-image-webpack-loader</h2><p><a href="https://www.webpackjs.com/loaders/url-loader/" target="_blank" rel="noopener">url-loader</a>æ¥å¤„ç†å›¾ç‰‡æ–‡ä»¶è§£æï¼Œå¯ä»¥å†ä½¿ç”¨ <a href="https://github.com/tcoopman/image-webpack-loader" target="_blank" rel="noopener">image-webpack-loader</a>æ¥å‹ç¼©å›¾ç‰‡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    enter: <span class="string">"./src/app.js"</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">"dist"</span>),</span><br><span class="line">        filename: <span class="string">"bundle.[hash:6].js"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    modules: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.*\.(gif|png|jpe?g|svg|webp)$/i</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        laoder: <span class="string">"url-loader"</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            limit: <span class="number">8192</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    &#123;</span><br><span class="line">                        laoder: <span class="string">"image-webpack-loader"</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            mozjpeg: &#123;</span><br><span class="line">                                progress: <span class="literal">true</span>,</span><br><span class="line">                                quality: <span class="number">65</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            optipng: &#123;</span><br><span class="line">                                enable: <span class="literal">false</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            pngquant: &#123;</span><br><span class="line">                                quality: <span class="string">'65-90'</span>,</span><br><span class="line">                                speed: <span class="number">4</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            gifsicle: &#123;</span><br><span class="line">                                interlaced: <span class="literal">false</span></span><br><span class="line">                            &#125;,</span><br><span class="line">                            webp: &#123; <span class="comment">// å¼€å¯webpä¼šæŠŠjpgã€pngå‹ç¼©ä¸ºwebpæ ¼å¼</span></span><br><span class="line">                                quality: <span class="number">65</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¤šçº¿ç¨‹æ‰“åŒ…-happypack"><a href="#å¤šçº¿ç¨‹æ‰“åŒ…-happypack" class="headerlink" title="å¤šçº¿ç¨‹æ‰“åŒ…-happypack"></a>å¤šçº¿ç¨‹æ‰“åŒ…-happypack</h2><p>åœ¨webpackè¿è¡Œåœ¨nodeä¸­æ‰“åŒ…æ—¶æ˜¯å•çº¿ç¨‹å»ä¸€ä»¶ä¸€ä»¶äº‹æƒ…åšï¼Œ<a href="https://github.com/amireh/happypack#readme" target="_blank" rel="noopener">happypack</a>å¯ä»¥å¼€å¯å¤šä¸ªå­è¿›ç¨‹å»å¹¶å‘æ‰§è¡Œï¼Œå­è¿›ç¨‹å¤„ç†å®Œæˆä¹‹åæŠŠç»“æœäº¤ç»™ä¸»è¿›ç¨‹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">yarn add happypack -D</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"><span class="keyword">const</span> HappyPack = reruire(<span class="string">"happypack"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">"./src/app.js"</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.reaolve(__dirname, <span class="string">"dist"</span>),</span><br><span class="line">        filename: <span class="string">"bundle_[hash:6].js"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                text: <span class="regexp">/\.jsx?$/</span>,</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span>,</span><br><span class="line">                use: <span class="string">"happypack/loader?id=babel"</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> HappyPack(&#123;</span><br><span class="line">            id: <span class="string">"babel"</span>,</span><br><span class="line">            threads: <span class="number">4</span>,</span><br><span class="line">            loaders: [<span class="string">"babel-loader"</span>]</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä½œç”¨åŸŸæå‡-ModuleConcatenationPlugin"><a href="#ä½œç”¨åŸŸæå‡-ModuleConcatenationPlugin" class="headerlink" title="ä½œç”¨åŸŸæå‡-ModuleConcatenationPlugin"></a>ä½œç”¨åŸŸæå‡-ModuleConcatenationPlugin</h2><p>å¦‚æœé¡¹ç›®é‡Œä½¿ç”¨çš„æ˜¯ES6çš„è¯­æ³•ï¼Œå¹¶ä¸”webpack3+ï¼Œé‚£ä¹ˆå»ºè®®å¯ç”¨è¿™ä¸€æ’ä»¶ï¼ŒæŠŠæ‰€æœ‰çš„æ¨¡å—æ”¾åˆ°ä¸€ä¸ªå‡½æ•°é‡Œï¼š</p>
<ul>
<li>å‡å°‘äº†å‡½æ•°å£°æ˜</li>
<li>æ–‡ä»¶ä½“ç§¯å˜å°</li>
<li>å‡½æ•°ä½œç”¨åŸŸå˜å°‘</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">"webpack"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: <span class="string">"./src/app.js"</span>,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.resolve(__dirname, <span class="string">"dist"</span>),</span><br><span class="line">        filename: <span class="string">"bundle_[hash:6].js"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.optimize.ModuleConcatenationPlugin()</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æå–ç¬¬ä¸‰æ–¹åº“-enter-vendor"><a href="#æå–ç¬¬ä¸‰æ–¹åº“-enter-vendor" class="headerlink" title="æå–ç¬¬ä¸‰æ–¹åº“-enter.vendor"></a>æå–ç¬¬ä¸‰æ–¹åº“-enter.vendor</h2><p>æ–¹ä¾¿é•¿æœŸç¼“å­˜ç¬¬ä¸‰æ–¹çš„åº“ï¼Œæ–°å»ºä¸€ä¸ªå…¥å£ï¼Œå°†ç¬¬ä¸‰æ–¹åº“ä½œä¸ºä¸€ä¸ª<code>chunk</code>ï¼Œç”Ÿæˆ<code>vendor.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        main: <span class="string">"./src/app.js"</span>,</span><br><span class="line">        vendor: [<span class="string">'react'</span>, <span class="string">'react-dom'</span>]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="DLLåŠ¨æ€é“¾æ¥-webpack-DllPlugin"><a href="#DLLåŠ¨æ€é“¾æ¥-webpack-DllPlugin" class="headerlink" title="DLLåŠ¨æ€é“¾æ¥-webpack.DllPlugin"></a>DLLåŠ¨æ€é“¾æ¥-webpack.DllPlugin</h2><p>å¦‚æœç¬¬ä¸‰æ–¹åº“ä¸æ˜¯ç»å¸¸æ›´æ–°ï¼Œæ‰“åŒ…çš„æ—¶å€™å¸Œæœ›åˆ†å¼€æ‰“åŒ…æ¥æå‡æ‰“åŒ…é€Ÿåº¦ã€‚æ‰“åŒ…dlléœ€è¦æ–°å»ºä¸€ä¸ªwebpacké…ç½®æ–‡ä»¶ï¼Œåœ¨æ‰“åŒ…dllçš„æ—¶å€™ï¼Œwebpackåšä¸€ä¸ªç´¢å¼•ï¼Œç°åœ¨manifestæ–‡ä»¶ä¸­ã€‚ç„¶åæ‰“åŒ…é¡¹ç›®çš„æ—¶å€™åªéœ€è¦è¯»å–manifestæ–‡ä»¶</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.vendor.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">"webpack"</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    entry: &#123;</span><br><span class="line">        vendor: [<span class="string">"react"</span>, <span class="string">"react-dom"</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    output: &#123;</span><br><span class="line">        path: path.reaolve(__dirname, <span class="string">"dist"</span>),</span><br><span class="line">        filename: <span class="string">"dll/[name]_dll.js"</span>,</span><br><span class="line">        library: <span class="string">"_dll_[name]"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.DllPlugin(&#123;</span><br><span class="line">            path: path.resolve(__dirname, <span class="string">"dist/sll"</span>, <span class="string">"manifest.json"</span>),</span><br><span class="line">            name: <span class="string">"_dll_[name]"</span></span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = resolve(<span class="string">"path"</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    enter: &#123;</span><br><span class="line">        main: <span class="string">"./src/app.js"</span>,</span><br><span class="line">        vendor: [<span class="string">"react"</span>, <span class="string">"react-dom"</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.DllReferencePlugin(&#123;</span><br><span class="line">            manifest: path.resolve(__dirname, <span class="string">"dist/dll"</span>, <span class="string">"manifest.json"</span>)</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å¤šç¯å¢ƒé…ç½®"><a href="#å¤šç¯å¢ƒé…ç½®" class="headerlink" title="å¤šç¯å¢ƒé…ç½®"></a>å¤šç¯å¢ƒé…ç½®</h1><p>åˆ›å»ºå¤šä¸ªé…ç½®æ–‡ä»¶ï¼š</p>
<ul>
<li><code>webpack.base.js</code>ï¼Œå…±åŒçš„ä¸ªé…ç½®</li>
<li><code>webpack.dev.js</code>ï¼Œåœ¨å¼€å‘ç¯å¢ƒä¸‹çš„é…ç½®</li>
<li><code>webpack.prod.js</code>ï¼Œåœ¨ç”Ÿäº§ç¯å¢ƒä¸‹çš„é…ç½®ã€‘</li>
</ul>
<h2 id="å¼€å‘ç¯å¢ƒ"><a href="#å¼€å‘ç¯å¢ƒ" class="headerlink" title="å¼€å‘ç¯å¢ƒ"></a>å¼€å‘ç¯å¢ƒ</h2><p>é…ç½®æµ‹è¯•æœåŠ¡å™¨ç›¸å…³ã€HMR</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">"webpack"</span>)</span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">"webpack-merge"</span>)</span><br><span class="line"><span class="keyword">const</span> abse = <span class="built_in">require</span>(<span class="string">"./webpack.base.js"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dev = &#123;</span><br><span class="line">    devServer: &#123;</span><br><span class="line">        contentNase: path.resolve(__dirname, <span class="string">"dist"</span>),</span><br><span class="line">        port: <span class="number">8080</span>,</span><br><span class="line">        host: <span class="string">"localhost"</span>,</span><br><span class="line">        overlay: <span class="literal">true</span>,</span><br><span class="line">        compress: <span class="literal">true</span>,</span><br><span class="line">        open: <span class="literal">false</span>,</span><br><span class="line">        hot: <span class="literal">true</span>,</span><br><span class="line">        inline: <span class="literal">true</span>,</span><br><span class="line">        progress: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    devtool: <span class="string">"inline-source-map"</span>,</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> webpack.HotModuleReplacementPlugin(),</span><br><span class="line">        <span class="keyword">new</span> webpack.NamedModulesPlugin()</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = merge(base, dev)</span><br></pre></td></tr></table></figure>

<h2 id="ç”Ÿäº§ç¯å¢ƒ"><a href="#ç”Ÿäº§ç¯å¢ƒ" class="headerlink" title="ç”Ÿäº§ç¯å¢ƒ"></a>ç”Ÿäº§ç¯å¢ƒ</h2><p>ç”Ÿäº§ç¯å¢ƒæœ€é‡è¦çš„æ˜¯å¼€å¯ä»£ç å‹ç¼©ã€æ··æ·†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.prod.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>)</span><br><span class="line"><span class="keyword">const</span> merge = <span class="built_in">require</span>(<span class="string">"webpack-merge"</span>)</span><br><span class="line"><span class="keyword">const</span> WebpackParallUglifyPlugin = <span class="built_in">require</span>(<span class="string">"webpack-parallel-uglify-plugin"</span>)</span><br><span class="line"><span class="keyword">const</span> base = <span class="built_in">require</span>(<span class="string">"./webpack.base.js"</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> prod = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> WebpackParallUglifyPlugin(&#123;</span><br><span class="line">            uglifyJS: &#123;</span><br><span class="line">                mangle: <span class="literal">true</span>,</span><br><span class="line">                output: &#123;</span><br><span class="line">                    beautify: <span class="literal">false</span>,</span><br><span class="line">                    comments: <span class="literal">false</span></span><br><span class="line">                &#125;,</span><br><span class="line">                compress: &#123;</span><br><span class="line">                    warnings: <span class="literal">false</span>,</span><br><span class="line">                    drop_console: <span class="literal">true</span>,</span><br><span class="line">                    collpase_vars: <span class="literal">true</span>,</span><br><span class="line">                    reduce_vars: <span class="literal">true</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = marge(base, prod)</span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/13/webpackå­¦ä¹ -1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/13/webpackå­¦ä¹ -1/" class="post-title-link" itemprop="url">webpackç›¸å…³-1</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-13 23:19:33" itemprop="dateCreated datePublished" datetime="2020-04-13T23:19:33+08:00">2020-04-13</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-15 22:46:12" itemprop="dateModified" datetime="2020-04-15T22:46:12+08:00">2020-04-15</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/webpack/" itemprop="url" rel="index">
                    <span itemprop="name">webpack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ¨¡å—è§£æ"><a href="#æ¨¡å—è§£æ" class="headerlink" title="æ¨¡å—è§£æ"></a>æ¨¡å—è§£æ</h1><h2 id="è§£æè§„åˆ™"><a href="#è§£æè§„åˆ™" class="headerlink" title="è§£æè§„åˆ™"></a>è§£æè§„åˆ™</h2><ul>
<li>è§£æç›¸å¯¹è·¯å¾„<ol>
<li>æŸ¥æ‰¾ç›¸å¯¹å½“å‰æ¨¡å—çš„è·¯å¾„ä¸‹æ˜¯å¦æœ‰å¯¹åº”æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹</li>
<li>æ˜¯æ–‡ä»¶åˆ™ç›´æ¥åŠ è½½</li>
<li>æ˜¯æ–‡ä»¶å¤¹åˆ™ç»§ç»­æŸ¥æ‰¾æ–‡ä»¶å¤¹ä¸‹çš„ <code>package.json</code> æ–‡ä»¶</li>
<li>æœ‰ package.json æ–‡ä»¶åˆ™æŒ‰ç…§æ–‡ä»¶ä¸­ <code>main</code> å­—æ®µçš„æ–‡ä»¶åæ¥æŸ¥æ‰¾æ–‡ä»¶</li>
<li>æ—  package.json æˆ–è€…æ—  <code>main</code> å­—æ®µåˆ™æŸ¥æ‰¾ <code>index.js</code> æ–‡ä»¶</li>
</ol>
</li>
<li>è§£ææ¨¡å—å<br>æŸ¥æ‰¾å½“å‰æ–‡ä»¶ç›®å½•ä¸‹ï¼Œçˆ¶çº§ç›®å½•åŠä»¥ä¸Šç›®å½•ä¸‹çš„ <code>node_modules</code> æ–‡ä»¶å¤¹ï¼Œçœ‹æ˜¯å¦æœ‰å¯¹åº”åç§°çš„æ¨¡å—</li>
<li>è§£æç»å¯¹è·¯å¾„ï¼ˆä¸å»ºè®®ä½¿ç”¨ï¼‰<br>ç›´æ¥æŸ¥æ‰¾å¯¹åº”è·¯å¾„çš„æ–‡ä»¶</li>
</ul>
<p>åœ¨ webpack é…ç½®ä¸­ï¼Œå’Œæ¨¡å—è·¯å¾„è§£æç›¸å…³çš„é…ç½®éƒ½åœ¨ <code>resolve</code> å­—æ®µä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¸¸ç”¨é…ç½®"><a href="#å¸¸ç”¨é…ç½®" class="headerlink" title="å¸¸ç”¨é…ç½®"></a>å¸¸ç”¨é…ç½®</h2><ul>
<li><p><code>resolve.alias</code>ï¼Œ é…ç½®åˆ«å</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        alias: &#123;</span><br><span class="line">            utils$: path.resolve(__dirname, <span class="string">'src/utils'</span>) <span class="comment">// åªä¼šåŒ¹é… import 'utils'</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>resolve.extensions</code>ï¼Œæ–‡ä»¶æ‰©å±•åç®€å†™</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    resolve: &#123;</span><br><span class="line">        extensions: &#123;</span><br><span class="line">            extensions: [<span class="string">'.wasm'</span>, <span class="string">'.mjs'</span>, <span class="string">'.js'</span>, <span class="string">'.json'</span>, <span class="string">'.jsx'</span>],</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>resolve.modules</code>ï¼Œé…ç½®ç›´æ¥å£°æ˜ä¾èµ–åçš„æ¨¡å—çš„è§£æè·¯å¾„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    resolve: &#123;</span><br><span class="line">      modules: [</span><br><span class="line">        path.resolve(__dirname, <span class="string">'node_modules'</span>), <span class="comment">// æŒ‡å®šå½“å‰ç›®å½•ä¸‹çš„ node_modules ä¼˜å…ˆæŸ¥æ‰¾</span></span><br><span class="line">        <span class="string">'node_modules'</span>, <span class="comment">// å¦‚æœæœ‰ä¸€äº›ç±»åº“æ˜¯æ”¾åœ¨ä¸€äº›å¥‡æ€ªçš„åœ°æ–¹çš„ï¼Œä½ å¯ä»¥æ·»åŠ è‡ªå®šä¹‰çš„è·¯å¾„æˆ–è€…ç›®å½•</span></span><br><span class="line">      ],</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>resolve.mainFields</code>ï¼Œæœ‰<code>package.json</code>æ–‡ä»¶å…¥å£æ–‡ä»¶çš„é…ç½®</p>
</li>
<li><p><code>resolve.mainFiles</code>ï¼Œæ²¡æœ‰<code>package.json</code>æ–‡ä»¶æ—¶å…¥å£æ–‡ä»¶çš„é…ç½®</p>
</li>
</ul>
<h1 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h1><p>webpack çš„ <code>loader</code> ç›¸å…³é…ç½®éƒ½åœ¨ <code>module.rules</code> å­—æ®µä¸‹ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ <code>test</code>ã€<code>include</code>ã€<code>exclude</code> ç­‰é…ç½®å¥½åº”ç”¨ <code>loader</code> çš„æ¡ä»¶è§„åˆ™ï¼Œç„¶åä½¿ç”¨ <code>use</code> æ¥æŒ‡å®šéœ€è¦ç”¨åˆ°çš„ <code>loader</code>ï¼Œé…ç½®åº”ç”¨çš„ <code>loader</code> æ—¶è¿˜éœ€è¦æ³¨æ„ä¸€ä¸‹ <code>loader</code> çš„æ‰§è¡Œé¡ºåºã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    modules: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="comment">//,</span></span><br><span class="line">                include: [],</span><br><span class="line">        		use: xxx</span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è§„åˆ™æ¡ä»¶é…ç½®"><a href="#è§„åˆ™æ¡ä»¶é…ç½®" class="headerlink" title="è§„åˆ™æ¡ä»¶é…ç½®"></a>è§„åˆ™æ¡ä»¶é…ç½®</h2><ul>
<li><code>{ test: ... }</code> åŒ¹é…ç‰¹å®šæ¡ä»¶</li>
<li><code>{ include: ... }</code> åŒ¹é…ç‰¹å®šè·¯å¾„</li>
<li><code>{ exclude: ... }</code> æ’é™¤ç‰¹å®šè·¯å¾„</li>
<li><code>{ and: [...] }</code>å¿…é¡»åŒ¹é…æ•°ç»„ä¸­æ‰€æœ‰æ¡ä»¶</li>
<li><code>{ or: [...] }</code> åŒ¹é…æ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªæ¡ä»¶</li>
<li><code>{ not: [...] }</code> æ’é™¤åŒ¹é…æ•°ç»„ä¸­æ‰€æœ‰æ¡ä»¶</li>
</ul>
<h2 id="module-type"><a href="#module-type" class="headerlink" title="module type"></a>module type</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  test: <span class="regexp">/\.js?$/</span>,</span><br><span class="line">  include: [</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">"src"</span>)</span><br><span class="line">  ],</span><br><span class="line">  type: <span class="string">"javascript/esm"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°é˜¶æ®µwebpackæ”¯æŒä»¥ä¸‹å‡ ç§æ¨¡å—ç±»å‹ï¼š</p>
<ul>
<li><code>javascript/auto</code>ï¼Œé»˜è®¤ç±»å‹ï¼Œæ”¯æŒæ‰€æœ‰JSä»£ç æ¨¡å—ç±»å‹ï¼šCommonJSã€AMDã€ESM</li>
<li><code>javascript/esm</code>ï¼ŒECMAScript Modules</li>
<li><code>javascript/dynamic</code>ï¼ŒCommonJSå’ŒAMD</li>
<li><code>javascript/json</code>ï¼ŒJSONæ ¼å¼æ•°æ®ï¼Œ<code>require</code>å’Œ<code>import</code>éƒ½å¯ä»¥å¼•å…¥ï¼Œæ˜¯<code>.json</code>æ–‡ä»¶çš„é»˜è®¤ç±»å‹</li>
<li><code>javascript/experimental</code>ï¼ŒWebAeesmbly Modulesï¼Œæ˜¯<code>.wasm</code>æ–‡ä»¶çš„é»˜è®¤ç±»å‹</li>
</ul>
<h2 id="loaderåº”ç”¨é¡ºåº"><a href="#loaderåº”ç”¨é¡ºåº" class="headerlink" title="loaderåº”ç”¨é¡ºåº"></a>loaderåº”ç”¨é¡ºåº</h2><ul>
<li><p>åŒä¸€ä¸ªruleä¸‹ï¼Œ<strong>ä»å³å¾€å·¦æ‰§è¡Œ</strong></p>
</li>
<li><p>å¤šä¸ªruleåŒ¹é…åŒä¸€ä¸ªæ¨¡å—æ–‡ä»¶ï¼š</p>
<p>webpack åœ¨ <code>rules</code> ä¸­æä¾›äº†ä¸€ä¸ª <code>enforce</code> çš„å­—æ®µæ¥é…ç½®å½“å‰ rule çš„ loader ç±»å‹ï¼Œæ²¡é…ç½®çš„è¯æ˜¯æ™®é€šç±»å‹ï¼Œå¯ä»¥é…ç½® <code>pre</code> æˆ– <code>post</code>ï¼Œåˆ†åˆ«å¯¹åº”å‰ç½®ç±»å‹æˆ–åç½®ç±»å‹çš„ loaderã€‚</p>
<p>æ‰§è¡Œé¡ºåºï¼š<strong>å‰ç½® -&gt; è¡Œå†… -&gt; æ™®é€š -&gt; åç½®</strong></p>
</li>
</ul>
<h2 id="ä½¿ç”¨noParse"><a href="#ä½¿ç”¨noParse" class="headerlink" title="ä½¿ç”¨noParse"></a>ä½¿ç”¨noParse</h2><p>é™¤äº†<code>module.rules</code>å­—æ®µç”¨äºé…ç½®loaderä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ä¸ª<code>module.noParse</code>å­—æ®µå¯ä»¥ç”¨äºé…ç½®å“ªäº›æ¨¡å—æ–‡ä»¶çš„å†…å®¹ä¸éœ€è¦è¿›è¡Œè§£æã€‚å¯¹äºä¸€äº›ä¸éœ€è¦è§£æä¾èµ–ï¼ˆå³æ— ä¾èµ–ï¼Œæ²¡æœ‰ä½¿ç”¨<code>import</code>ã€<code>require</code>ã€<code>define</code>ç­‰å¯¼å…¥æœºåˆ¶ï¼‰çš„ç¬¬ä¸‰æ–¹å¤§å‹ç±»åº“å¯ä»¥é€šè¿‡è¿™ä¸ªå­—æ®µé…ç½®ä»¥æé«˜æ•´ä½“çš„æ„å»ºé€Ÿåº¦</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/09/æµè§ˆå™¨ç›¸å…³-è·¨åŸŸ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/09/æµè§ˆå™¨ç›¸å…³-è·¨åŸŸ/" class="post-title-link" itemprop="url">æµè§ˆå™¨ç›¸å…³-è·¨åŸŸ</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-09 23:26:29" itemprop="dateCreated datePublished" datetime="2020-04-09T23:26:29+08:00">2020-04-09</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-11 20:44:03" itemprop="dateModified" datetime="2020-04-11T20:44:03+08:00">2020-04-11</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æµè§ˆå™¨/" itemprop="url" rel="index">
                    <span itemprop="name">æµè§ˆå™¨</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="WHAT-ä»€ä¹ˆæ˜¯è·¨åŸŸåŠåŒæºç­–ç•¥"><a href="#WHAT-ä»€ä¹ˆæ˜¯è·¨åŸŸåŠåŒæºç­–ç•¥" class="headerlink" title="WHAT-ä»€ä¹ˆæ˜¯è·¨åŸŸåŠåŒæºç­–ç•¥"></a>WHAT-ä»€ä¹ˆæ˜¯è·¨åŸŸåŠåŒæºç­–ç•¥</h1><h2 id="åŒæºç­–ç•¥"><a href="#åŒæºç­–ç•¥" class="headerlink" title="åŒæºç­–ç•¥"></a>åŒæºç­–ç•¥</h2><p><strong>åŒæºç­–ç•¥</strong>æ˜¯ä¸€ä¸ªé‡è¦çš„å®‰å…¨ç­–ç•¥ï¼Œå®ƒç”¨äºé™åˆ¶ä¸€ä¸ª<a href="https://developer.mozilla.org/zh-CN/docs/Glossary/æº" target="_blank" rel="noopener">origin</a>çš„æ–‡æ¡£æˆ–è€…å®ƒåŠ è½½çš„è„šæœ¬å¦‚ä½•èƒ½ä¸å¦ä¸€ä¸ªæºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚å®ƒèƒ½å¸®åŠ©é˜»éš”æ¶æ„æ–‡æ¡£ï¼Œå‡å°‘å¯èƒ½è¢«æ”»å‡»çš„åª’ä»‹ã€‚</p>
<p>å¦‚æœä¸¤ä¸ª URL çš„ <a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Protocol" target="_blank" rel="noopener">protocol</a>ã€<a href="https://developer.mozilla.org/en-US/docs/Glossary/port" target="_blank" rel="noopener">port</a> (å¦‚æœæœ‰æŒ‡å®šçš„è¯)å’Œ <a href="https://developer.mozilla.org/en-US/docs/Glossary/host" target="_blank" rel="noopener">host</a> éƒ½ç›¸åŒçš„è¯ï¼Œåˆ™è¿™ä¸¤ä¸ª URL æ˜¯<em>åŒæº</em>ã€‚è¿™ä¸ªæ–¹æ¡ˆä¹Ÿè¢«ç§°ä¸ºâ€œåè®®/ä¸»æœº/ç«¯å£å…ƒç»„â€ï¼Œæˆ–è€…ç›´æ¥æ˜¯ â€œå…ƒç»„â€ã€‚ï¼ˆâ€œå…ƒç»„â€ æ˜¯æŒ‡ä¸€ç»„é¡¹ç›®æ„æˆçš„æ•´ä½“ï¼ŒåŒé‡/ä¸‰é‡/å››é‡/äº”é‡/ç­‰çš„é€šç”¨å½¢å¼ï¼‰ã€‚</p>
<p><strong>åŒæºç­–ç•¥é™åˆ¶å†…å®¹æœ‰ï¼š</strong></p>
<ul>
<li>Cookieã€LocalStorageã€IndexedDB ç­‰å­˜å‚¨æ€§å†…å®¹</li>
<li>DOM èŠ‚ç‚¹</li>
<li>AJAX è¯·æ±‚å‘é€åï¼Œç»“æœè¢«æµè§ˆå™¨æ‹¦æˆªäº†</li>
</ul>
<p>ä½†æ˜¯æœ‰ä¸‰ä¸ªæ ‡ç­¾æ˜¯å…è®¸è·¨åŸŸåŠ è½½èµ„æºï¼š</p>
<ul>
<li><code>&lt;img src=XXX&gt;</code></li>
<li><code>&lt;link href=XXX&gt;</code></li>
<li><code>&lt;script src=XXX&gt;</code></li>
</ul>
<h2 id="è·¨åŸŸ"><a href="#è·¨åŸŸ" class="headerlink" title="è·¨åŸŸ"></a>è·¨åŸŸ</h2><p>å½“åè®®ã€å­åŸŸåã€ä¸»åŸŸåã€ç«¯å£å·ä¸­ä»»æ„ä¸€ä¸ªä¸ç›¸åŒæ—¶ï¼Œéƒ½ç®—ä½œä¸åŒåŸŸã€‚ä¸åŒåŸŸä¹‹é—´ç›¸äº’è¯·æ±‚èµ„æºå°±ç®—åš<strong>è·¨åŸŸ</strong>ã€‚</p>
<p>ç‰¹åˆ«è¯´æ˜ï¼š</p>
<ol>
<li><p>å¦‚æœæ˜¯åè®®å’Œç«¯å£é€ æˆçš„è·¨åŸŸé—®é¢˜ï¼Œå‰ç«¯æ˜¯æ— èƒ½ä¸ºåŠ›çš„</p>
</li>
<li><p>åœ¨è·¨åŸŸé—®é¢˜ä¸Šï¼Œä»…ä»…æ˜¯é€šè¿‡<strong>URLçš„é¦–éƒ¨</strong>æ¥è¯†åˆ«è€Œä¸ä¼šæ ¹æ®åŸŸåå¯¹åº”çš„ipæ˜¯å¦ç›¸åŒæ¥åˆ¤æ–­ã€‚</p>
</li>
<li><p>è¯·æ±‚è·¨åŸŸåï¼Œè¯·æ±‚åˆ°åº•æœ‰æ²¡æœ‰å‘é€å‡ºå»ï¼š</p>
<p>è·¨åŸŸä¸æ˜¯è¯·æ±‚å‘é€ä¸å‡ºå»ï¼Œè¯·æ±‚èƒ½å‘é€å‡ºå»ï¼ŒæœåŠ¡ç«¯èƒ½æ¥æ”¶åˆ°è¯·æ±‚å¹¶æ­£å¸¸çš„è¿”å›ï¼Œåªæ˜¯ç»“æœè¢«æµè§ˆå™¨æ‹¦æˆªäº†ï¼ˆåŒæºç­–ç•¥ï¼‰ã€‚</p>
</li>
<li><p>ä¸ºä»€ä¹ˆé€šè¿‡è¡¨å•çš„æ–¹å¼å¯ä»¥å‘èµ·è·¨åŸŸè¯·æ±‚ï¼ŒAjaxå°±ä¸èƒ½ï¼Ÿ</p>
<p>å½’æ ¹ç»“åº•ï¼Œè·¨åŸŸæ˜¯å› ä¸ºäº†é˜»æ­¢ç”¨æˆ·è¯»å–åˆ°å¦ä¸€ä¸ªåŸŸåä¸‹çš„å†…å®¹ï¼ŒAjaxå¯ä»¥è·å–å“åº”ï¼Œæµè§ˆå™¨ä»»åŠ¡è¿™ä¸å®‰å…¨æ‰€ä»¥æ‹¦æˆªäº†å“åº”ï¼›ä½†æ˜¯è¡¨å•å¹¶ä¸ä¼šè·å–æ–°çš„å†…å®¹ï¼Œæ‰€ä»¥å¯ä»¥å‘èµ·è·¨åŸŸè¯·æ±‚ã€‚åŒæ—¶ä¹Ÿè¯´æ˜äº†è·¨åŸŸå¹¶ä¸èƒ½å®Œå…¨é˜»æ­¢ CSRFï¼Œå› ä¸ºè¯·æ±‚æ¯•ç«Ÿæ˜¯å‘å‡ºå»äº†ã€‚</p>
</li>
</ol>
<h1 id="WHY-ä¸ºä»€ä¹ˆæœ‰åŒæºç­–ç•¥"><a href="#WHY-ä¸ºä»€ä¹ˆæœ‰åŒæºç­–ç•¥" class="headerlink" title="WHY-ä¸ºä»€ä¹ˆæœ‰åŒæºç­–ç•¥"></a>WHY-ä¸ºä»€ä¹ˆæœ‰åŒæºç­–ç•¥</h1><p><strong>å®‰å…¨</strong></p>
<h1 id="HOW-è·¨åŸŸè§£å†³æ–¹æ¡ˆ"><a href="#HOW-è·¨åŸŸè§£å†³æ–¹æ¡ˆ" class="headerlink" title="HOW-è·¨åŸŸè§£å†³æ–¹æ¡ˆ"></a>HOW-è·¨åŸŸè§£å†³æ–¹æ¡ˆ</h1><h2 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h2><p>åŸç†ï¼šåˆ©ç”¨<code>&lt;script&gt;</code>æ ‡ç­¾æ²¡æœ‰åŒæºç­–ç•¥é™åˆ¶çš„æ¼æ´ï¼Œç½‘é¡µå¯ä»¥å¾—åˆ°ä»å…¶ä»–æºåŠ¨æ€äº§ç”Ÿçš„JSONæ•°æ®ã€‚JSONPè¯·æ±‚ä¸€å®šéœ€è¦å¯¹æ–¹çš„<strong>æœåŠ¡å™¨æ”¯æŒ</strong>ã€‚JSONPä¼˜ç‚¹æ˜¯ç®€å•å…¼å®¹æ€§å¥½ï¼Œå¯ç”¨äºè§£å†³ä¸»æµæµè§ˆå™¨çš„è·¨åŸŸæ•°æ®è®¿é—®çš„é—®é¢˜ã€‚ç¼ºç‚¹æ˜¯<strong>ä»…æ”¯æŒgetæ–¹æ³•å…·æœ‰å±€é™æ€§,ä¸å®‰å…¨å¯èƒ½ä¼šé­å—XSSæ”»å‡»ã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">jsonp</span>(<span class="params">&#123; url, params, callback &#125;</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">let</span> script = <span class="built_in">document</span>.createElement(<span class="string">"script"</span>)</span><br><span class="line">        <span class="built_in">window</span>[callback] = <span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span><br><span class="line">            resolve(data)</span><br><span class="line">            <span class="built_in">document</span>.body.removeChildren(script)</span><br><span class="line">        &#125;</span><br><span class="line">        params = &#123; ...params, callback &#125;</span><br><span class="line">        <span class="keyword">let</span> arrs = []</span><br><span class="line">        <span class="built_in">Object</span>.keys(params).forEach(<span class="function"><span class="params">item</span> =&gt;</span> arrs.push(<span class="string">`<span class="subst">$&#123; key &#125;</span>=<span class="subst">$&#123; params[key] &#125;</span>`</span>))</span><br><span class="line">        script.src = <span class="string">`<span class="subst">$&#123; url &#125;</span>?<span class="subst">$&#123; arrs.join(<span class="string">'&amp;'</span>) &#125;</span>`</span></span><br><span class="line">        <span class="built_in">document</span>.body.appendChild(script)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h2><p>CORSéœ€è¦<strong>æµè§ˆå™¨å’Œåç«¯åŒæ—¶æ”¯æŒ</strong></p>
<p>æµè§ˆå™¨ä¼šè‡ªåŠ¨è¿›è¡Œ CORS é€šä¿¡ï¼Œå®ç° CORS é€šä¿¡çš„å…³é”®æ˜¯åç«¯ã€‚åªè¦åç«¯å®ç°äº† CORSï¼Œå°±å®ç°äº†è·¨åŸŸã€‚</p>
<p>æœåŠ¡ç«¯è®¾ç½® Access-Control-Allow-Origin å°±å¯ä»¥å¼€å¯ CORSã€‚ è¯¥å±æ€§è¡¨ç¤ºå“ªäº›åŸŸåå¯ä»¥è®¿é—®èµ„æºï¼Œå¦‚æœè®¾ç½®é€šé…ç¬¦åˆ™è¡¨ç¤ºæ‰€æœ‰ç½‘ç«™éƒ½å¯ä»¥è®¿é—®èµ„æºã€‚</p>
<p>è™½ç„¶è®¾ç½® CORS å’Œå‰ç«¯æ²¡ä»€ä¹ˆå…³ç³»ï¼Œä½†æ˜¯é€šè¿‡è¿™ç§æ–¹å¼è§£å†³è·¨åŸŸé—®é¢˜çš„è¯ï¼Œä¼šåœ¨å‘é€è¯·æ±‚æ—¶å‡ºç°ä¸¤ç§æƒ…å†µï¼Œåˆ†åˆ«ä¸º<strong>ç®€å•è¯·æ±‚</strong>å’Œ<strong>å¤æ‚è¯·æ±‚</strong>ã€‚</p>
<h3 id="ç®€å•è¯·æ±‚"><a href="#ç®€å•è¯·æ±‚" class="headerlink" title="ç®€å•è¯·æ±‚"></a>ç®€å•è¯·æ±‚</h3><p>åªè¦<strong>åŒæ—¶æ»¡è¶³</strong>ä»¥ä¸‹æ¡ä»¶ï¼Œå°±å±äºç®€å•è¯·æ±‚ï¼š</p>
<ol>
<li>method=GET/POST/HEAD</li>
<li>Content-Type=text/plainæˆ–multipart/form-dataæˆ–application/x-www-form-urlencoded</li>
<li>è¯·æ±‚ä¸­çš„ä»»æ„<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestUpload" target="_blank" rel="noopener"><code>XMLHttpRequestUpload</code></a> å¯¹è±¡å‡æ²¡æœ‰æ³¨å†Œä»»ä½•äº‹ä»¶ç›‘å¬å™¨ï¼›<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequestUpload" target="_blank" rel="noopener"><code>XMLHttpRequestUpload</code></a> å¯¹è±¡å¯ä»¥ä½¿ç”¨ <a href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/upload" target="_blank" rel="noopener"><code>XMLHttpRequest.upload</code></a> å±æ€§è®¿é—®</li>
</ol>
<h3 id="å¤æ‚è¯·æ±‚"><a href="#å¤æ‚è¯·æ±‚" class="headerlink" title="å¤æ‚è¯·æ±‚"></a>å¤æ‚è¯·æ±‚</h3><p> å¤æ‚è¯·æ±‚çš„CORSè¯·æ±‚ï¼Œä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œå¢åŠ ä¸€æ¬¡HTTPæŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸º<strong>é¢„æ£€è¯·æ±‚</strong>,è¯¥è¯·æ±‚æ˜¯ option æ–¹æ³•çš„ï¼Œé€šè¿‡è¯¥è¯·æ±‚æ¥çŸ¥é“æœåŠ¡ç«¯æ˜¯å¦å…è®¸è·¨åŸŸè¯·æ±‚ã€‚</p>
<h2 id="postMessage"><a href="#postMessage" class="headerlink" title="postMessage"></a>postMessage</h2><p>postMessageæ˜¯HTML5 XMLHttpRequest Level 2ä¸­çš„APIï¼Œä¸”æ˜¯ä¸ºæ•°ä¸å¤šå¯ä»¥è·¨åŸŸæ“ä½œçš„windowå±æ€§ä¹‹ä¸€ï¼Œå®ƒå¯ç”¨äºè§£å†³ä»¥ä¸‹æ–¹é¢çš„é—®é¢˜ï¼š</p>
<ul>
<li>é¡µé¢å’Œå…¶æ‰“å¼€çš„æ–°çª—å£çš„æ•°æ®ä¼ é€’</li>
<li>å¤šçª—å£ä¹‹é—´æ¶ˆæ¯ä¼ é€’</li>
<li>é¡µé¢ä¸åµŒå¥—çš„iframeæ¶ˆæ¯ä¼ é€’</li>
<li>ä¸Šé¢ä¸‰ä¸ªåœºæ™¯çš„è·¨åŸŸæ•°æ®ä¼ é€’</li>
</ul>
<h2 id="websocket"><a href="#websocket" class="headerlink" title="websocket"></a>websocket</h2><p>Websocketæ˜¯HTML5çš„ä¸€ä¸ªæŒä¹…åŒ–åè®®ï¼Œå®ƒå®ç°äº†æµè§ˆå™¨ä¸æœåŠ¡å™¨çš„å…¨åŒå·¥é€šä¿¡ï¼ŒåŒæ—¶ä¹Ÿæ˜¯è·¨åŸŸçš„ä¸€ç§è§£å†³æ–¹æ¡ˆã€‚WebSocketå’ŒHTTPéƒ½æ˜¯åº”ç”¨å±‚åè®®ï¼Œéƒ½åŸºäº TCP åè®®ã€‚ä½†æ˜¯ <strong>WebSocket æ˜¯ä¸€ç§åŒå‘é€šä¿¡åè®®ï¼Œåœ¨å»ºç«‹è¿æ¥ä¹‹åï¼ŒWebSocket çš„ server ä¸ client éƒ½èƒ½ä¸»åŠ¨å‘å¯¹æ–¹å‘é€æˆ–æ¥æ”¶æ•°æ®</strong>ã€‚åŒæ—¶ï¼ŒWebSocket åœ¨å»ºç«‹è¿æ¥æ—¶éœ€è¦å€ŸåŠ© HTTP åè®®ï¼Œè¿æ¥å»ºç«‹å¥½äº†ä¹‹å client ä¸ server ä¹‹é—´çš„åŒå‘é€šä¿¡å°±ä¸ HTTP æ— å…³äº†ã€‚</p>
<h2 id="Nginxåå‘ä»£ç†"><a href="#Nginxåå‘ä»£ç†" class="headerlink" title="Nginxåå‘ä»£ç†"></a>Nginxåå‘ä»£ç†</h2><p>å®ç°æ€è·¯ï¼šé€šè¿‡nginxé…ç½®ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼ˆåŸŸåä¸domain1ç›¸åŒï¼Œç«¯å£ä¸åŒï¼‰åšè·³æ¿æœºï¼Œåå‘ä»£ç†è®¿é—®domain2æ¥å£ï¼Œå¹¶ä¸”å¯ä»¥é¡ºä¾¿ä¿®æ”¹cookieä¸­domainä¿¡æ¯ï¼Œæ–¹ä¾¿å½“å‰åŸŸcookieå†™å…¥ï¼Œå®ç°è·¨åŸŸç™»å½•ã€‚</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/08/æµè§ˆå™¨ç›¸å…³-å®‰å…¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/08/æµè§ˆå™¨ç›¸å…³-å®‰å…¨/" class="post-title-link" itemprop="url">æµè§ˆå™¨ç›¸å…³-å®‰å…¨</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-08 23:15:51 / ä¿®æ”¹æ—¶é—´ï¼š23:17:35" itemprop="dateCreated datePublished" datetime="2020-04-08T23:15:51+08:00">2020-04-08</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æµè§ˆå™¨/" itemprop="url" rel="index">
                    <span itemprop="name">æµè§ˆå™¨</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h2><p>XSS(cross-site scripting)ï¼Œè·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆç¼©å†™å’ŒCSSé‡å ï¼Œæ‰€ä»¥ç§°ä¹‹ä¸ºXSSï¼‰ã€‚XSSæŒ‡çš„æ˜¯é€šè¿‡å­˜åœ¨å®‰å…¨æ¼æ´çš„webç½‘ç«™æ³¨å†Œç”¨æˆ·çš„<strong>æµè§ˆå™¨</strong>å†…<strong>è‡ªåŠ¨è¿è¡Œéæ³•çš„HTMLæ ‡ç­¾æˆ–JavaScript</strong>è¿›è¡Œçš„ä¸€ç§æ”»å‡»</p>
<p>å¦‚æœ Web åº”ç”¨ç¨‹åºæ²¡æœ‰éƒ¨ç½²è¶³å¤Ÿçš„å®‰å…¨éªŒè¯ï¼Œé‚£ä¹ˆï¼Œè¿™äº›æ”»å‡»å¾ˆå®¹æ˜“æˆåŠŸã€‚æµè§ˆå™¨æ— æ³•æ¢æµ‹åˆ°è¿™äº›æ¶æ„è„šæœ¬æ˜¯ä¸å¯ä¿¡çš„ï¼Œæ‰€ä»¥ï¼Œè¿™äº›è„šæœ¬å¯ä»¥ä»»æ„è¯»å– cookieï¼Œsession tokensï¼Œæˆ–è€…å…¶å®ƒæ•æ„Ÿçš„ç½‘ç«™ä¿¡æ¯ï¼Œæˆ–è€…è®©æ¶æ„è„šæœ¬é‡å†™<a href="https://developer.mozilla.org/en-US/docs/Glossary/HTML" target="_blank" rel="noopener">HTML</a>å†…å®¹ã€‚</p>
<p>XSSå¯èƒ½ä¼šé€ æˆä»¥ä¸‹å½±å“ï¼š</p>
<ul>
<li>åˆ©ç”¨è™šå‡è¡¨å•éª—å–ç”¨æˆ·ä¸ªäººä¿¡æ¯</li>
<li>åˆ©ç”¨è„šæœ¬çªƒå–ç”¨æˆ·çš„cookieå€¼ï¼Œè¢«å®³è€…åœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹å¸®åŠ©æ”»å‡»è€…å‘é€æ¶æ„è¯·æ±‚</li>
<li>æ˜¾ç¤ºä¼ªé€ çš„æ–‡ç« æˆ–å›¾ç‰‡</li>
</ul>
<h3 id="å­˜å‚¨å‹XSS"><a href="#å­˜å‚¨å‹XSS" class="headerlink" title="å­˜å‚¨å‹XSS"></a>å­˜å‚¨å‹XSS</h3><p>æ³¨å…¥å‹è„šæœ¬æ°¸ä¹…<strong>å­˜å‚¨åœ¨ç›®æ ‡æœåŠ¡å™¨ä¸Š</strong>ã€‚å½“æµè§ˆå™¨è¯·æ±‚æ•°æ®æ—¶ï¼Œè„šæœ¬ä»æœåŠ¡å™¨ä¸Šä¼ å›å¹¶æ‰§è¡Œã€‚</p>
<h3 id="åå°„æ€§XSS"><a href="#åå°„æ€§XSS" class="headerlink" title="åå°„æ€§XSS"></a>åå°„æ€§XSS</h3><p>å½“<strong>ç”¨æˆ·ç‚¹å‡»</strong>ä¸€ä¸ªæ¶æ„é“¾æ¥ï¼Œæˆ–è€…æäº¤ä¸€ä¸ªè¡¨å•ï¼Œæˆ–è€…è¿›å…¥ä¸€ä¸ªæ¶æ„ç½‘ç«™æ—¶ï¼Œæ³¨å…¥è„šæœ¬è¿›å…¥è¢«æ”»å‡»è€…çš„ç½‘ç«™ã€‚WebæœåŠ¡å™¨å°†æ³¨å…¥è„šæœ¬ï¼Œæ¯”å¦‚ä¸€ä¸ªé”™è¯¯ä¿¡æ¯ï¼Œæœç´¢ç»“æœç­‰ è¿”å›åˆ°ç”¨æˆ·çš„æµè§ˆå™¨ä¸Šã€‚ç”±äºæµè§ˆå™¨è®¤ä¸ºè¿™ä¸ªå“åº”æ¥è‡ªâ€å¯ä¿¡ä»»â€çš„æœåŠ¡å™¨ï¼Œæ‰€ä»¥ä¼šæ‰§è¡Œè¿™æ®µè„šæœ¬ã€‚</p>
<h3 id="å¦‚ä½•é˜²å¾¡"><a href="#å¦‚ä½•é˜²å¾¡" class="headerlink" title="å¦‚ä½•é˜²å¾¡"></a>å¦‚ä½•é˜²å¾¡</h3><ul>
<li><p>CSP</p>
<p>å»ºç«‹ç™½åå•ï¼Œæ˜ç¡®å‘Šè¯‰æµè§ˆå™¨é‚£äº›å¤–éƒ¨èµ„æºå¯ä»¥è¿›è¡ŒåŠ è½½å’Œæ‰§è¡Œã€‚</p>
<ol>
<li><p>è®¾ç½®<code>HTTP Header</code>ä¸­çš„<code>Content-Security-Policy</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--- åªå…è®¸åŠ è½½æœ¬ç«™èµ„æº ---&gt;</span></span><br><span class="line">Content-Security-Policy: default-src 'self'</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- åªå…è®¸åŠ è½½HTTPSå›¾ç‰‡ --&gt;</span></span><br><span class="line">Content-Security-Policy: img-src https://*</span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®<code>meta</code>æ ‡ç­¾</p>
</li>
</ol>
</li>
<li><p>è½¬ä¹‰å­—ç¬¦</p>
<p>å¯¹å¼•å·ã€å°–æ‹¬å·ã€æ–œæ è¿›è¡Œè½¬ä¹‰</p>
</li>
<li><p>httponly cookie</p>
<p>è¿™æ˜¯é¢„é˜²XSSæ”»å‡»çªƒå–ç”¨æˆ·cookieæœ€æœ‰æ•ˆçš„é˜²å¾¡æ‰‹æ®µã€‚Webåº”ç”¨ç¨‹åºåœ¨è®¾ç½®cookieæ—¶ï¼Œå°†å…¶å±æ€§è®¾ä¸ºHttpOnlyï¼Œå°±å¯ä»¥é¿å…è¯¥ç½‘é¡µçš„cookieè¢«å®¢æˆ·ç«¯æ¶æ„JavaScriptçªƒå–ï¼Œä¿æŠ¤ç”¨æˆ·cookieä¿¡æ¯</p>
</li>
</ul>
<h3 id="åŸºäºDOMçš„XSS"><a href="#åŸºäºDOMçš„XSS" class="headerlink" title="åŸºäºDOMçš„XSS"></a>åŸºäºDOMçš„XSS</h3><h2 id="CSRF"><a href="#CSRF" class="headerlink" title="CSRF"></a>CSRF</h2><p>CSRF(Cross Site Request Forgery)ï¼Œå³è·¨ç«™è¯·æ±‚ä¼ªé€ ï¼Œæ˜¯ä¸€ç§å¸¸è§çš„Webæ”»å‡»ï¼Œå®ƒåˆ©ç”¨ç”¨æˆ·å·²ç™»å½•çš„èº«ä»½ï¼Œåœ¨ç”¨æˆ·æ¯«ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œä»¥ç”¨æˆ·çš„åä¹‰å®Œæˆéæ³•æ“ä½œã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/1/24/1688030a24702301?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="CSRFåŸç†"></p>
<h3 id="å¦‚ä½•é˜²å¾¡-1"><a href="#å¦‚ä½•é˜²å¾¡-1" class="headerlink" title="å¦‚ä½•é˜²å¾¡"></a>å¦‚ä½•é˜²å¾¡</h3><p>é˜²èŒƒ CSRF æ”»å‡»å¯ä»¥éµå¾ªä»¥ä¸‹å‡ ç§è§„åˆ™ï¼š</p>
<ul>
<li>Get è¯·æ±‚ä¸å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹</li>
<li>ä¸è®©ç¬¬ä¸‰æ–¹ç½‘ç«™è®¿é—®åˆ°ç”¨æˆ· Cookie</li>
<li>é˜»æ­¢ç¬¬ä¸‰æ–¹ç½‘ç«™è¯·æ±‚æ¥å£</li>
<li>è¯·æ±‚æ—¶é™„å¸¦éªŒè¯ä¿¡æ¯ï¼Œæ¯”å¦‚éªŒè¯ç æˆ–è€… Token</li>
</ul>
<ol>
<li><p>samesite</p>
<p>å¯ä»¥å¯¹ Cookie è®¾ç½® SameSite å±æ€§ã€‚è¯¥å±æ€§è¡¨ç¤º <strong>Cookie ä¸éšç€è·¨åŸŸè¯·æ±‚å‘é€</strong>ï¼Œå¯ä»¥å¾ˆå¤§ç¨‹åº¦å‡å°‘ CSRF çš„æ”»å‡»ï¼Œä½†æ˜¯è¯¥å±æ€§ç›®å‰å¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½å…¼å®¹ã€‚</p>
</li>
<li><p>referer check</p>
<p>HTTP Refereræ˜¯headerçš„ä¸€éƒ¨åˆ†ï¼Œå½“æµè§ˆå™¨å‘webæœåŠ¡å™¨å‘é€è¯·æ±‚æ—¶ï¼Œä¸€èˆ¬ä¼šå¸¦ä¸ŠRefererä¿¡æ¯å‘Šè¯‰æœåŠ¡å™¨æ˜¯ä»å“ªä¸ªé¡µé¢é“¾æ¥è¿‡æ¥çš„ï¼ŒæœåŠ¡å™¨ç±æ­¤å¯ä»¥è·å¾—ä¸€äº›ä¿¡æ¯ç”¨äºå¤„ç†ã€‚å¯ä»¥é€šè¿‡æ£€æŸ¥è¯·æ±‚çš„æ¥æºæ¥é˜²å¾¡CSRFæ”»å‡»ã€‚æ­£å¸¸è¯·æ±‚çš„refererå…·æœ‰ä¸€å®šè§„å¾‹ï¼Œå¦‚åœ¨æäº¤è¡¨å•çš„refererå¿…å®šæ˜¯åœ¨è¯¥é¡µé¢å‘èµ·çš„è¯·æ±‚ã€‚æ‰€ä»¥<strong>é€šè¿‡æ£€æŸ¥httpåŒ…å¤´refererçš„å€¼æ˜¯ä¸æ˜¯è¿™ä¸ªé¡µé¢ï¼Œæ¥åˆ¤æ–­æ˜¯ä¸æ˜¯CSRFæ”»å‡»</strong>ã€‚</p>
<p>ä½†åœ¨æŸäº›æƒ…å†µä¸‹å¦‚ä»httpsè·³è½¬åˆ°httpï¼Œæµè§ˆå™¨å¤„äºå®‰å…¨è€ƒè™‘ï¼Œä¸ä¼šå‘é€refererï¼ŒæœåŠ¡å™¨å°±æ— æ³•è¿›è¡Œcheckäº†ã€‚è‹¥ä¸è¯¥ç½‘ç«™åŒåŸŸçš„å…¶ä»–ç½‘ç«™æœ‰XSSæ¼æ´ï¼Œé‚£ä¹ˆæ”»å‡»è€…å¯ä»¥åœ¨å…¶ä»–ç½‘ç«™æ³¨å…¥æ¶æ„è„šæœ¬ï¼Œå—å®³è€…è¿›å…¥äº†æ­¤ç±»åŒåŸŸçš„ç½‘å€ï¼Œä¹Ÿä¼šé­å—æ”»å‡»ã€‚å‡ºäºä»¥ä¸ŠåŸå› ï¼Œæ— æ³•å®Œå…¨ä¾èµ–Referer Checkä½œä¸ºé˜²å¾¡CSRFçš„ä¸»è¦æ‰‹æ®µã€‚ä½†æ˜¯å¯ä»¥é€šè¿‡Referer Checkæ¥ç›‘æ§CSRFæ”»å‡»çš„å‘ç”Ÿã€‚</p>
</li>
<li><p>anti CSRF token</p>
<p>ç›®å‰æ¯”è¾ƒå®Œå–„çš„è§£å†³æ–¹æ¡ˆæ˜¯åŠ å…¥Anti-CSRF-Tokenã€‚å³å‘é€è¯·æ±‚æ—¶åœ¨HTTP è¯·æ±‚ä¸­ä»¥å‚æ•°çš„å½¢å¼åŠ å…¥ä¸€ä¸ªéšæœºäº§ç”Ÿçš„tokenï¼Œå¹¶åœ¨æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ªæ‹¦æˆªå™¨æ¥éªŒè¯è¿™ä¸ªtokenã€‚æœåŠ¡å™¨è¯»å–æµè§ˆå™¨å½“å‰åŸŸcookieä¸­è¿™ä¸ªtokenå€¼ï¼Œä¼šè¿›è¡Œæ ¡éªŒè¯¥è¯·æ±‚å½“ä¸­çš„tokenå’Œcookieå½“ä¸­çš„tokenå€¼æ˜¯å¦éƒ½å­˜åœ¨ä¸”ç›¸ç­‰ï¼Œæ‰è®¤ä¸ºè¿™æ˜¯åˆæ³•çš„è¯·æ±‚ã€‚å¦åˆ™è®¤ä¸ºè¿™æ¬¡è¯·æ±‚æ˜¯è¿æ³•çš„ï¼Œæ‹’ç»è¯¥æ¬¡æœåŠ¡ã€‚</p>
<p><strong>è¿™ç§æ–¹æ³•ç›¸æ¯”Refereræ£€æŸ¥è¦å®‰å…¨å¾ˆå¤š</strong>ï¼Œtokenå¯ä»¥åœ¨ç”¨æˆ·ç™»é™†åäº§ç”Ÿå¹¶æ”¾äºsessionæˆ–cookieä¸­ï¼Œç„¶ååœ¨æ¯æ¬¡è¯·æ±‚æ—¶æœåŠ¡å™¨æŠŠtokenä»sessionæˆ–cookieä¸­æ‹¿å‡ºï¼Œä¸æœ¬æ¬¡è¯·æ±‚ä¸­çš„token è¿›è¡Œæ¯”å¯¹ã€‚ç”±äºtokençš„å­˜åœ¨ï¼Œæ”»å‡»è€…æ— æ³•å†æ„é€ å‡ºä¸€ä¸ªå®Œæ•´çš„URLå®æ–½CSRFæ”»å‡»ã€‚ä½†åœ¨å¤„ç†å¤šä¸ªé¡µé¢å…±å­˜é—®é¢˜æ—¶ï¼Œå½“æŸä¸ªé¡µé¢æ¶ˆè€—æ‰tokenåï¼Œå…¶ä»–é¡µé¢çš„è¡¨å•ä¿å­˜çš„è¿˜æ˜¯è¢«æ¶ˆè€—æ‰çš„é‚£ä¸ªtokenï¼Œå…¶ä»–é¡µé¢çš„è¡¨å•æäº¤æ—¶ä¼šå‡ºç°tokené”™è¯¯ã€‚</p>
</li>
<li><p>éªŒè¯ç </p>
<p>åœ¨å…³é”®ä¸šåŠ¡ç‚¹è®¾ç½®éªŒè¯ç </p>
</li>
</ol>
<h2 id="ç‚¹å‡»åŠ«æŒ"><a href="#ç‚¹å‡»åŠ«æŒ" class="headerlink" title="ç‚¹å‡»åŠ«æŒ"></a>ç‚¹å‡»åŠ«æŒ</h2><p>ç‚¹å‡»åŠ«æŒæ˜¯ä¸€ç§è§†è§‰æ¬ºéª—çš„æ”»å‡»æ‰‹æ®µã€‚æ”»å‡»è€…å°†éœ€è¦æ”»å‡»çš„ç½‘ç«™é€šè¿‡ <strong>iframe</strong> åµŒå¥—çš„æ–¹å¼åµŒå…¥è‡ªå·±çš„ç½‘é¡µä¸­ï¼Œå¹¶å°† iframe è®¾ç½®ä¸ºé€æ˜ï¼Œåœ¨é¡µé¢ä¸­é€å‡ºä¸€ä¸ªæŒ‰é’®è¯±å¯¼ç”¨æˆ·ç‚¹å‡»ã€‚</p>
<h3 id="å¦‚ä½•é˜²å¾¡-2"><a href="#å¦‚ä½•é˜²å¾¡-2" class="headerlink" title="å¦‚ä½•é˜²å¾¡"></a>å¦‚ä½•é˜²å¾¡</h3><ul>
<li><p>X-FRAME-OPTIONS</p>
<p><code>X-FRAME-OPTIONS</code>æ˜¯ä¸€ä¸ª HTTP å“åº”å¤´ï¼Œä¸‰ä¸ªå€¼å¯é€‰ï¼Œåˆ†åˆ«æ˜¯</p>
<ul>
<li>DENYï¼Œè¡¨ç¤ºé¡µé¢ä¸å…è®¸é€šè¿‡ iframe çš„æ–¹å¼å±•ç¤º</li>
<li>SAMEORIGINï¼Œè¡¨ç¤ºé¡µé¢å¯ä»¥åœ¨ç›¸åŒåŸŸåä¸‹é€šè¿‡ iframe çš„æ–¹å¼å±•ç¤º</li>
<li>ALLOW-FROMï¼Œè¡¨ç¤ºé¡µé¢å¯ä»¥åœ¨æŒ‡å®šæ¥æºçš„ iframe ä¸­å±•ç¤º</li>
</ul>
</li>
</ul>
<h2 id="URLè·³è½¬æ¼æ´"><a href="#URLè·³è½¬æ¼æ´" class="headerlink" title="URLè·³è½¬æ¼æ´"></a>URLè·³è½¬æ¼æ´</h2><h2 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h2><p>SQLæ³¨å…¥æ”»å‡»æŒ‡çš„æ˜¯é€šè¿‡æ„å»ºç‰¹æ®Šçš„è¾“å…¥ä½œä¸ºå‚æ•°ä¼ å…¥Webåº”ç”¨ç¨‹åºï¼Œè€Œè¿™äº›è¾“å…¥å¤§éƒ½æ˜¯SQLè¯­æ³•é‡Œçš„ä¸€äº›ç»„åˆï¼Œé€šè¿‡æ‰§è¡ŒSQLè¯­å¥è¿›è€Œæ‰§è¡Œæ”»å‡»è€…æ‰€è¦çš„æ“ä½œï¼Œå…¶ä¸»è¦åŸå› æ˜¯ç¨‹åºæ²¡æœ‰ç»†è‡´åœ°è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„æ•°æ®ï¼Œè‡´ä½¿éæ³•æ•°æ®ä¾µå…¥ç³»ç»Ÿã€‚</p>
<p>SQLæ³¨å…¥å¿…å¤‡æ¡ä»¶ï¼š</p>
<ol>
<li>å¯ä»¥æ§åˆ¶è¾“å…¥çš„æ•°æ®</li>
<li>æœåŠ¡å™¨è¦æ‰§è¡Œçš„ä»£ç æ‹¼æ¥äº†æ§åˆ¶çš„æ•°æ®</li>
</ol>
<h3 id="å¦‚ä½•é˜²å¾¡-3"><a href="#å¦‚ä½•é˜²å¾¡-3" class="headerlink" title="å¦‚ä½•é˜²å¾¡"></a>å¦‚ä½•é˜²å¾¡</h3><ul>
<li><p><strong>ä¸¥æ ¼é™åˆ¶Webåº”ç”¨çš„æ•°æ®åº“çš„æ“ä½œæƒé™</strong>ï¼Œç»™æ­¤ç”¨æˆ·æä¾›ä»…ä»…èƒ½å¤Ÿæ»¡è¶³å…¶å·¥ä½œçš„æœ€ä½æƒé™ï¼Œä»è€Œæœ€å¤§é™åº¦çš„å‡å°‘æ³¨å…¥æ”»å‡»å¯¹æ•°æ®åº“çš„å±å®³</p>
</li>
<li><p><strong>åç«¯ä»£ç æ£€æŸ¥è¾“å…¥çš„æ•°æ®æ˜¯å¦ç¬¦åˆé¢„æœŸ</strong>ï¼Œä¸¥æ ¼é™åˆ¶å˜é‡çš„ç±»å‹ï¼Œä¾‹å¦‚ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œä¸€äº›åŒ¹é…å¤„ç†ã€‚</p>
</li>
<li><p><strong>å¯¹è¿›å…¥æ•°æ®åº“çš„ç‰¹æ®Šå­—ç¬¦ï¼ˆâ€™ï¼Œâ€ï¼Œ\ï¼Œ&lt;ï¼Œ&gt;ï¼Œ&amp;ï¼Œ*ï¼Œ; ç­‰ï¼‰è¿›è¡Œè½¬ä¹‰å¤„ç†ï¼Œæˆ–ç¼–ç è½¬æ¢</strong>ã€‚åŸºæœ¬ä¸Šæ‰€æœ‰çš„åç«¯è¯­è¨€éƒ½æœ‰å¯¹å­—ç¬¦ä¸²è¿›è¡Œè½¬ä¹‰å¤„ç†çš„æ–¹æ³•ï¼Œæ¯”å¦‚ lodash çš„ lodash._escapehtmlchar åº“ã€‚</p>
</li>
<li><p><strong>æ‰€æœ‰çš„æŸ¥è¯¢è¯­å¥å»ºè®®ä½¿ç”¨æ•°æ®åº“æä¾›çš„å‚æ•°åŒ–æŸ¥è¯¢æ¥å£</strong>ï¼Œå‚æ•°åŒ–çš„è¯­å¥ä½¿ç”¨å‚æ•°è€Œä¸æ˜¯å°†ç”¨æˆ·è¾“å…¥å˜é‡åµŒå…¥åˆ° SQL è¯­å¥ä¸­ï¼Œå³ä¸è¦ç›´æ¥æ‹¼æ¥ SQL è¯­å¥ã€‚ä¾‹å¦‚ Node.js ä¸­çš„ mysqljs åº“çš„ query æ–¹æ³•ä¸­çš„ ? å ä½å‚æ•°ã€‚</p>
</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/02/æµè§ˆå™¨ç›¸å…³-å­˜å‚¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/02/æµè§ˆå™¨ç›¸å…³-å­˜å‚¨/" class="post-title-link" itemprop="url">æµè§ˆå™¨ç›¸å…³-å­˜å‚¨</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-02 22:49:39" itemprop="dateCreated datePublished" datetime="2020-04-02T22:49:39+08:00">2020-04-02</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-08 23:18:46" itemprop="dateModified" datetime="2020-04-08T23:18:46+08:00">2020-04-08</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/æµè§ˆå™¨/" itemprop="url" rel="index">
                    <span itemprop="name">æµè§ˆå™¨</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å…³äºå­˜å‚¨çš„é—®é¢˜éƒ½ä¼šæ¶‰åŠåˆ°ä¸‰ä¸ªé—®é¢˜:</p>
<ol>
<li>å­˜å‚¨åœºæ‰€</li>
<li>å­˜å‚¨ç©ºé—´</li>
<li>å­˜å‚¨æ—¶é—´</li>
</ol>
<p>(åœ¨å“ªå„¿å­˜å‚¨ï¼Œå¤šå°‘æ•°æ®ï¼Œåˆ°ä»€ä¹ˆæ—¶å€™)è¿™äº›ç‰¹æ€§å†³å®šäº†ä¸åŒæ–¹æ¡ˆçš„ç”¨é€”</p>
<h2 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h2><ul>
<li><p>WHAT</p>
<p><strong>CookieæŒ‡æŸäº›ç½‘ç«™ä¸ºäº†è¾¨åˆ«ç”¨æˆ·èº«ä»½è€Œå‚¨å­˜åœ¨ç”¨æˆ·æœ¬åœ°ç»ˆç«¯ä¸Šçš„æ•°æ®(é€šå¸¸ç»è¿‡åŠ å¯†)ã€‚ cookieæ˜¯æœåŠ¡ç«¯ç”Ÿæˆï¼Œå®¢æˆ·ç«¯è¿›è¡Œç»´æŠ¤å’Œå­˜å‚¨</strong>ã€‚é€šè¿‡cookie,å¯ä»¥è®©æœåŠ¡å™¨çŸ¥é“è¯·æ±‚æ˜¯æ¥æºå“ªä¸ªå®¢æˆ·ç«¯ï¼Œå°±å¯ä»¥è¿›è¡Œå®¢æˆ·ç«¯çŠ¶æ€çš„ç»´æŠ¤ï¼Œæ¯”å¦‚ç™»é™†ååˆ·æ–°ï¼Œè¯·æ±‚å¤´å°±ä¼šæºå¸¦ç™»é™†æ—¶response headerä¸­çš„set-cookie,WebæœåŠ¡å™¨æ¥åˆ°è¯·æ±‚æ—¶ä¹Ÿèƒ½è¯»å‡ºcookieçš„å€¼ï¼Œæ ¹æ®cookieå€¼çš„å†…å®¹å°±å¯ä»¥åˆ¤æ–­å’Œæ¢å¤ä¸€äº›ç”¨æˆ·çš„ä¿¡æ¯çŠ¶æ€ã€‚</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/3/21/1699f22b7029ca14?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="cookieçš„åŸç†"></p>
</li>
<li><p>WHY</p>
<p>cookieçš„æœ¬èŒå·¥ä½œå¹¶éè¿›è¡Œæœ¬åœ°å­˜å‚¨ï¼Œè€Œæ˜¯<strong>ç»´æŒçŠ¶æ€</strong>ã€‚å› ä¸ºHTTPåè®®æ˜¯æ— çŠ¶æ€çš„ï¼ŒHTTPåè®®è‡ªèº«ä¸å¯¹è¯·æ±‚å’Œå“åº”ä¹‹é—´çš„é€šä¿¡çŠ¶æ€è¿›è¡Œä¿å­˜ï¼Œé€šä¿—æ¥è¯´ï¼ŒæœåŠ¡å™¨ä¸çŸ¥é“ç”¨æˆ·ä¸Šä¸€æ¬¡åšäº†ä»€ä¹ˆï¼Œè¿™ä¸¥é‡é˜»ç¢äº†<strong>äº¤äº’å¼Webç¨‹åº</strong>çš„å®ç°ï¼Œäºæ˜¯å°±è¯ç”Ÿäº†cookieã€‚ä»–å°±æ˜¯ç”¨æ¥ç»•å¼€HTTPçš„æ— çŠ¶æ€æ€§çš„â€œé¢å¤–æ‰‹æ®µâ€ä¹‹ä¸€ã€‚æœåŠ¡å™¨å¯ä»¥è®¾ç½®æˆ–è¯»å–cookieä¸­åŒ…å«ä¿¡æ¯ï¼Œå€Ÿæ­¤ç»´æŠ¤ç”¨æˆ·è·ŸæœåŠ¡å™¨ä¼šè¯çš„çŠ¶æ€</p>
<p>cookieçš„ç¼ºé™·ï¼š</p>
<ul>
<li>cookieä¸å¤Ÿå¤§ï¼Œå„æµè§ˆå™¨çš„cookieæ¯ä¸€ä¸ª<code>name=value</code>çš„valueå€¼å¤§æ¦‚åœ¨4kï¼Œæ‰€ä»¥4kå¹¶ä¸æ˜¯ä¸€ä¸ªåŸŸåä¸‹æ‰€æœ‰çš„cookieå…±äº«çš„,è€Œæ˜¯ä¸€ä¸ªnameçš„å¤§å°ã€‚</li>
<li>è¿‡å¤šçš„ Cookie ä¼šå¸¦æ¥å·¨å¤§çš„æ€§èƒ½æµªè´¹ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½ä¼šæºå¸¦cookie</li>
<li>å®‰å…¨æ€§è¾ƒå·®ï¼Œç”±äºåœ¨HTTPè¯·æ±‚ä¸­çš„Cookieæ˜¯æ˜æ–‡ä¼ é€’çš„ï¼Œæ‰€ä»¥å®‰å…¨æ€§æˆé—®é¢˜ï¼Œé™¤éç”¨HTTPS</li>
</ul>
</li>
<li><p>HOW</p>
<p>ç¬¬ä¸€æ¬¡è®¿é—®ç½‘ç«™çš„æ—¶å€™ï¼Œæµè§ˆå™¨å‘å‡ºè¯·æ±‚ï¼ŒæœåŠ¡å™¨å“åº”è¯·æ±‚åï¼Œä¼šåœ¨å“åº”å¤´é‡Œé¢æ·»åŠ ä¸€ä¸ªSet-Cookieé€‰é¡¹ï¼Œå°†cookieæ”¾å…¥åˆ°å“åº”è¯·æ±‚ä¸­ï¼Œåœ¨æµè§ˆå™¨ç¬¬äºŒæ¬¡å‘è¯·æ±‚çš„æ—¶å€™ï¼Œä¼šé€šè¿‡Cookieè¯·æ±‚å¤´éƒ¨å°†Cookieä¿¡æ¯å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡ç«¯ä¼šè¾¨åˆ«ç”¨æˆ·èº«ä»½ï¼Œå¦å¤–ï¼ŒCookieçš„è¿‡æœŸæ—¶é—´ã€åŸŸã€è·¯å¾„ã€æœ‰æ•ˆæœŸã€é€‚ç”¨ç«™ç‚¹éƒ½å¯ä»¥æ ¹æ®éœ€è¦æ¥æŒ‡å®šã€‚</p>
<p>cookieçš„ç”Ÿæˆæ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼š</p>
<ol>
<li><p><code>http response header</code>ä¸­çš„<code>set-cookie</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set</span>-Cookie: id=a3fWa; Expires=Wed, <span class="number">21</span> Oct <span class="number">2019</span> <span class="number">22</span>:<span class="number">28</span>:<span class="number">00</span> GMT;<span class="comment">//å¯ä»¥æŒ‡å®šä¸€ä¸ªç‰¹å®šçš„è¿‡æœŸæ—¶é—´ï¼ˆExpiresï¼‰æˆ–æœ‰æ•ˆæœŸï¼ˆMax-Ageï¼‰</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>jsä¸­é€šè¿‡<code>document.cookie</code>å¯ä»¥è¯»å†™cookieï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼å±•ç¤º</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">"userName=mrrs878"</span></span><br><span class="line"><span class="built_in">document</span>.cookie = <span class="string">"age=23"</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>å¸¸ç”¨åç¼€åŠå…¶å«ä¹‰ï¼š</p>
<table>
<thead>
<tr>
<th>å±æ€§</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>value</td>
<td>å¦‚æœç”¨äºä¿å­˜ç”¨æˆ·ç™»å½•æ€ï¼Œåº”è¯¥å°†å€¼åŠ å¯†ï¼Œä¸èƒ½ä½¿ç”¨æ˜æ–‡çš„ç”¨æˆ·æ ‡è¯†</td>
</tr>
<tr>
<td>http-only</td>
<td>ä¸èƒ½é€šè¿‡JSè®¿é—®cookieï¼Œå‡å°‘XSSæ”»å‡»</td>
</tr>
<tr>
<td>secure</td>
<td>åªèƒ½åœ¨åè®®ä¸ºHTTPSçš„è¯·æ±‚ä¸­æºå¸¦</td>
</tr>
<tr>
<td>same-site</td>
<td>è§„å®šæµè§ˆå™¨ä¸èƒ½å†è·¨åŸŸè¯·æ±‚ä¸­æºå¸¦cookieï¼Œå‡å°‘CSRFæ”»å‡»</td>
</tr>
</tbody></table>
</li>
</ul>
<h2 id="WebStorage"><a href="#WebStorage" class="headerlink" title="WebStorage"></a>WebStorage</h2><p>ä¸ºäº†å¼¥è¡¥ Cookie çš„å±€é™æ€§ï¼Œè®©â€œä¸“ä¸šçš„äººåšä¸“ä¸šçš„äº‹æƒ…â€ï¼ŒWeb Storage å‡ºç°äº†ã€‚<strong>HTML5ä¸­æ–°å¢äº†æœ¬åœ°å­˜å‚¨çš„è§£å†³æ–¹æ¡ˆâ€”-Web Storageï¼Œå®ƒåˆ†æˆä¸¤ç±»ï¼šsessionStorageå’ŒlocalStorage</strong>ã€‚è¿™æ ·æœ‰äº†WebStorageåï¼Œcookieèƒ½åªåšå®ƒåº”è¯¥åšçš„äº‹æƒ…äº†â€”â€”ä½œä¸ºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨äº¤äº’çš„é€šé“ï¼Œä¿æŒå®¢æˆ·ç«¯çŠ¶æ€ã€‚</p>
<h3 id="LocalStorage"><a href="#LocalStorage" class="headerlink" title="LocalStorage"></a>LocalStorage</h3><p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>æŒä¹…åŒ–å­˜å‚¨</li>
<li>æ•°æ®å¤§å°é™åˆ¶æå‡åˆ°5M</li>
<li>ä»…åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸ä¸æœåŠ¡å™¨é€šä¿¡</li>
</ul>
<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è®¾ç½®æ•°æ®</span></span><br><span class="line">localStorage.setItem(<span class="string">"key"</span>,<span class="string">"value"</span>);</span><br><span class="line"><span class="comment">// è¯»å–æ•°æ®</span></span><br><span class="line">localStorage.getItem(<span class="string">"key"</span>)ï¼›</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<p>å­˜å‚¨ä¸€äº›ç¨³å®šçš„èµ„æºï¼Œå¦‚å›¾ç‰‡è½¬ä¸ºbase64å­˜å‚¨åœ¨æœ¬åœ°åŠ å¿«è®¿é—®</p>
<h3 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h3><p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>ä¼šè¯çº§åˆ«çš„å­˜å‚¨ï¼ˆåŒ…æ‹¬çˆ¶é¡µé¢ç”Ÿæˆçš„æ–°æ ‡ç­¾é¡µï¼‰</li>
<li>æ•°æ®å¤§å°é™åˆ¶æå‡åˆ°5M</li>
<li>ä»…åœ¨å®¢æˆ·ç«¯ä½¿ç”¨ï¼Œä¸ä¸æœåŠ¡å™¨é€šä¿¡</li>
</ul>
<p>ä½¿ç”¨ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sessionStorage.setItem(<span class="string">'key'</span>, <span class="string">'value'</span>)</span><br><span class="line">sessionStorage.getItem(<span class="string">'key'</span>, <span class="string">'value'</span>)</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<p>å¯¹è¡¨å•ä¿¡æ¯è¿›è¡Œç»´æŠ¤ï¼Œæ¯”å¦‚åˆ·æ–°æ—¶ï¼Œè¡¨å•ä¿¡æ¯ä¸ä¸¢å¤±</p>
<h2 id="cookieã€localstorageã€sessionstorageçš„åŒºåˆ«"><a href="#cookieã€localstorageã€sessionstorageçš„åŒºåˆ«" class="headerlink" title="cookieã€localstorageã€sessionstorageçš„åŒºåˆ«"></a>cookieã€localstorageã€sessionstorageçš„åŒºåˆ«</h2><table>
<thead>
<tr>
<th></th>
<th>cookie</th>
<th>localStorage</th>
<th>sessionStorage</th>
</tr>
</thead>
<tbody><tr>
<td>ç”±è°åˆå§‹åŒ–</td>
<td>å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¯ä»¥ä½¿ç”¨Set-Cookieè¯·æ±‚å¤´</td>
<td>å®¢æˆ·ç«¯</td>
<td>å®¢æˆ·ç«¯</td>
</tr>
<tr>
<td>å­˜å‚¨ä½ç½®</td>
<td>å®¢æˆ·ç«¯</td>
<td>å®¢æˆ·ç«¯</td>
<td>å®¢æˆ·ç«¯</td>
</tr>
<tr>
<td>è¿‡æœŸæ—¶é—´</td>
<td>æ‰‹åŠ¨è®¾ç½®</td>
<td>æ— </td>
<td>å½“å‰ä¼šè¯</td>
</tr>
<tr>
<td>åœ¨å½“å‰ä¼šè¯ä¸­ä¿æŒä¸å˜</td>
<td>å–å†³è¿‡æœŸæ—¶é—´</td>
<td>æ˜¯</td>
<td>å¦</td>
</tr>
<tr>
<td>æ˜¯å¦éšç€è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨</td>
<td>æ˜¯</td>
<td>å¦</td>
<td>å¦</td>
</tr>
<tr>
<td>å®¹é‡</td>
<td>4Kb(å•ä¸ªname)</td>
<td>5Mb(å•ä¸ªåŸŸå)</td>
<td>5Mb(å•ä¸ªåŸŸå)</td>
</tr>
<tr>
<td>è®¿é—®æƒé™</td>
<td>ä»»æ„çª—å£</td>
<td>ä»»æ„çª—å£</td>
<td>å½“å‰çª—å£</td>
</tr>
</tbody></table>
<h2 id="IndexedDB"><a href="#IndexedDB" class="headerlink" title="IndexedDB"></a>IndexedDB</h2><p>IndexedDB æ˜¯ä¸€ç§ä½çº§APIï¼Œ<strong>ç”¨äºå®¢æˆ·ç«¯å­˜å‚¨å¤§é‡ç»“æ„åŒ–æ•°æ®(åŒ…æ‹¬æ–‡ä»¶å’Œblobs)</strong>ã€‚è¯¥APIä½¿ç”¨ç´¢å¼•æ¥å®ç°å¯¹è¯¥æ•°æ®çš„é«˜æ€§èƒ½æœç´¢ã€‚IndexedDB æ˜¯ä¸€ä¸ªè¿è¡Œåœ¨æµè§ˆå™¨ä¸Šçš„éå…³ç³»å‹æ•°æ®åº“ã€‚</p>
<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>é”®å€¼å¯¹å‚¨å­˜</li>
<li>å¼‚æ­¥</li>
<li>äº‹åŠ¡</li>
<li>åŒæºé™åˆ¶</li>
<li>æ”¯æŒäºŒè¿›åˆ¶å­˜å‚¨</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/01/HTMLç›¸å…³-0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/01/HTMLç›¸å…³-0/" class="post-title-link" itemprop="url">HTMLç›¸å…³é—®é¢˜</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-01 23:00:40 / ä¿®æ”¹æ—¶é—´ï¼š23:01:55" itemprop="dateCreated datePublished" datetime="2020-04-01T23:00:40+08:00">2020-04-01</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HTML/" itemprop="url" rel="index">
                    <span itemprop="name">HTML</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="cookieã€sessionStorageã€localStorageçš„åŒºåˆ«"><a href="#cookieã€sessionStorageã€localStorageçš„åŒºåˆ«" class="headerlink" title="cookieã€sessionStorageã€localStorageçš„åŒºåˆ«"></a>cookieã€sessionStorageã€localStorageçš„åŒºåˆ«</h2><table>
<thead>
<tr>
<th></th>
<th>cookie</th>
<th>localStorage</th>
<th>sessionStorage</th>
</tr>
</thead>
<tbody><tr>
<td>ç”±è°åˆå§‹åŒ–</td>
<td>å®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å¯ä»¥ä½¿ç”¨Set-Cookieè¯·æ±‚å¤´</td>
<td>å®¢æˆ·ç«¯</td>
<td>å®¢æˆ·ç«¯</td>
</tr>
<tr>
<td>å­˜å‚¨ä½ç½®</td>
<td>å®¢æˆ·ç«¯</td>
<td>å®¢æˆ·ç«¯</td>
<td>å®¢æˆ·ç«¯</td>
</tr>
<tr>
<td>è¿‡æœŸæ—¶é—´</td>
<td>æ‰‹åŠ¨è®¾ç½®</td>
<td>æ— </td>
<td>å½“å‰ä¼šè¯</td>
</tr>
<tr>
<td>åœ¨å½“å‰ä¼šè¯ä¸­ä¿æŒä¸å˜</td>
<td>å–å†³è¿‡æœŸæ—¶é—´</td>
<td>æ˜¯</td>
<td>å¦</td>
</tr>
<tr>
<td>æ˜¯å¦éšç€è¯·æ±‚å‘é€ç»™æœåŠ¡å™¨</td>
<td>æ˜¯</td>
<td>å¦</td>
<td>å¦</td>
</tr>
<tr>
<td>å®¹é‡ï¼ˆæ¯ä¸ªåŸŸåï¼‰</td>
<td>4Kb</td>
<td>5MB</td>
<td>5MB</td>
</tr>
<tr>
<td>è®¿é—®æƒé™</td>
<td>ä»»æ„çª—å£</td>
<td>ä»»æ„çª—å£</td>
<td>å½“å‰çª—å£</td>
</tr>
</tbody></table>
<h2 id="lt-script-gt-ã€-lt-script-async-gt-ã€-lt-script-defer-gt-åŒºåˆ«"><a href="#lt-script-gt-ã€-lt-script-async-gt-ã€-lt-script-defer-gt-åŒºåˆ«" class="headerlink" title="&lt;script&gt; ã€&lt;script async&gt;ã€ &lt;script defer&gt; åŒºåˆ«"></a><code>&lt;script&gt;</code> ã€<code>&lt;script async&gt;</code>ã€ <code>&lt;script defer&gt;</code> åŒºåˆ«</h2><p>å½“é‡åˆ°è¿™äº›æ ‡ç­¾æ—¶ï¼Œä¼šå‘ç”Ÿä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p>
<ul>
<li><code>script</code>ï¼ŒHTMLè§£æä¸­æ–­ï¼Œè„šæœ¬è¢«æå–å¹¶ç«‹å³æ‰§è¡Œï¼Œæ‰§è¡Œç»“æŸåï¼Œ<code>HTML</code>è§£æç»§ç»­</li>
<li><code>script async</code>ï¼Œè„šæœ¬çš„æå–ã€æ‰§è¡Œçš„è¿‡ç¨‹ä¸<code>HTML</code>è§£æè¿‡ç¨‹å¹¶è¡Œï¼Œè„šæœ¬æ‰§è¡Œå®Œæ¯•å¯èƒ½åœ¨<code>HTML</code>è§£æå®Œæ¯•å‰ã€‚å½“è„šæœ¬ä¸é¡µé¢ä¸Šå…¶ä»–è„šæœ¬ç‹¬ç«‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<code>async</code>æ¥åŠ å¿«é¡µé¢æ¸²æŸ“ï¼ˆæ¯”å¦‚ç”¨ä½œé¡µé¢ç»Ÿè®¡åˆ†æï¼‰</li>
<li><code>script defer</code>ï¼Œè„šæœ¬çš„æå–è¿‡ç¨‹ä¸<code>HTML</code>è§£æè¿‡ç¨‹å¹¶è¡Œï¼Œè„šæœ¬çš„æ‰§è¡Œå°†åœ¨<code>HTML</code>è§£æå®Œæ¯•åè¿›è¡Œã€‚å¦‚æœæœ‰å¤šä¸ªå«<code>defer</code>çš„è„šæœ¬ï¼Œè„šæœ¬çš„æ‰§è¡Œé¡ºåºæŒ‰ç…§åœ¨<code>document</code>ä¸­å‡ºç°çš„ä½ç½®ï¼Œä»ä¸Šåˆ°ä¸‹é¡ºåºæ‰§è¡Œã€‚</li>
</ul>
<p>ğŸ‘€ï¼šæ²¡æœ‰<code>src</code>çš„è„šæœ¬ï¼Œ<code>async</code>å’Œ<code>defer</code>å±æ€§ä¼šè¢«å¿½ç•¥</p>
<h2 id="lt-link-gt-ä¸-lt-script-gt-çš„æ”¾ç½®ä½ç½®"><a href="#lt-link-gt-ä¸-lt-script-gt-çš„æ”¾ç½®ä½ç½®" class="headerlink" title="&lt;link&gt;ä¸&lt;script&gt;çš„æ”¾ç½®ä½ç½®"></a><code>&lt;link&gt;</code>ä¸<code>&lt;script&gt;</code>çš„æ”¾ç½®ä½ç½®</h2><ul>
<li><p>æŠŠ<code>&lt;link&gt;</code>æ”¾åœ¨<code>&lt;head&gt;</code>ä¸­</p>
<p>æŠŠ<code>link</code>æ ‡ç­¾æ”¾åœ¨<code>&lt;head&gt;&lt;/head&gt;</code>ä¹‹é—´æ˜¯è§„èŒƒè¦æ±‚çš„å†…å®¹ã€‚æ­¤å¤–ï¼Œè¿™ç§åšæ³•å¯ä»¥è®©é¡µé¢é€æ­¥å‘ˆç°ï¼Œæé«˜äº†ç”¨æˆ·ä½“éªŒã€‚å°†æ ·å¼è¡¨æ”¾åœ¨æ–‡æ¡£åº•éƒ¨é™„è¿‘ï¼Œä¼šä½¿è®¸å¤šæµè§ˆå™¨ï¼ˆåŒ…æ‹¬ Internet Explorerï¼‰ä¸èƒ½é€æ­¥å‘ˆç°é¡µé¢ã€‚ä¸€äº›æµè§ˆå™¨ä¼šé˜»æ­¢æ¸²æŸ“ï¼Œä»¥é¿å…åœ¨é¡µé¢æ ·å¼å‘ç”Ÿå˜åŒ–æ—¶ï¼Œé‡æ–°ç»˜åˆ¶é¡µé¢ä¸­çš„å…ƒç´ ã€‚è¿™ç§åšæ³•å¯ä»¥é˜²æ­¢å‘ˆç°ç»™ç”¨æˆ·ç©ºç™½çš„é¡µé¢æˆ–æ²¡æœ‰æ ·å¼çš„å†…å®¹ã€‚</p>
</li>
<li><p>æŠŠ<code>&lt;script&gt;</code>æ”¾åœ¨<code>&lt;body&gt;</code>åº•éƒ¨</p>
<p>è„šæœ¬åœ¨ä¸‹è½½å’Œæ‰§è¡ŒæœŸé—´ä¼šé˜»æ­¢ HTML è§£æã€‚æŠŠ``æ ‡ç­¾æ”¾åœ¨åº•éƒ¨ï¼Œä¿è¯ HTML é¦–å…ˆå®Œæˆè§£æï¼Œå°†é¡µé¢å°½æ—©å‘ˆç°ç»™ç”¨æˆ·ã€‚</p>
<p>åœ¨åº•éƒ¨ï¼Œæ„å‘³ç€æµè§ˆå™¨ä¸èƒ½å¼€å§‹ä¸‹è½½è„šæœ¬ï¼Œç›´åˆ°æ•´ä¸ªæ–‡æ¡£ï¼ˆdocumentï¼‰è¢«è§£æã€‚ä¹Ÿè®¸ï¼Œå¯¹æ­¤æ¯”è¾ƒå¥½çš„åšæ³•æ˜¯ï¼Œ<code>&lt;</code>script<code>&gt;</code>ä½¿ç”¨<code>defer</code>å±æ€§ï¼Œæ”¾åœ¨<code>&lt;head&gt;</code>ä¸­ã€‚</p>
</li>
</ul>
<h2 id="lt-img-gt-çš„titleå’Œaltå±æ€§"><a href="#lt-img-gt-çš„titleå’Œaltå±æ€§" class="headerlink" title="&lt;img&gt;çš„titleå’Œaltå±æ€§"></a><code>&lt;img&gt;</code>çš„<code>title</code>å’Œ<code>alt</code>å±æ€§</h2><ul>
<li><p><code>alt</code></p>
<p><code>alt</code>å±æ€§åŒ…å«ä¸€æ¡å¯¹å›¾åƒçš„æ–‡æœ¬æè¿°ï¼Œè¿™ä¸æ˜¯å¼ºåˆ¶æ€§çš„ï¼Œä½†å¯¹å¯è®¿é—®æ€§è€Œè¨€ï¼Œå®ƒ<strong>éš¾ä»¥ç½®ä¿¡åœ°æœ‰ç”¨</strong>â€”â€”å±å¹•é˜…è¯»å™¨ä¼šå°†è¿™äº›æè¿°è¯»ç»™éœ€è¦ä½¿ç”¨é˜…è¯»å™¨çš„ä½¿ç”¨è€…å¬ï¼Œè®©ä»–ä»¬çŸ¥é“å›¾åƒçš„å«ä¹‰ã€‚å¦‚æœç”±äºæŸç§åŸå› æ— æ³•åŠ è½½å›¾åƒï¼Œæ™®é€šæµè§ˆå™¨ä¹Ÿä¼šåœ¨é¡µé¢ä¸Šæ˜¾ç¤º<code>alt</code> å±æ€§ä¸­çš„å¤‡ç”¨æ–‡æœ¬ï¼šä¾‹å¦‚ï¼Œç½‘ç»œé”™è¯¯ã€å†…å®¹è¢«å±è”½æˆ–é“¾æ¥è¿‡æœŸæ—¶ã€‚</p>
</li>
<li><p><code>title</code></p>
<p><code>title</code> å±æ€§ä¸æ˜¯ <code>alt</code> å±æ€§å¯æ¥å—çš„æ›¿ä»£å“ã€‚å¹¶ä¸”ï¼Œé¿å…å°† <code>alt</code> å±æ€§çš„å€¼ç›´æ¥å¤åˆ¶åˆ°åŒä¸€å¹…å›¾ç‰‡çš„<code>title</code> å±æ€§ä¸Šã€‚è¿™æ ·å¯èƒ½ä¼šè®©ä¸€äº›å±å¹•é˜…è¯»å™¨æŠŠåŒä¸€æ®µæè¿°è¯»ä¸¤éï¼Œé€ æˆä¸€å®šç¨‹åº¦ä¸Šçš„å›°æ‰°ã€‚</p>
<p><code>title</code> å±æ€§ä¹Ÿä¸è¯¥è¢«ç”¨ä½œä¸€å¹…å›¾ç‰‡åœ¨ <code>alt</code> ä¹‹å¤–çš„è¡¥å……è¯´æ˜ä¿¡æ¯ã€‚å¦‚æœä¸€å¹…å›¾ç‰‡éœ€è¦å°æ ‡é¢˜ï¼Œä½¿ç”¨ <code>figure</code> æˆ– <code>figcaption</code> å…ƒç´ ã€‚</p>
<p><code>title</code>å…ƒç´ çš„å€¼ä¸€èˆ¬ä½œä¸ºæç¤ºæ¡(<code>tooltip</code>)å‘ˆç°ç»™ç”¨æˆ·ï¼Œåœ¨å…‰æ ‡äºå›¾ç‰‡ä¸Šåœä¸‹åæ˜¾ç¤ºå‡ºæ¥ã€‚å°½ç®¡è¿™<em>ç¡®å®</em>èƒ½ç»™ç”¨æˆ·æä¾›æ›´å¤šçš„ä¿¡æ¯ï¼Œæ‚¨ä¸è¯¥å‡å®šç”¨æˆ·çœŸçš„èƒ½çœ‹åˆ°ï¼šç”¨æˆ·å¯èƒ½åªæœ‰é”®ç›˜æˆ–è§¦æ‘¸å±ã€‚å¦‚æœè¦æŠŠç‰¹åˆ«é‡è¦çš„ä¿¡æ¯æä¾›ç»™ç”¨æˆ·ï¼Œé€‰æ‹©ä¸Šé¢æä¾›çš„ä¸€ç§æ–¹æ³•å°†å…¶å†…è”æ˜¾ç¤ºï¼Œè€Œä¸æ˜¯ä½¿ç”¨ <code>title</code></p>
</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/03/24/CSSç›¸å…³-0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/03/24/CSSç›¸å…³-0/" class="post-title-link" itemprop="url">CSS-0</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-03-24 23:29:35" itemprop="dateCreated datePublished" datetime="2020-03-24T23:29:35+08:00">2020-03-24</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-28 21:23:26" itemprop="dateModified" datetime="2020-04-28T21:23:26+08:00">2020-04-28</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="ç›’æ¨¡å‹"><a href="#ç›’æ¨¡å‹" class="headerlink" title="ç›’æ¨¡å‹"></a>ç›’æ¨¡å‹</h2><p>æè¿°äº†å…ƒç´ å¦‚ä½•æ˜¾ç¤ºï¼Œä»¥åŠï¼ˆåœ¨ä¸€å®šç¨‹åº¦ä¸Šï¼‰å¦‚ä½•ç›¸äº’ä½œç”¨ã€ç›¸äº’å½±å“ã€‚é¡µé¢ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½è¢«çœ‹ä½œä¸ºä¸€ä¸ªçŸ©å½¢ç›’å­ï¼Œè¿™ä¸ªç›’å­åŒ…å«å…ƒç´ çš„å†…å®¹ã€å†…è¾¹è·ã€è¾¹æ¡†ã€å¤–è¾¹è·ã€‚</p>
<p>ç›’æ¨¡å‹åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li><p>æ ‡å‡†ç›’æ¨¡å‹ï¼ˆbox-sizing = content-boxï¼‰</p>
<p>width = content-width</p>
<p>height = content-height</p>
</li>
<li><p>IEç›’æ¨¡å‹ï¼ˆbox-sizing = border-boxï¼‰</p>
<p>width = content-width + padding + border</p>
<p>height = content-height + padding + border</p>
</li>
</ul>
<h2 id="å±‚å ä¸Šä¸‹æ–‡"><a href="#å±‚å ä¸Šä¸‹æ–‡" class="headerlink" title="å±‚å ä¸Šä¸‹æ–‡"></a>å±‚å ä¸Šä¸‹æ–‡</h2><p>å±‚å ä¸Šä¸‹æ–‡æ˜¯<strong>åŒ…å«ä¸€ç»„å›¾å±‚çš„å…ƒç´ </strong>ã€‚ åœ¨ä¸€ç»„å±‚å ä¸Šä¸‹æ–‡ä¸­ï¼Œå…¶å­å…ƒç´ çš„<strong>z-indexå€¼æ˜¯ç›¸å¯¹äºè¯¥çˆ¶å…ƒç´ </strong>è€Œä¸æ˜¯ <code>document root</code> è®¾ç½®çš„ã€‚æ¯ä¸ªå±‚å ä¸Šä¸‹æ–‡å®Œå…¨ç‹¬ç«‹äºå®ƒçš„å…„å¼Ÿå…ƒç´ ã€‚å¦‚æœå…ƒç´  B ä½äºå…ƒç´  A ä¹‹ä¸Šï¼Œåˆ™å³ä½¿å…ƒç´  A çš„å­å…ƒç´  C å…·æœ‰æ¯”å…ƒç´  B æ›´é«˜çš„<code>z-index</code>å€¼ï¼Œå…ƒç´  C ä¹Ÿæ°¸è¿œä¸ä¼šåœ¨å…ƒç´  B ä¹‹ä¸Š.</p>
<p>CSS ä¸­çš„<code>z-index</code>å±æ€§æ§åˆ¶é‡å å…ƒç´ çš„å‚ç›´å åŠ é¡ºåºã€‚<code>z-index</code>åªèƒ½å½±å“<code>position</code>å€¼ä¸æ˜¯<code>static</code>çš„å…ƒç´ ã€‚</p>
<p>äº§ç”Ÿå±‚å ä¸Šä¸‹æ–‡ï¼š</p>
<ol>
<li><p>HTMLä¸­çš„æ ¹å…ƒç´ <code>&lt;html&gt;&lt;/html&gt;</code>æœ¬èº«å°±å…·æœ‰å±‚å ä¸Šä¸‹æ–‡ï¼Œç§°ä¸º<strong>æ ¹å±‚å ä¸Šä¸‹æ–‡</strong>ã€‚</p>
</li>
<li><p>æ™®é€šå…ƒç´ è®¾ç½®<code>position</code>å±æ€§ä¸º<strong>é</strong><code>static</code>å€¼å¹¶è®¾ç½®<code>z-index</code>å±æ€§ä¸ºå…·ä½“æ•°å€¼ï¼Œäº§ç”Ÿå±‚å ä¸Šä¸‹æ–‡ã€‚</p>
</li>
<li><p>CSS3ä¸­çš„æ–°å±æ€§ä¹Ÿå¯ä»¥äº§ç”Ÿå±‚å ä¸Šä¸‹æ–‡ã€‚</p>
</li>
<li><ul>
<li>çˆ¶å…ƒç´ çš„displayå±æ€§å€¼ä¸º<code>flex|inline-flex</code>ï¼Œå­å…ƒç´ <code>z-index</code>å±æ€§å€¼ä¸ä¸º<code>auto</code>çš„æ—¶å€™ï¼Œå­å…ƒç´ ä¸ºå±‚å ä¸Šä¸‹æ–‡å…ƒç´ ï¼›</li>
<li>å…ƒç´ çš„<code>opacity</code>å±æ€§å€¼ä¸æ˜¯1ï¼›</li>
<li>å…ƒç´ çš„<code>transform</code>å±æ€§å€¼ä¸æ˜¯<code>none</code>ï¼›</li>
<li>å…ƒç´ <code>mix-blend-mode</code>å±æ€§å€¼ä¸æ˜¯normalï¼›</li>
<li>å…ƒç´ çš„<code>filter</code>å±æ€§å€¼ä¸æ˜¯<code>none</code>ï¼›</li>
</ul>
</li>
</ol>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/z-index.png" alt="z-index"></p>
<h2 id="linkæ ‡ç­¾çš„relå±æ€§"><a href="#linkæ ‡ç­¾çš„relå±æ€§" class="headerlink" title="linkæ ‡ç­¾çš„relå±æ€§"></a>linkæ ‡ç­¾çš„relå±æ€§</h2><ul>
<li><p><code>preload</code></p>
<p>è®©ä½ åœ¨ä½ çš„HTMLé¡µé¢ä¸­ <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/head" target="_blank" rel="noopener">``</a>å…ƒç´ å†…éƒ¨ä¹¦å†™ä¸€äº›å£°æ˜å¼çš„èµ„æºè·å–è¯·æ±‚ï¼Œå¯ä»¥æŒ‡æ˜å“ªäº›èµ„æºæ˜¯åœ¨é¡µé¢åŠ è½½å®Œæˆåå³åˆ»éœ€è¦çš„ã€‚å¯¹äºè¿™ç§å³åˆ»éœ€è¦çš„èµ„æºï¼Œä½ å¯èƒ½å¸Œæœ›åœ¨é¡µé¢åŠ è½½çš„ç”Ÿå‘½å‘¨æœŸçš„æ—©æœŸé˜¶æ®µå°±å¼€å§‹è·å–ï¼Œåœ¨æµè§ˆå™¨çš„ä¸»æ¸²æŸ“æœºåˆ¶ä»‹å…¥å‰å°±è¿›è¡Œé¢„åŠ è½½ã€‚è¿™ä¸€æœºåˆ¶ä½¿å¾—èµ„æºå¯ä»¥æ›´æ—©çš„å¾—åˆ°åŠ è½½å¹¶å¯ç”¨ï¼Œä¸”æ›´ä¸æ˜“é˜»å¡é¡µé¢çš„åˆæ­¥æ¸²æŸ“ï¼Œè¿›è€Œæå‡æ€§èƒ½ã€‚</p>
</li>
<li><p><code>prefetch</code></p>
<p>æç¤ºæµè§ˆå™¨ï¼Œç”¨æˆ·æœªæ¥çš„æµè§ˆæœ‰å¯èƒ½éœ€è¦åŠ è½½ç›®æ ‡èµ„æºï¼Œæ‰€ä»¥æµè§ˆå™¨æœ‰å¯èƒ½é€šè¿‡äº‹å…ˆè·å–å’Œç¼“å­˜å¯¹åº”èµ„æºï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚</p>
</li>
</ul>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/03/12/webpackå­¦ä¹ -0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/03/12/webpackå­¦ä¹ -0/" class="post-title-link" itemprop="url">webpackå­¦ä¹ -0</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-03-12 23:51:35" itemprop="dateCreated datePublished" datetime="2020-03-12T23:51:35+08:00">2020-03-12</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-13 23:20:33" itemprop="dateModified" datetime="2020-04-13T23:20:33+08:00">2020-04-13</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/webpack/" itemprop="url" rel="index">
                    <span itemprop="name">webpack</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h2><p><code>webpack</code>æ˜¯ä¸€ä¸ªç°ä»£çš„<code>JavaScript</code>åº”ç”¨ç¨‹åºæ‰“åŒ…å·¥å…·ã€‚å½“<code>webpack</code>å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œä¼šé€’å½’æ„å»ºä¸€ä¸ª<strong>ä¾èµ–å…³ç³»å›¾</strong>ï¼Œå…¶ä¸­åŒ…å«åº”ç”¨ç¨‹åºéœ€è¦çš„æ¯ä¸ªæ¨¡å—ï¼Œç„¶åå°†è¿™ä¸ªæ¨¡å—æ‰“åŒ…æˆä¸€ä¸ªæˆ–å¤šä¸ªbundle</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/webpack-0.png" alt="æ¦‚å¿µå›¾"></p>
<h2 id="webpackçš„æ ¸å¿ƒæ¦‚å¿µ"><a href="#webpackçš„æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="webpackçš„æ ¸å¿ƒæ¦‚å¿µ"></a>webpackçš„æ ¸å¿ƒæ¦‚å¿µ</h2><ul>
<li><p><code>entry</code>ï¼ˆå…¥å£ï¼‰</p>
<p>å…¥å£æŒ‡ç¤º<code>webpack</code>åº”è¯¥ä½¿ç”¨å“ªä¸ªæ¨¡å—æ¥ä½œä¸ºæ„å»ºå…¶å†…éƒ¨<strong>ä¾èµ–å›¾</strong>çš„å¼€å§‹ã€‚è¿›å…¥å…¥å£èµ·ç‚¹åï¼Œ<code>webpack</code>ä¼šæ‰¾å‡ºæœ‰å“ªäº›æ¨¡å—æ˜¯åº“å…¥å£èµ·ç‚¹ï¼ˆç›´æ¥å’Œé—´æ¥ï¼‰ä¾èµ–çš„</p>
<p>æ¯ä¸ªä¾èµ–é¡¹éšå³è¢«å¤„ç†ï¼Œæœ€åè¾“å‡ºåˆ°ç§°ä¹‹ä¸º<code>bundles</code>çš„æ–‡ä»¶ä¸­ã€‚</p>
<p>å¯ä»¥é€šè¿‡åœ¨<code>webpack</code>é…ç½®ä¸­é…ç½®entryå±æ€§æ¥æŒ‡å®šä¸€ä¸ªæˆ–å¤šä¸ªå…¥å£èµ·ç‚¹ã€‚é»˜è®¤ä¸º<code>./src</code></p>
</li>
<li><p><code>output</code>ï¼ˆå‡ºå£ï¼‰</p>
<p><code>output</code>å‘Šè¯‰<code>webpack</code>åœ¨å“ªè¾“å‡ºå®ƒæ‰€åˆ›å»ºçš„<code>bundles</code>ï¼Œä»¥åŠå¦‚ä½•å‘½åè¿™äº›æ–‡ä»¶ï¼Œé»˜è®¤å€¼ä¸º<code>./dist</code>ã€‚åŸºæœ¬ä¸Šï¼Œæ•´ä¸ªåº”ç”¨ç¨‹åºç»“æ„éƒ½ä¼šè¢«ç¼–è¯‘åˆ°æŒ‡å®šçš„è¾“å‡ºè·¯å¾„çš„æ–‡ä»¶å¤¹ä¸­ã€‚å¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ä¸­çš„<code>output</code>å­—æ®µæ¥æŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶å¤¹</p>
</li>
<li><p><code>loader</code></p>
<p><code>loader</code>è®©<code>webpack</code>èƒ½å¤Ÿå»å¤„ç†é‚£äº›é<code>JavaScript</code>æ–‡ä»¶ï¼ˆ<code>webpack</code>è‡ªèº«åªç†è§£<code>JavaScript</code>ï¼‰ã€‚<code>loader</code>èƒ½å¤Ÿå°†æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶è½¬æ¢ä¸º<code>webpack</code>èƒ½å¤Ÿå¤„ç†çš„æœ‰æ•ˆæ¨¡å—ï¼Œç„¶åå°±å¯ä»¥åˆ©ç”¨<code>webpack</code>çš„æ‰“åŒ…èƒ½åŠ›å¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚</p>
<p>åŒä¸€ä¸ª<code>rule</code>ä¸‹çš„å¤šä¸ª<code>loader</code>æ—¶å°†ä»å³å¾€å·¦æ‰§è¡Œ</p>
</li>
<li><p><code>plugin</code></p>
<p><code>loader</code>è¢«ç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œè€Œæ’ä»¶åˆ™å¯ä»¥ç”¨äºæ‰§è¡ŒèŒƒå›´æ›´å¹¿çš„ä»»åŠ¡ã€‚æ’ä»¶çš„èŒƒå›´åŒ…æ‹¬ä»æ‰“åŒ…ä¼˜åŒ–å’Œå‹ç¼©ä¸€ç›´åˆ°é‡æ–°å®šä¹‰ç¯å¢ƒä¸­çš„å˜é‡ï¼Œæ’ä»¶æ¥å£åŠŸèƒ½æå…¶å¼ºå¤§ï¼Œå¯ä»¥ç”¨æ¥å¤„ç†å„ç§å„æ ·çš„ä»»åŠ¡ã€‚</p>
<p>æƒ³è¦ä½¿ç”¨ä¸€ä¸ªæ’ä»¶ï¼Œåªéœ€è¦<code>require</code>å®ƒï¼Œç„¶åæŠŠå®ƒæ·»åŠ åˆ°<code>plugins</code>é…ç½®é¡¹ä¸­ã€‚å¤šæ•°æ’ä»¶å¯ä»¥é€šè¿‡é€‰é¡¹è‡ªå®šä¹‰ã€‚</p>
</li>
</ul>
<h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><p><code>webpack</code>çš„ç›¸å…³é…ç½®ä¸»è¦ç”±æ ¹ç›®å½•ä¸‹çš„<code>webpack.config.js</code>æ¥å®Œæˆ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    mode: <span class="string">'development'</span>,</span><br><span class="line">    entry: [<span class="string">''</span>]</span><br><span class="line">    output: &#123;&#125;,</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">    	rules: [&#123;&#125;]</span><br><span class="line">	&#125;,</span><br><span class="line">    plugins: [&#123;&#125;],</span><br><span class="line">    devServer: &#123;&#125;,</span><br><span class="line">    devtool: <span class="string">'xxx'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¤„ç†JavaScript-babel-loader"><a href="#å¤„ç†JavaScript-babel-loader" class="headerlink" title="å¤„ç†JavaScript:babel-loader"></a>å¤„ç†JavaScript:babel-loader</h2><p><code>webpack</code>æœ¬èº«å¯ä»¥è¯†åˆ«<code>JavaScript</code>ï¼Œä½†ä¸ºäº†å…¼å®¹è€çš„æµè§ˆå™¨ï¼Œéœ€è¦å°†<code>ES6</code>è½¬æ¢ä¸ºå‘åå…¼å®¹ç‰ˆæœ¬çš„<code>JavaScript</code>ä»£ç ï¼Œ<a href="https://babel.docschina.org/" target="_blank" rel="noopener">Babel</a>å°±æ˜¯è¿™ä¹ˆä¸€ç§å·¥å…·é“¾ã€‚</p>
<p>å½“<code>webpack</code>æ‰“åŒ…æºä»£ç æ—¶ï¼Œå¯èƒ½ä¼šå¾ˆéš¾è¿½è¸ªåˆ°é”™è¯¯å’Œè­¦å‘Šåœ¨æºä»£ç ä¸­çš„èµ·å§‹ä½ç½®ã€‚ä¸ºäº†<strong>æ›´å®¹æ˜“è¿½è¸ªé”™è¯¯å’Œè­¦å‘Š</strong>ï¼Œ<code>JavaScript</code>æä¾›äº†<a href="http://blog.teamtreehouse.com/introduction-source-maps" target="_blank" rel="noopener">source map</a>åŠŸèƒ½ï¼Œå°†ç¼–è¯‘åçš„ä»£ç æ˜ å°„å›åŸå§‹ä»£ç ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">        &#123;</span><br><span class="line">            test: <span class="regexp">/\.js?$/</span>,</span><br><span class="line">            use: [<span class="string">'babel-loader'</span>],</span><br><span class="line">            exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// å¼€å¯source-map</span></span><br><span class="line">    devtool: <span class="string">'cheap-module-eval-source-map'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//babel.config.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">api</span>) </span>&#123;</span><br><span class="line">    api.cache(<span class="literal">true</span>)</span><br><span class="line">    <span class="keyword">const</span> presets = [<span class="string">"@babel/preset-env"</span>]</span><br><span class="line">    <span class="keyword">const</span> plugins = [</span><br><span class="line">        [</span><br><span class="line">            <span class="string">"@babel/plugin-transform-runtime"</span>,</span><br><span class="line">            &#123;</span><br><span class="line">                corejs: <span class="number">3</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        presets,</span><br><span class="line">        plugins</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¤„ç†HTML"><a href="#å¤„ç†HTML" class="headerlink" title="å¤„ç†HTML"></a>å¤„ç†HTML</h2><p>æœ‰æ—¶ä¸ºäº†æ¸…é™¤ç¼“å­˜ï¼Œæ‰“åŒ…æ–‡ä»¶æ—¶ä¼šå¸¦æœ‰hashï¼Œé‚£ä¹ˆæ¯æ¬¡ç”Ÿæˆçš„æ–‡ä»¶åä¼šæœ‰æ‰€ä¸åŒã€‚å¦‚æœåœ¨<code>html</code>ä¸­å¼•ç”¨äº†è¿™äº›æ–‡ä»¶ï¼Œåˆ™éœ€è¦æ›´æ”¹å¼•å…¥çš„æ–‡ä»¶åï¼Œæ‰‹å·¥æ”¹åŠ¨ä¸å¯å–ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>html-webpack-plugin</code>æ¥å¸®åŠ©å¤„ç†</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    plugins: [</span><br><span class="line">        <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">            <span class="comment">// templateæŒ‡å®šç”Ÿæˆhtmlçš„æ¨¡æ¿æ–‡ä»¶</span></span><br><span class="line">            template: <span class="string">'./public/index.html'</span>,</span><br><span class="line">            <span class="comment">// é»˜è®¤ç”Ÿæˆåœ¨./dist/index.html</span></span><br><span class="line">            filename: <span class="string">'index.html'</span>,</span><br><span class="line">            minify: &#123;</span><br><span class="line">                removeAttributeQuotes: <span class="literal">false</span>,</span><br><span class="line">                collapseWhitespace: <span class="literal">false</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¤„ç†-ss"><a href="#å¤„ç†-ss" class="headerlink" title="å¤„ç†*ss"></a>å¤„ç†*ss</h2><ul>
<li><code>style-loader</code>ï¼ŒåŠ¨æ€åˆ›å»º<code>style</code>æ ‡ç­¾ï¼Œå°†<code>css</code>æ’å…¥åˆ°<code>head</code>ä¸­</li>
<li><code>css-loader</code>ï¼Œè´Ÿè´£å¤„ç†<code>@import</code>ç­‰è¯­å¥</li>
<li><code>postcss-loader</code>å’Œ<code>autoprefixer</code>ï¼Œè‡ªåŠ¨ç”Ÿæˆæµè§ˆå™¨å…¼å®¹æ€§å‰ç¼€</li>
<li><code>less-loader</code>ï¼Œè´Ÿè´£ç¼–è¯‘<code>.less</code>æ–‡ä»¶</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.(le|c)ss$/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    <span class="string">'style-loader'</span>,</span><br><span class="line">                    <span class="string">'css-loader'</span>,</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'postcss-loader'</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            plugins: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">                                <span class="keyword">return</span> [</span><br><span class="line">                                    <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>)(&#123;</span><br><span class="line">                                        <span class="string">'overrideBrowserslist'</span>: [</span><br><span class="line">                                            <span class="string">"&gt;0.25%"</span>,</span><br><span class="line">                                            <span class="string">'not dead'</span></span><br><span class="line">                                        ]</span><br><span class="line">                                    &#125;)</span><br><span class="line">                                ]</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    <span class="string">'less-loader'</span></span><br><span class="line">                ],</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å¤„ç†æœ¬åœ°èµ„æºæ–‡ä»¶"><a href="#å¤„ç†æœ¬åœ°èµ„æºæ–‡ä»¶" class="headerlink" title="å¤„ç†æœ¬åœ°èµ„æºæ–‡ä»¶"></a>å¤„ç†æœ¬åœ°èµ„æºæ–‡ä»¶</h2><p>å¯ä»¥ä½¿ç”¨url-loaderæˆ–file-loaderæ¥å¤„ç†æœ¬åœ°çš„èµ„æºæ–‡ä»¶ã€‚url-loaderå’Œfile-loaderåŠŸèƒ½ç±»ä¼¼ï¼Œä½†æ˜¯url-loaderå¯ä»¥æŒ‡å®šæ–‡ä»¶åœ¨å°äºæŸä¸€ç‰¹å®šå€¼ä¸‹è¿”å›DataURLï¼Œå¯ä»¥å‡å°‘httpè¯·æ±‚ï¼Œæ¨èä½¿ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.(png|jpg|gif|jpeg|svg|ttf)$/</span>,</span><br><span class="line">                use: [</span><br><span class="line">                    &#123;</span><br><span class="line">                        loader: <span class="string">'url-loader'</span>,</span><br><span class="line">                        options: &#123;</span><br><span class="line">                            limit: <span class="number">10240</span>,</span><br><span class="line">                            esModule: <span class="literal">false</span>,</span><br><span class="line">                            name: <span class="string">'assets/[name]_[hash:6].[ext]'</span></span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                ],</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤å¤–ï¼Œå¯¹äºhtmlä¸­çš„å›¾ç‰‡ï¼Œurl-loaderåˆ™æ— èƒ½ä¸ºåŠ›ï¼Œæ­¤æ—¶éœ€è¦<code>html-withimg-loader</code>æ¥ååŠ©</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">    <span class="built_in">module</span>: &#123;</span><br><span class="line">        rules: [</span><br><span class="line">            &#123;</span><br><span class="line">                test: <span class="regexp">/\.html/</span>,</span><br><span class="line">                use: [<span class="string">'html-withimg-loader'</span>],</span><br><span class="line">                exclude: <span class="regexp">/node_modules/</span></span><br><span class="line">            &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/03/10/vuexå‰–æ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/03/10/vuexå‰–æ/" class="post-title-link" itemprop="url">vuexå‰–æ</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-03-10 20:50:56" itemprop="dateCreated datePublished" datetime="2020-03-10T20:50:56+08:00">2020-03-10</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-04-26 19:18:53" itemprop="dateModified" datetime="2020-04-26T19:18:53+08:00">2020-04-26</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vue-js/" itemprop="url" rel="index">
                    <span itemprop="name">Vue.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>vuexæ˜¯ä¸“é—¨ä¸ºVue.jsè®¾è®¡çš„<strong>çŠ¶æ€ç®¡ç†å·¥å…·</strong>ï¼Œå®ƒé‡‡ç”¨<strong>é›†ä¸­å¼å­˜å‚¨</strong>ç®¡ç†åº”ç”¨çš„æ‰€æœ‰çŠ¶æ€ï¼Œå¹¶ä»¥ç›¸åº”çš„è§„åˆ™ä¿è¯çŠ¶æ€ä»¥ä¸€ç§å¯é¢„æµ‹çš„æ–¹å¼å‘ç”Ÿå˜åŒ–ã€‚</p>
<h2 id="vuexçš„æ„æˆ"><a href="#vuexçš„æ„æˆ" class="headerlink" title="vuexçš„æ„æˆ"></a>vuexçš„æ„æˆ</h2><ul>
<li><p>å¼•å…¥<code>State</code>ã€<code>Getter</code>å¯¹çŠ¶æ€è¿›è¡Œå®šä¹‰</p>
</li>
<li><p>ä½¿ç”¨<code>Mutation</code>ã€<code>Action</code>å¯¹çŠ¶æ€è¿›è¡Œä¿®æ”¹</p>
</li>
<li><p>ä½¿ç”¨<code>Module</code>å¯¹çŠ¶æ€è¿›è¡Œæ¨¡å—åŒ–åˆ†å‰²</p>
</li>
<li><p>å¼•å…¥æ’ä»¶å¯¹çŠ¶æ€è¿›è¡Œå¿«ç…§ã€è®°å½•ã€è·Ÿè¸ªç­‰</p>
</li>
<li><p>æä¾›<code>mapState</code>ã€<code>mapGetters</code>ã€<code>mapActions</code>ã€<code>mapMutations</code>è¾…åŠ©å‡½æ•°æ–¹ä¾¿å¼€å‘è€…å¤„ç†store</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/vuex-0.png" alt="vuexç»„æˆ"></p>
</li>
</ul>
<h2 id="vuexåŸç†"><a href="#vuexåŸç†" class="headerlink" title="vuexåŸç†"></a>vuexåŸç†</h2><h3 id="vuexçš„storeæ˜¯å¦‚ä½•æ³¨å…¥åˆ°ç»„ä»¶ä¸­çš„"><a href="#vuexçš„storeæ˜¯å¦‚ä½•æ³¨å…¥åˆ°ç»„ä»¶ä¸­çš„" class="headerlink" title="vuexçš„storeæ˜¯å¦‚ä½•æ³¨å…¥åˆ°ç»„ä»¶ä¸­çš„"></a>vuexçš„storeæ˜¯å¦‚ä½•æ³¨å…¥åˆ°ç»„ä»¶ä¸­çš„</h3><ul>
<li><p>é€šè¿‡vueçš„<a href="https://cn.vuejs.org/v2/guide/mixins.html" target="_blank" rel="noopener">mixin</a>æœºåˆ¶ï¼Œåœ¨<code>install</code>å‡½æ•°ä¸­å€ŸåŠ©äºvueçš„<code>beforeCreate</code>ç”Ÿå‘½å‘¨æœŸå‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Vue.mixin(&#123; <span class="attr">beforeCreate</span>: vuexInit &#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>åœ¨<code>beforeCreate</code>ä¸­è°ƒç”¨vuexInitå°†storeæŒ‚è½½åˆ°å½“å‰å®ä¾‹ä¸Š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">vuexInit</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> options = <span class="keyword">this</span>.$options</span><br><span class="line">    <span class="comment">// store injection</span></span><br><span class="line">    <span class="keyword">if</span> (options.store) &#123;</span><br><span class="line">        <span class="comment">// æ ¹ç»„ä»¶é€šè¿‡options.storeæŒ‚è½½</span></span><br><span class="line">        <span class="keyword">this</span>.$store = <span class="keyword">typeof</span> options.store === <span class="string">'function'</span></span><br><span class="line">            ? options.store()</span><br><span class="line">        	: options.store</span><br><span class="line">        <span class="comment">// å…¶ä½™ç»„ä»¶é€šè¿‡çˆ¶ç»„ä»¶ä¸Šçš„storeæŒ‚è½½</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (options.parent &amp;&amp; options.parent.$store) &#123;</span><br><span class="line">        <span class="keyword">this</span>.$store = options.parent.$store</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/vuex-1.jpg" alt="storeæ³¨å…¥"></p>
</li>
</ul>
<h3 id="vuexçš„stateå’Œgetteræ˜¯å¦‚ä½•æ˜ å°„åˆ°å„ä¸ªç»„ä»¶å®ä¾‹ä¸­è‡ªåŠ¨æ›´æ–°çš„"><a href="#vuexçš„stateå’Œgetteræ˜¯å¦‚ä½•æ˜ å°„åˆ°å„ä¸ªç»„ä»¶å®ä¾‹ä¸­è‡ªåŠ¨æ›´æ–°çš„" class="headerlink" title="vuexçš„stateå’Œgetteræ˜¯å¦‚ä½•æ˜ å°„åˆ°å„ä¸ªç»„ä»¶å®ä¾‹ä¸­è‡ªåŠ¨æ›´æ–°çš„"></a>vuexçš„stateå’Œgetteræ˜¯å¦‚ä½•æ˜ å°„åˆ°å„ä¸ªç»„ä»¶å®ä¾‹ä¸­è‡ªåŠ¨æ›´æ–°çš„</h3><h4 id="state"><a href="#state" class="headerlink" title="state"></a>state</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Store</span> </span>&#123;</span><br><span class="line">    construcor () &#123;</span><br><span class="line">        resetStoreVM()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">get</span> state () &#123;</span><br><span class="line">    	<span class="keyword">return</span> <span class="keyword">this</span>._vm._data.$$state</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resetStoreVM</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">   	store._vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">       	data: &#123;</span><br><span class="line">       		$$state: state</span><br><span class="line">       	&#125;,</span><br><span class="line">      	computed</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»æºç å¾—çŸ¥ï¼Œå½“ä½¿ç”¨<code>this.$store.state.xxx</code>æ—¶ä¼šè¢«ä»£ç†åˆ°<code>store._vm._data.$$state</code>ä¸Šï¼Œè€Œ<code>store._vm</code>æ˜¯ä¸€ä¸ªVueå®ä¾‹ï¼Œç”±äºç¤ºä¾‹ä¸­çš„dataæ˜¯å“åº”å¼çš„ï¼Œæ‰€ä»¥$$stateä¹Ÿæ˜¯å“åº”å¼çš„ï¼Œé‚£ä¹ˆå½“æ›´æ–°stateæ—¶ï¼Œæ‰€æœ‰ç›¸å…³ç»„ä»¶ä¸­çš„stateä¹Ÿä¼šè‡ªåŠ¨æ›´æ–°</p>
<h4 id="getter"><a href="#getter" class="headerlink" title="getter"></a>getter</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resetStoreVM</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    forEachValue(wrappedGetters, (fn, key) =&gt; &#123;</span><br><span class="line">    	<span class="comment">// use computed to leverage its lazy-caching mechanism</span></span><br><span class="line">    	<span class="comment">// direct inline function use will lead to closure preserving oldVm.</span></span><br><span class="line">    	<span class="comment">// using partial to return function with only arguments preserved in closure environment.</span></span><br><span class="line">        computed[key] = partial(fn, store)</span><br><span class="line">        <span class="built_in">Object</span>.defineProperty(store.getters, key, &#123;</span><br><span class="line">            <span class="keyword">get</span>: () =&gt; store._vm[key],</span><br><span class="line">            enumerable: true // for local getters</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»æºç å¾—çŸ¥ï¼Œå½“ä½¿ç”¨<code>this.$store.getter.xxx</code>æ—¶ä¼šè¢«ä»£ç†åˆ°<code>store._vm.xxx</code>ï¼Œå…¶ä¸­æ·»åŠ <code>computed</code>å±æ€§</p>
<p>ä»ä¸Šé¢å¯ä»¥çœ‹å‡ºï¼Œvuexä¸­çš„<code>state</code>æ˜¯å€ŸåŠ©äºä¸€ä¸ªVue.jså®ä¾‹ï¼Œå°†<code>state</code>å­˜å…¥å®ä¾‹çš„<code>data</code>ä¸­ï¼›Vuexä¸­çš„<code>getter</code>åˆ™æ˜¯å€ŸåŠ©äºå®ä¾‹çš„è®¡ç®—å±æ€§<code>computed</code>å®ç°æ•°æ®ç›‘å¬</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/vuex-3.png" alt="stateã€getterå“åº”å¼"></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left" aria-label="ä¸Šä¸€é¡µ"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/imgs/avatar.png"
      alt="Mr.RS">
  <p class="site-author-name" itemprop="name">Mr.RS</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">60</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">åˆ†ç±»</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">55</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
        </a>
      </div>
    
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">åšå®¢å…¨ç«™å…±63.5kå­—</span>
</div>
<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mr.RS</span>
  <br/>
  <div class="powered-by">
    <i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
      æœ¬ç«™è®¿å®¢æ•°:<span id="busuanzi_value_site_uv"></span>
    </span>
  </div>
</div>
<!--
  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">
      
    ä¸»é¢˜ â€“ <a href="https://pisces.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.4.1
  </div>
-->

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/pisces.js?v=7.4.1"></script>
<script src="/js/next-boot.js?v=7.4.1"></script>



  





















  

  

  

</body>
</html>
