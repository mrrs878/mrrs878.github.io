<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/avatar.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/avatar.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/avatar.png?v=7.4.1">
  <link rel="mask-icon" href="/images/avatar.svg?v=7.4.1" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":true},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'å¤åˆ¶',
      copy_success: 'å¤åˆ¶æˆåŠŸ',
      copy_failure: 'å¤åˆ¶å¤±è´¥'
    },
    sidebarPadding: 40
  };
</script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Mr.RS">
<meta property="og:url" content="https://mrrs878.github.io/index.html">
<meta property="og:site_name" content="Mr.RS">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mr.RS">
  <link rel="canonical" href="https://mrrs878.github.io/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: true,
    isPost: false,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Mr.RS</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Mr.RS</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Read The Fucking Source Code!</p>
      
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
        
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>é¦–é¡µ</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>å…³äº</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>æ ‡ç­¾</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>åˆ†ç±»</a>

  </li>
      
    
      
      
        
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>å½’æ¡£</a>

  </li>
      
    
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/06/08/å‰ç«¯æ¶æ„&è½¯å®åŠ›-å¼‚å¸¸ç›‘æ§/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/06/08/å‰ç«¯æ¶æ„&è½¯å®åŠ›-å¼‚å¸¸ç›‘æ§/" class="post-title-link" itemprop="url">å‰ç«¯æ¶æ„&è½¯å®åŠ›-å¼‚å¸¸ç›‘æ§</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-06-08 22:33:01 / ä¿®æ”¹æ—¶é—´ï¼š23:02:11" itemprop="dateCreated datePublished" datetime="2020-06-08T22:33:01+08:00">2020-06-08</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¶æ„-è½¯å®åŠ›/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¶æ„/è½¯å®åŠ›</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="JavaScriptä¸­çš„å¼‚å¸¸å¤„ç†æ–¹å¼"><a href="#JavaScriptä¸­çš„å¼‚å¸¸å¤„ç†æ–¹å¼" class="headerlink" title="JavaScriptä¸­çš„å¼‚å¸¸å¤„ç†æ–¹å¼"></a>JavaScriptä¸­çš„å¼‚å¸¸å¤„ç†æ–¹å¼</h1><p>å¯¹äºJavaScriptè€Œè¨€ï¼Œæˆ‘ä»¬é¢å¯¹çš„ä»…ä»…åªæ˜¯å¼‚å¸¸ï¼Œå¼‚å¸¸çš„å‡ºç°å¹¶ä¸ä¼šç›´æ¥å¯¼è‡´JavaScriptå¼•æ“å´©æºƒï¼Œæœ€å¤šåªä¼šä½¿å½“å‰æ‰§è¡Œçš„ä»»åŠ¡ç»ˆæ­¢</p>
<ol>
<li>å½“å‰ä»£ç å—å°†ä½œä¸ºä¸€ä¸ªä»»åŠ¡å‹å…¥ä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼ŒJavaScriptå¼•æ“çº¿ç¨‹ä¼šä¸æ–­åœ°ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­æå–ä»»åŠ¡æ‰§è¡Œ</li>
<li>å½“ä»»åŠ¡æ‰§è¡Œè¿‡ç¨‹ä¸­å‡ºç°å¼‚å¸¸ï¼Œä¸”å¼‚å¸¸æ²¡æœ‰æ•è·å¤„ç†ï¼Œåˆ™ä¼šä¸€ç›´æ²¿ç€è°ƒç”¨æ ˆä¸€å±‚å±‚å‘å¤–æŠ›å‡ºï¼Œæœ€ç»ˆç»ˆæ­¢å½“å‰ä»»åŠ¡åœ°æ‰§è¡Œ</li>
<li>JavaScriptå¼•æ“çº¿ç¨‹ç»§ç»­ä»ä»»åŠ¡é˜Ÿåˆ—ä¸­å–å‡ºä¸‹ä¸€ä¸ªä»»åŠ¡ç»§ç»­æ‰§è¡Œ</li>
</ol>
<p>å¼‚å¸¸ä¸»è¦åˆ†ä¸ºä¸¤å¤§ä¸­ï¼š<strong>è¿è¡Œæ—¶é”™è¯¯</strong>å’Œè¯­<strong>æ³•é”™è¯¯</strong>ã€‚è¯­æ³•é”™è¯¯åœ¨ç¼–å†™ä»£ç æœŸé—´å¾ˆå®¹æ˜“è¢«å‘ç°ï¼Œè¿è¡Œæ—¶é”™è¯¯ä¸»è¦ç”±å–å€¼/èµ‹å€¼å¼‚å¸¸ã€å‡½æ•°æ‰§è¡Œå‡ºé”™ç­‰</p>
<h1 id="å¦‚ä½•æ•è·å¼‚å¸¸"><a href="#å¦‚ä½•æ•è·å¼‚å¸¸" class="headerlink" title="å¦‚ä½•æ•è·å¼‚å¸¸"></a>å¦‚ä½•æ•è·å¼‚å¸¸</h1><h2 id="æ•è·æ™®é€šJavaScriptå¼‚å¸¸"><a href="#æ•è·æ™®é€šJavaScriptå¼‚å¸¸" class="headerlink" title="æ•è·æ™®é€šJavaScriptå¼‚å¸¸"></a>æ•è·æ™®é€šJavaScriptå¼‚å¸¸</h2><p>å¯¹äºæ™®é€šçš„JavaScriptå¼‚å¸¸ï¼Œå¸¸è§çš„åšæ³•æ˜¯ä½¿ç”¨<code>try-catch</code>è¿›è¡ŒåŒ…è£¹ï¼Œå½“<code>try</code>ä¸­çš„ä»£ç å—æ‰§è¡Œå‡ºé”™åï¼Œ<code>catch</code>å°†èƒ½æ•æ‰åˆ°å¼‚å¸¸ï¼Œä»£ç ä¹Ÿå¯ä»¥ç»§ç»­æ‰§è¡Œä¸‹å»</p>
<p>ä½†<code>try-catch</code>å¤„ç†å¼‚å¸¸çš„èƒ½åŠ›æœ‰é™ï¼Œ<strong>åªèƒ½æ•æ‰åˆ°è¿è¡Œæ—¶éå¼‚æ­¥é”™è¯¯</strong>ï¼Œå¯¹äºè¯­æ³•é”™è¯¯å’Œå¼‚æ­¥é”™è¯¯å°±æ˜¾å¾—æ— èƒ½ä¸ºåŠ›ï¼Œæ•æ‰ä¸åˆ°</p>
<h2 id="æ•è·å¼‚æ­¥JavaScriptå¼‚å¸¸"><a href="#æ•è·å¼‚æ­¥JavaScriptå¼‚å¸¸" class="headerlink" title="æ•è·å¼‚æ­¥JavaScriptå¼‚å¸¸"></a>æ•è·å¼‚æ­¥JavaScriptå¼‚å¸¸</h2><p><code>window.onerror</code>æ•è·å¼‚å¸¸èƒ½åŠ›æ¯”<code>try-catch</code>ç¨å¾®å¼ºç‚¹ï¼Œæ— è®ºæ˜¯å¼‚æ­¥è¿˜æ˜¯éå¼‚æ­¥è¿è¡Œæ—¶é”™è¯¯ï¼Œ<code>onerror</code>éƒ½èƒ½æ•è·åˆ°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onerror = <span class="function"><span class="keyword">function</span> (<span class="params">msg, url, row, col, error</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æˆ‘çŸ¥é“é”™è¯¯äº†'</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(&#123;</span><br><span class="line">    msg,  url,  row, col, error</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨æ³¨æ„ï¼š</p>
<ul>
<li>åœ¨å®é™…çš„ä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œ<code>windows.onerror</code> ä¸»è¦æ˜¯æ¥æ•è·é¢„æ–™ä¹‹å¤–çš„é”™è¯¯ï¼Œè€Œ <code>try-catch</code> åˆ™æ˜¯ç”¨æ¥åœ¨å¯é¢„è§æƒ…å†µä¸‹ç›‘æ§ç‰¹å®šçš„é”™è¯¯ï¼Œä¸¤è€…ç»“åˆä½¿ç”¨æ›´åŠ é«˜æ•ˆã€‚</li>
<li><code>window.onerror</code> å‡½æ•°åªæœ‰åœ¨è¿”å› true çš„æ—¶å€™ï¼Œå¼‚å¸¸æ‰ä¸ä¼šå‘ä¸ŠæŠ›å‡ºï¼Œå¦åˆ™å³ä½¿æ˜¯çŸ¥é“å¼‚å¸¸çš„å‘ç”Ÿæ§åˆ¶å°è¿˜æ˜¯ä¼šæ˜¾ç¤º</li>
<li><code>window.onerror</code>æ— æ³•æ•è·åˆ°ç½‘ç»œå¼‚å¸¸çš„é”™è¯¯</li>
<li>æ— æ³•æ•è·<code>Promise</code>å¼‚å¸¸</li>
</ul>
<h2 id="æ•è·Promise-å¼‚å¸¸"><a href="#æ•è·Promise-å¼‚å¸¸" class="headerlink" title="æ•è·Promise å¼‚å¸¸"></a>æ•è·<strong>Promise</strong> å¼‚å¸¸</h2><p>é€šè¿‡ <code>Promise</code> å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§£å†³å¼‚æ­¥å›è°ƒåœ°ç‹±çš„é—®é¢˜ï¼Œä½†æ˜¯ä¸€æ—¦ ~å®ä¾‹æŠ›å‡ºå¼‚å¸¸è€Œä½ æ²¡æœ‰ç”¨ <code>catch</code> å»æ•è·çš„è¯ï¼Œ<code>onerror</code> æˆ– <code>try-catch</code> ä¹Ÿæ— èƒ½ä¸ºåŠ›ï¼Œæ— æ³•æ•æ‰åˆ°é”™è¯¯</p>
<p>å¯¹æ­¤å¯ä»¥æ·»åŠ ä¸€ä¸ª <strong><code>Promise</code> å…¨å±€å¼‚å¸¸æ•è·äº‹ä»¶</strong> <code>unhandledrejection</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">"unhandledrejection"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">  e.preventDefault()</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'æˆ‘çŸ¥é“ promise çš„é”™è¯¯äº†'</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(e.reason);</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th></th>
<th><code>åŒæ­¥æ–¹æ³•</code></th>
<th><code>å¼‚æ­¥æ–¹æ³•</code></th>
<th><code>èµ„æºåŠ è½½</code></th>
<th><code>Promise</code></th>
<th><code>async/await</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>try/catch</code></td>
<td>ğŸ‘Œ</td>
<td></td>
<td></td>
<td></td>
<td>ğŸ‘Œ</td>
</tr>
<tr>
<td><code>onerror</code></td>
<td>ğŸ‘Œ</td>
<td>ğŸ‘Œ</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>error Handler</code></td>
<td>ğŸ‘Œ</td>
<td>ğŸ‘Œ</td>
<td>ğŸ‘Œ</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>unhandledrejection</code></td>
<td></td>
<td></td>
<td></td>
<td>ğŸ‘Œ</td>
<td>ğŸ‘Œ</td>
</tr>
</tbody></table>
<h2 id="æ•è·Vue-js-React-jsç­‰é¡¹ç›®ä¸­çš„å¼‚å¸¸"><a href="#æ•è·Vue-js-React-jsç­‰é¡¹ç›®ä¸­çš„å¼‚å¸¸" class="headerlink" title="æ•è·Vue.js/React.jsç­‰é¡¹ç›®ä¸­çš„å¼‚å¸¸"></a>æ•è·Vue.js/React.jsç­‰é¡¹ç›®ä¸­çš„å¼‚å¸¸</h2><ul>
<li><p>Vue.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Vue.config.errorHandler = <span class="function">(<span class="params">err, vm, info</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'error: '</span>, err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>React.js</p>
<p>è‡ªå®šä¹‰<code>ErrorBoundary</code>ç»„ä»¶</p>
</li>
</ul>
<h1 id="ä¸ŠæŠ¥å¼‚å¸¸"><a href="#ä¸ŠæŠ¥å¼‚å¸¸" class="headerlink" title="ä¸ŠæŠ¥å¼‚å¸¸"></a>ä¸ŠæŠ¥å¼‚å¸¸</h1><p>å‚è€ƒï¼š</p>
<p><a href="https://zhuanlan.zhihu.com/p/142418902" target="_blank" rel="noopener">ä»0åˆ°1ï¼ŒVueå¤§ç‰›çš„å‰ç«¯æ­å»ºâ€”â€”å¼‚å¸¸ç›‘æ§ç³»ç»Ÿ</a></p>
<p><a href="https://juejin.im/post/5b53218cf265da0f9313a3de" target="_blank" rel="noopener">å‰ç«¯å¼‚å¸¸ç›‘æ§</a></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/06/04/å‰ç«¯æ¶æ„&è½¯å®åŠ›-å‰ç«¯åŸ‹ç‚¹/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/06/04/å‰ç«¯æ¶æ„&è½¯å®åŠ›-å‰ç«¯åŸ‹ç‚¹/" class="post-title-link" itemprop="url">å‰ç«¯æ¶æ„&è½¯å®åŠ›-å‰ç«¯åŸ‹ç‚¹</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-06-04 22:35:12 / ä¿®æ”¹æ—¶é—´ï¼š23:02:15" itemprop="dateCreated datePublished" datetime="2020-06-04T22:35:12+08:00">2020-06-04</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¶æ„-è½¯å®åŠ›/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¶æ„/è½¯å®åŠ›</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="WHAT"><a href="#WHAT" class="headerlink" title="WHAT"></a>WHAT</h1><p>åœ¨çº¿ä¸Šé¡¹ç›®ä¸­ï¼Œéœ€è¦ç»Ÿè®¡äº§å“ä¸­ç”¨æˆ·è¡Œä¸ºå’Œä½¿ç”¨æƒ…å†µï¼Œä»è€Œå¯ä»¥ä»ç”¨æˆ·å’Œäº§å“çš„è§’åº¦å»äº†è§£ç”¨æˆ·ç¾¤ä½“ï¼Œä»è€Œå‡çº§å’Œè¿­ä»£äº§å“ï¼Œä½¿å…¶æ›´åŠ è´´è¿‘ç”¨æˆ·ã€‚ç”¨æˆ·è¡Œä¸ºæ•°æ®å¯ä»¥é€šè¿‡å‰ç«¯<strong>æ•°æ®ç›‘æ§</strong>çš„æ–¹å¼è·å¾—ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œå‰ç«¯è¿˜éœ€è¦å®ç°<strong>æ€§èƒ½ç›‘æ§</strong>å’Œ<strong>å¼‚å¸¸ç›‘æ§</strong>ã€‚</p>
<p><strong>å®ç°å‰ç«¯ç›‘æ§</strong>æœ‰ä¸‰ä¸ªæ­¥éª¤ï¼š<strong>å‰ç«¯åŸ‹ç‚¹</strong>å’Œä¸ŠæŠ¥ã€æ•°æ®å¤„ç†å’Œæ•°æ®åˆ†æã€‚</p>
<h2 id="æ•°æ®ç›‘æ§"><a href="#æ•°æ®ç›‘æ§" class="headerlink" title="æ•°æ®ç›‘æ§"></a>æ•°æ®ç›‘æ§</h2><p>æ•°æ®ç›‘æ§å°±æ˜¯ç›‘å¬ç”¨æˆ·ä¿¡æ¯å’Œè¡Œä¸ºï¼Œå¸¸è§çš„ç›‘æ§é¡¹æœ‰ï¼š</p>
<ul>
<li>PVï¼ˆpage viewï¼Œé¡µé¢è®¿é—®é‡ï¼‰</li>
<li>UVï¼ˆunique viewï¼Œç‹¬ç«‹è®¿å®¢ï¼‰</li>
<li>ç”¨æˆ·åœ¨æ¯ä¸€ä¸ªé¡µé¢åœç•™çš„æ—¶é—´</li>
<li>ç”¨æˆ·é€šè¿‡ä»€ä¹ˆå…¥å£è®¿é—®è¯¥é¡µé¢</li>
<li>ç”¨æˆ·åœ¨ç›¸åº”é¡µé¢è§¦å‘çš„è¡Œä¸º</li>
</ul>
<h2 id="æ€§èƒ½ç›‘æ§"><a href="#æ€§èƒ½ç›‘æ§" class="headerlink" title="æ€§èƒ½ç›‘æ§"></a>æ€§èƒ½ç›‘æ§</h2><p>æ€§èƒ½ç›‘æ§æŒ‡ç›‘å¬å‰ç«¯çš„æ€§èƒ½ï¼Œä¸»è¦åŒ…æ‹¬ç›‘å¬ç½‘é¡µæˆ–è€…äº§å“åœ¨ç”¨æˆ·ç«¯çš„ä½“éªŒã€‚å¸¸è§çš„æ€§èƒ½ç›‘æ§é¡¹åŒ…æ‹¬ï¼š</p>
<ul>
<li>ä¸åŒç”¨æˆ·ã€ä¸åŒæœºå‹å’Œä¸åŒç³»ç»Ÿä¸‹çš„é¦–å±åŠ è½½æ—¶é—´</li>
<li>httpç­‰è¯·æ±‚çš„å“åº”æ—¶é—´</li>
<li>é™æ€èµ„æºæ•´ä½“ä¸‹è½½æ—¶é—´</li>
<li>é¡µé¢æ¸²æŸ“æ—¶é—´</li>
<li>é¡µé¢äº¤äº’åŠ¨ç”»å®Œæˆæ—¶é—´</li>
</ul>
<h2 id="å¼‚å¸¸ç›‘æ§"><a href="#å¼‚å¸¸ç›‘æ§" class="headerlink" title="å¼‚å¸¸ç›‘æ§"></a>å¼‚å¸¸ç›‘æ§</h2><p>ç”±äºäº§å“çš„å‰ç«¯ä»£ç åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­ä¹Ÿä¼šå‘ç”Ÿå¼‚å¸¸ï¼Œå› æ­¤éœ€è¦å¼•å…¥å¼‚å¸¸ç›‘æ§ã€‚åŠæ—¶çš„ä¸ŠæŠ¥å¼‚å¸¸æƒ…å†µï¼Œå¯ä»¥é¿å…çº¿ä¸Šæ•…éšœçš„å‘ä¸Šã€‚è™½ç„¶å¤§éƒ¨åˆ†å¼‚å¸¸å¯ä»¥é€šè¿‡ try catch çš„æ–¹å¼æ•è·ï¼Œä½†æ˜¯æ¯”å¦‚å†…å­˜æ³„æ¼ä»¥åŠå…¶ä»–å¶ç°çš„å¼‚å¸¸éš¾ä»¥æ•è·ã€‚å¸¸è§çš„éœ€è¦ç›‘æ§çš„å¼‚å¸¸åŒ…æ‹¬ï¼š</p>
<ul>
<li>Javascript çš„å¼‚å¸¸ç›‘æ§</li>
<li>æ ·å¼ä¸¢å¤±çš„å¼‚å¸¸ç›‘æ§</li>
<li>æœåŠ¡å™¨è¯·æ±‚çš„å¼‚å¸¸ç›‘æ§</li>
</ul>
<h1 id="WHY"><a href="#WHY" class="headerlink" title="WHY"></a>WHY</h1><p>è·å–ç”¨æˆ·åŸºæœ¬ä¿¡æ¯ã€è¡Œä¸ºä»¥åŠè·Ÿè¸ªäº§å“åœ¨å®¢æˆ·ç«¯çš„ä½¿ç”¨æƒ…å†µï¼Œå¹¶ä»¥ç›‘æ§æ•°æ®ä¸ºåŸºç¡€ï¼ŒæŒ‡æ˜äº§å“ä¼˜åŒ–çš„æ–¹å‘ã€‚</p>
<h1 id="HOW"><a href="#HOW" class="headerlink" title="HOW"></a>HOW</h1><h2 id="æ‰‹åŠ¨åŸ‹ç‚¹"><a href="#æ‰‹åŠ¨åŸ‹ç‚¹" class="headerlink" title="æ‰‹åŠ¨åŸ‹ç‚¹"></a>æ‰‹åŠ¨åŸ‹ç‚¹</h2><p>ä¹Ÿç§°ä»£ç åŸ‹ç‚¹ï¼Œå³çº¯æ‰‹åŠ¨å†™ä»£ç ï¼Œè°ƒç”¨åŸ‹ç‚¹SDKçš„å‡½æ•°ï¼Œåœ¨éœ€è¦åŸ‹ç‚¹çš„ä¸šåŠ¡é€»è¾‘åŠŸèƒ½ä½ç½®è°ƒç”¨æ¥å£ä¸ŠæŠ¥åŸ‹ç‚¹æ•°æ®ï¼Œåƒ<a href="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%3A%2F%2Fwww.umeng.com%2F" target="_blank" rel="noopener">å‹ç›Ÿ</a>ã€<a href="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%3A%2F%2Ftongji.baidu.com%2Fweb%2Fwelcome%2Flogin" target="_blank" rel="noopener">ç™¾åº¦ç»Ÿè®¡</a>ç­‰ç¬¬ä¸‰æ–¹æ•°æ®ç»Ÿè®¡æœåŠ¡å•†å¤§éƒ½é‡‡ç”¨è¿™ç§æ–¹æ¡ˆã€‚</p>
<p>ä¼˜åŠ¿ï¼š</p>
<ul>
<li>å¯è‡ªå®šä¹‰å±æ€§ï¼Œè‡ªå®šä¹‰äº‹ä»¶</li>
<li>å¯ä»¥ç»†åŒ–éœ€æ±‚</li>
<li>ç›¸æ¯”å…¶ä»–åŸ‹ç‚¹æ–¹å¼å‡å°‘æœåŠ¡å™¨å‹åŠ›</li>
</ul>
<p>åŠ£åŠ¿ï¼š</p>
<ul>
<li>å·¥ç¨‹é‡å¤§çš„è¯ï¼Œæ‰‹åŠ¨åŸ‹ç‚¹ä¼šå‡ºç¿”æ¼æ´ï¼Œä¸æ–¹ä¾¿å®¡æŸ¥</li>
<li>éœ€æ±‚å˜æ›´éœ€é‡æ–°åŸ‹ç‚¹ï¼Œæˆæœ¬é«˜</li>
</ul>
<h2 id="å¯è§†åŒ–åŸ‹ç‚¹"><a href="#å¯è§†åŒ–åŸ‹ç‚¹" class="headerlink" title="å¯è§†åŒ–åŸ‹ç‚¹"></a>å¯è§†åŒ–åŸ‹ç‚¹</h2><p>é€šè¿‡å¯è§†åŒ–äº¤äº’çš„æ‰‹æ®µï¼Œä»£æ›¿ä¸Šè¿°çš„ä»£ç åŸ‹ç‚¹ã€‚å°†ä¸šåŠ¡ä»£ç å’ŒåŸ‹ç‚¹ä»£ç åˆ†ç¦»ï¼Œæä¾›ä¸€ä¸ªå¯è§†åŒ–äº¤äº’çš„é¡µé¢ï¼Œè¾“å…¥ä¸ºä¸šåŠ¡ä»£ç ï¼Œé€šè¿‡è¿™ä¸ªå¯è§†åŒ–ç³»ç»Ÿï¼Œå¯ä»¥åœ¨ä¸šåŠ¡ä»£ç ä¸­è‡ªå®šä¹‰çš„å¢åŠ åŸ‹ç‚¹äº‹ä»¶ç­‰ç­‰ï¼Œæœ€åè¾“å‡ºçš„ä»£ç è€¦åˆäº†ä¸šåŠ¡ä»£ç å’ŒåŸ‹ç‚¹ä»£ç ã€‚ç¼ºç‚¹å°±æ˜¯å¯ä»¥åŸ‹ç‚¹çš„æ§ä»¶æœ‰é™ï¼Œä¸èƒ½æ‰‹åŠ¨å®šåˆ¶ã€‚</p>
<p>å¯è§†åŒ–åŸ‹ç‚¹å¬èµ·æ¥æ¯”è¾ƒé«˜å¤§ä¸Šï¼Œå®é™…ä¸Šè·Ÿä»£ç åŸ‹ç‚¹è¿˜æ˜¯åŒºåˆ«ä¸å¤§ã€‚ä¹Ÿå°±æ˜¯ç”¨ä¸€ä¸ªç³»ç»Ÿæ¥å®ç°æ‰‹åŠ¨æ’å…¥ä»£ç åŸ‹ç‚¹çš„è¿‡ç¨‹ã€‚æ¯”å¦‚å›½å¤–æ¯”è¾ƒæ—©åšå¯è§†åŒ–çš„æ˜¯ <a href="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%3A%2F%2Fmixpanel.com%2F" target="_blank" rel="noopener">Mixpanel</a>ï¼Œå›½å†…è¾ƒæ—©æ”¯æŒå¯è§†åŒ–åŸ‹ç‚¹çš„æœ‰<a href="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%3A%2F%2Fwww.talkingdata.com%2F" target="_blank" rel="noopener">TalkingData</a>ã€<a href="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%3A%2F%2Fzhugeio.com%2F" target="_blank" rel="noopener">è¯¸è‘› IO</a>ï¼Œ2017å¹´è…¾è®¯çš„ <a href="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%3A%2F%2Fmta.qq.com%2F" target="_blank" rel="noopener">MTA</a> ä¹Ÿå®£å¸ƒæ”¯æŒå¯è§†åŒ–åŸ‹ç‚¹ï¼›ç›¸æ¯”äºæ‰‹åŠ¨åŸ‹ç‚¹æ›´æ–°å›°éš¾ï¼ŒåŸ‹ç‚¹æˆæœ¬é«˜çš„é—®é¢˜ï¼Œå¯è§†åŒ–åŸ‹ç‚¹ä¼˜åŒ–äº†ç§»åŠ¨è¿è¥ä¸­æ•°æ®é‡‡é›†çš„æµç¨‹ï¼Œèƒ½å¤Ÿæ”¯æŒäº§å“è¿è¥éšæ—¶è°ƒæ•´åŸ‹ç‚¹ï¼Œæ— éœ€å†èµ°å‘ç‰ˆæµç¨‹ï¼Œç›´æ¥æŠŠé…ç½®ç»“æœæ¨å…¥åˆ°å‰ç«¯ï¼Œæ•°æ®é‡‡é›†æµç¨‹æ›´ç®€åŒ–ï¼Œä¹Ÿæ›´æ–¹ä¾¿äº§å“çš„è¿­ä»£ã€‚</p>
<p>å¯è§†åŒ–åŸ‹ç‚¹ä¸­å¤šæ•°åŸºäºXpathçš„æ–¹æ¡ˆï¼ŒXPath æ˜¯ä¸€é—¨åœ¨ XML æ–‡æ¡£ä¸­æŸ¥æ‰¾ä¿¡æ¯çš„è¯­è¨€ï¼ŒXPath å¯ç”¨æ¥åœ¨ XML æ–‡æ¡£ä¸­å¯¹å…ƒç´ å’Œå±æ€§è¿›è¡Œéå†ã€‚</p>
<h2 id="æ— åŸ‹ç‚¹"><a href="#æ— åŸ‹ç‚¹" class="headerlink" title="æ— åŸ‹ç‚¹"></a>æ— åŸ‹ç‚¹</h2><p>æ— åŸ‹ç‚¹åˆ™æ˜¯å‰ç«¯è‡ªåŠ¨é‡‡é›†å…¨éƒ¨äº‹ä»¶ï¼Œä¸ŠæŠ¥åŸ‹ç‚¹æ•°æ®ï¼Œç”±åç«¯æ¥è¿‡æ»¤å’Œè®¡ç®—å‡ºæœ‰ç”¨çš„æ•°æ®ã€‚</p>
<p>ä¼˜ç‚¹:</p>
<ol>
<li>å‰ç«¯åªè¦ä¸€æ¬¡åŠ è½½åŸ‹ç‚¹è„šæœ¬</li>
</ol>
<p>ç¼ºç‚¹:</p>
<ol>
<li>æœåŠ¡å™¨æ€§èƒ½å‹åŠ›å±±å¤§</li>
</ol>
<p>é‡‡ç”¨æ— åŸ‹ç‚¹æŠ€æœ¯çš„æœ‰ä¸»æµçš„ <a href="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%3A%2F%2Fwww.growingio.com%2F" target="_blank" rel="noopener">GrowingIO</a>ã€<a href="https://links.jianshu.com/go?to=https%3A%2F%2Flink.zhihu.com%2F%3Ftarget%3Dhttps%3A%2F%2Fwww.sensorsdata.cn%2F" target="_blank" rel="noopener">ç¥ç­–</a>ã€‚</p>
<p>å‚è€ƒï¼š</p>
<p><a href="https://segmentfault.com/a/1190000015864670" target="_blank" rel="noopener">å‰ç«¯ç›‘æ§å’Œå‰ç«¯åŸ‹ç‚¹æ–¹æ¡ˆè®¾è®¡</a></p>
<p><a href="https://www.jianshu.com/p/645a26619508" target="_blank" rel="noopener">å°è°ˆå‰ç«¯åŸ‹ç‚¹</a></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/05/12/React.jsç»ƒä¹ -å›¾ç‰‡æ‡’åŠ è½½ï¼ˆé«˜é˜¶ç»„ä»¶å®ç°ï¼‰/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/05/12/React.jsç»ƒä¹ -å›¾ç‰‡æ‡’åŠ è½½ï¼ˆé«˜é˜¶ç»„ä»¶å®ç°ï¼‰/" class="post-title-link" itemprop="url">React.jsç»ƒä¹ -å›¾ç‰‡æ‡’åŠ è½½ï¼ˆé«˜é˜¶ç»„ä»¶å®ç°ï¼‰</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-05-12 23:03:54" itemprop="dateCreated datePublished" datetime="2020-05-12T23:03:54+08:00">2020-05-12</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-06-04 23:02:59" itemprop="dateModified" datetime="2020-06-04T23:02:59+08:00">2020-06-04</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React-js/" itemprop="url" rel="index">
                    <span itemprop="name">React.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="æ‡’åŠ è½½å®ç°æ–¹å¼"><a href="#æ‡’åŠ è½½å®ç°æ–¹å¼" class="headerlink" title="æ‡’åŠ è½½å®ç°æ–¹å¼"></a>æ‡’åŠ è½½å®ç°æ–¹å¼</h1><p>HTML5æ–°APIï¼š<code>new IntersectionObserver(callback)</code></p>
<p>è§‚å¯Ÿä¸€ä¸ªå…ƒç´ åï¼Œå½“å…ƒç´ å‡ºç°åœ¨è§†å£å†…ï¼Œä¼šè§¦å‘å›è°ƒ</p>
<p><a href="[http://blog.p18c.top/2020/04/24/%E5%89%8D%E7%AB%AF%E6%9E%B6%E6%9E%84&%E8%BD%AF%E5%AE%9E%E5%8A%9B-%E9%A2%84%E5%8A%A0%E8%BD%BD&%E6%87%92%E5%8A%A0%E8%BD%BD/](http://blog.p18c.top/2020/04/24/å‰ç«¯æ¶æ„&è½¯å®åŠ›-é¢„åŠ è½½&æ‡’åŠ è½½/)">å…¶ä»–å®ç°æ–¹å¼</a></p>
<h1 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">// MLazyLoad.tsx</span><br><span class="line"></span><br><span class="line">import React, &#123; useEffect, useRef, useState &#125; from &apos;react&apos;;</span><br><span class="line">import &#123; clone &#125; from &apos;ramda&apos;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">interface PropsI &#123;</span><br><span class="line">  element: () =&gt; JSX.Element,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const LazyLoad: React.FC&lt;PropsI&gt; = (props: PropsI) =&gt; &#123;</span><br><span class="line">  const [Element, setElement] = useState&lt;JSX.Element&gt;(props.element());</span><br><span class="line">  const elementRef = useRef&lt;HTMLDivElement&gt;(null);</span><br><span class="line">  useEffect(() =&gt; &#123;</span><br><span class="line">    (async () =&gt; &#123;</span><br><span class="line">      if (!elementRef || !elementRef.current) return;</span><br><span class="line">      const observer = new IntersectionObserver((changes) =&gt; &#123;</span><br><span class="line">        changes.forEach((change) =&gt; &#123;</span><br><span class="line">          if (change.isIntersecting) &#123;</span><br><span class="line">            const Com = clone(Element);</span><br><span class="line">            Com.props.src = Com.props[&apos;data-src&apos;];</span><br><span class="line">            Reflect.deleteProperty(Com.props, &apos;data-src&apos;);</span><br><span class="line">            setElement(Com);</span><br><span class="line">            observer.unobserve(change.target);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">      observer.observe(elementRef.current);</span><br><span class="line">    &#125;)();</span><br><span class="line">  &#125;, []);</span><br><span class="line">  return (</span><br><span class="line">    &lt;div ref=&#123;elementRef&#125;&gt;</span><br><span class="line">      &#123;</span><br><span class="line">        Element</span><br><span class="line">      &#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">export default function (element: () =&gt; JSX.Element) &#123;</span><br><span class="line">  return (</span><br><span class="line">    &lt;LazyLoad element=&#123;element&#125; /&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ä½¿ç”¨æ–¹å¼"><a href="#ä½¿ç”¨æ–¹å¼" class="headerlink" title="ä½¿ç”¨æ–¹å¼"></a>ä½¿ç”¨æ–¹å¼</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">const ImageNode = () =&gt; &lt;img className=&#123;style.itemImg&#125; data-src=&quot;xxx&quot; alt=&quot;&quot; /&gt;;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">	&#123;</span><br><span class="line">        lazyLoad(ImageNode)</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>

<h1 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h1><p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/lazyload.gif" alt="lazyload"></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/05/07/Vue.jså­¦ä¹ -$nextTick/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/05/07/Vue.jså­¦ä¹ -$nextTick/" class="post-title-link" itemprop="url">Vue.jså­¦ä¹ -$nextTick</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-05-07 23:20:25 / ä¿®æ”¹æ—¶é—´ï¼š23:21:32" itemprop="dateCreated datePublished" datetime="2020-05-07T23:20:25+08:00">2020-05-07</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vue-js/" itemprop="url" rel="index">
                    <span itemprop="name">Vue.js</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å¼‚æ­¥æ›´æ–°"><a href="#å¼‚æ­¥æ›´æ–°" class="headerlink" title="å¼‚æ­¥æ›´æ–°"></a><a href="[https://cn.vuejs.org/v2/guide/reactivity.html#%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%E9%98%9F%E5%88%97](https://cn.vuejs.org/v2/guide/reactivity.html#%E5%BC%82%E6%AD%A5%E6%9B%B4%E6%96%B0%E9%98%9F%E5%88%97)">å¼‚æ­¥æ›´æ–°</a></h1><p>Vue åœ¨æ›´æ–° DOM æ—¶æ˜¯å¼‚æ­¥æ‰§è¡Œçš„ã€‚åªè¦ä¾¦å¬åˆ°æ•°æ®å˜åŒ–ï¼ŒVue å°†å¼€å¯ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¹¶ç¼“å†²åœ¨åŒä¸€äº‹ä»¶å¾ªç¯ä¸­å‘ç”Ÿçš„æ‰€æœ‰æ•°æ®å˜æ›´ã€‚å¦‚æœåŒä¸€ä¸ª watcher è¢«å¤šæ¬¡è§¦å‘ï¼Œåªä¼šè¢«æ¨å…¥åˆ°é˜Ÿåˆ—ä¸­ä¸€æ¬¡ã€‚è¿™ç§åœ¨ç¼“å†²æ—¶å»é™¤é‡å¤æ•°æ®å¯¹äºé¿å…ä¸å¿…è¦çš„è®¡ç®—å’Œ DOM æ“ä½œæ˜¯éå¸¸é‡è¦çš„ã€‚ç„¶åï¼Œåœ¨ä¸‹ä¸€ä¸ªçš„äº‹ä»¶å¾ªç¯â€œtickâ€ä¸­ï¼ŒVue åˆ·æ–°é˜Ÿåˆ—å¹¶æ‰§è¡Œå®é™… (å·²å»é‡çš„) å·¥ä½œã€‚Vue åœ¨å†…éƒ¨å¯¹å¼‚æ­¥é˜Ÿåˆ—å°è¯•ä½¿ç”¨åŸç”Ÿçš„ Promise.thenã€MutationObserver å’Œ setImmediateï¼Œå¦‚æœæ‰§è¡Œç¯å¢ƒä¸æ”¯æŒï¼Œåˆ™ä¼šé‡‡ç”¨ setTimeout(fn, 0) ä»£æ›¿ã€‚</p>
<p>è¿™æ ·åšä¸»è¦æ˜¯ä¸ºäº†æå‡æ€§èƒ½ï¼Œå› ä¸ºå¦‚æœåœ¨ä¸»çº¿ç¨‹ä¸­æ›´æ–°DOMï¼Œå¾ªç¯100æ¬¡å°±è¦æ›´æ–°100æ¬¡DOMï¼›ä½†æ˜¯å¦‚æœç­‰å¾…äº‹ä»¶å¾ªç¯å®Œæˆä¹‹åå†æ›´æ–°DOMï¼Œåªéœ€è¦æ›´æ–°ä¸€æ¬¡ã€‚ä¸ºäº†åœ¨æ•°æ®æ›´æ–°æ“ä½œä¹‹åæ“ä½œDOMï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ•°æ®å˜åŒ–ä¹‹åç«‹å³ä½¿ç”¨<code>Vue.nextTick(callback)</code>ï¼›è¿™æ ·å›è°ƒå‡½æ•°ä¼šåœ¨DOMæ›´æ–°å®Œæˆåè¢«è°ƒç”¨ï¼Œå°±å¯ä»¥æ‹¿åˆ°æœ€æ–°çš„DOMå…ƒç´ äº†ã€‚</p>
<h1 id="nextTickæºç åˆ†æ"><a href="#nextTickæºç åˆ†æ" class="headerlink" title="$nextTickæºç åˆ†æ"></a><code>$nextTick</code>æºç åˆ†æ</h1><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// /src/core/util/next-tick.js</span></span><br><span class="line"><span class="keyword">const</span> callbacks = []</span><br><span class="line"><span class="keyword">let</span> pending = <span class="literal">false</span></span><br><span class="line"><span class="keyword">let</span> timerFunc</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">nextTick</span> (<span class="params">cb?: Function, ctx?: Object</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> _resolve</span><br><span class="line">  callbacks.push(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (cb) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        cb.call(ctx)</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">        handleError(e, ctx, <span class="string">'nextTick'</span>)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (_resolve) &#123;</span><br><span class="line">      _resolve(ctx)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">if</span> (!pending) &#123;</span><br><span class="line">    pending = <span class="literal">true</span></span><br><span class="line">    timerFunc()</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// $flow-disable-line</span></span><br><span class="line">  <span class="keyword">if</span> (!cb &amp;&amp; <span class="keyword">typeof</span> <span class="built_in">Promise</span> !== <span class="string">'undefined'</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="params">resolve</span> =&gt;</span> &#123;</span><br><span class="line">      _resolve = resolve</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¯æ¬¡è°ƒç”¨$nextTickå°±æ˜¯åœ¨å‘callbacksæ–°å¢å›è°ƒå‡½æ•°.callbacksæ–°å¢å›è°ƒå‡½æ•°ååˆæ‰§è¡Œäº†timerFuncå‡½æ•°ï¼Œ<code>pending</code>ç”¨æ¥æ ‡è¯†åŒä¸€ä¸ªæ—¶é—´åªèƒ½æ‰§è¡Œä¸€æ¬¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">let</span> isUsingMicroTask = <span class="literal">false</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Promise</span> !== <span class="string">'undefined'</span> &amp;&amp; isNative(<span class="built_in">Promise</span>)) &#123;</span><br><span class="line">  <span class="comment">//åˆ¤æ–­1ï¼šæ˜¯å¦åŸç”Ÿæ”¯æŒPromise</span></span><br><span class="line">  <span class="keyword">const</span> p = <span class="built_in">Promise</span>.resolve()</span><br><span class="line">  timerFunc = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    p.then(flushCallbacks)</span><br><span class="line">    <span class="keyword">if</span> (isIOS) setTimeout(noop)</span><br><span class="line">  &#125;</span><br><span class="line">  isUsingMicroTask = <span class="literal">true</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (!isIE &amp;&amp; <span class="keyword">typeof</span> MutationObserver !== <span class="string">'undefined'</span> &amp;&amp; (</span><br><span class="line">  isNative(MutationObserver) ||</span><br><span class="line">  MutationObserver.toString() === <span class="string">'[object MutationObserverConstructor]'</span></span><br><span class="line">)) &#123;</span><br><span class="line">  <span class="comment">//åˆ¤æ–­2ï¼šæ˜¯å¦åŸç”Ÿæ”¯æŒMutationObserver</span></span><br><span class="line">  <span class="keyword">let</span> counter = <span class="number">1</span></span><br><span class="line">  <span class="keyword">const</span> observer = <span class="keyword">new</span> MutationObserver(flushCallbacks)</span><br><span class="line">  <span class="keyword">const</span> textNode = <span class="built_in">document</span>.createTextNode(<span class="built_in">String</span>(counter))</span><br><span class="line">  observer.observe(textNode, &#123;</span><br><span class="line">    characterData: <span class="literal">true</span></span><br><span class="line">  &#125;)</span><br><span class="line">  timerFunc = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    counter = (counter + <span class="number">1</span>) % <span class="number">2</span></span><br><span class="line">    textNode.data = <span class="built_in">String</span>(counter)</span><br><span class="line">  &#125;</span><br><span class="line">  isUsingMicroTask = <span class="literal">true</span></span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> setImmediate !== <span class="string">'undefined'</span> &amp;&amp; isNative(setImmediate)) &#123;</span><br><span class="line">  <span class="comment">//åˆ¤æ–­3ï¼šæ˜¯å¦åŸç”Ÿæ”¯æŒsetImmediate</span></span><br><span class="line">  timerFunc = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setImmediate(flushCallbacks)</span><br><span class="line">  &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  <span class="comment">//åˆ¤æ–­4ï¼šä¸Šé¢éƒ½ä¸è¡Œï¼Œç›´æ¥ç”¨setTimeout</span></span><br><span class="line">  timerFunc = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    setTimeout(flushCallbacks, <span class="number">0</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>timerFunc</code>åšäº†å››ä¸ªåˆ¤æ–­ï¼Œå¯¹å½“å‰ç¯å¢ƒè¿›è¡Œä¸æ–­çš„é™çº§å¤„ç†ï¼Œå°è¯•ä½¿ç”¨åŸç”Ÿçš„<code>Promise.then</code>ã€<code>MutationObserver</code>å’Œ<code>setImmediate</code>ï¼Œä¸Šè¿°ä¸‰ä¸ªéƒ½ä¸æ”¯æŒæœ€åä½¿ç”¨setTimeoutï¼›é™çº§å¤„ç†çš„ç›®çš„éƒ½æ˜¯å°†<code>flushCallbacks</code>å‡½æ•°æ”¾å…¥å¾®ä»»åŠ¡(åˆ¤æ–­1å’Œåˆ¤æ–­2)æˆ–è€…å®ä»»åŠ¡(åˆ¤æ–­3å’Œåˆ¤æ–­4)ï¼Œç­‰å¾…ä¸‹ä¸€æ¬¡äº‹ä»¶å¾ªç¯æ—¶æ¥æ‰§è¡Œã€‚<code>MutationObserver</code>æ˜¯Html5çš„ä¸€ä¸ªæ–°ç‰¹æ€§ï¼Œç”¨æ¥ç›‘å¬ç›®æ ‡DOMç»“æ„æ˜¯å¦æ”¹å˜ï¼Œä¹Ÿå°±æ˜¯ä»£ç ä¸­æ–°å»ºçš„textNodeï¼›å¦‚æœæ”¹å˜äº†å°±æ‰§è¡Œ<code>MutationObserver</code>æ„é€ å‡½æ•°ä¸­çš„å›è°ƒå‡½æ•°ï¼Œä¸è¿‡æ˜¯å®ƒæ˜¯åœ¨å¾®ä»»åŠ¡ä¸­æ‰§è¡Œçš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">flushCallbacks</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  pending = <span class="literal">false</span></span><br><span class="line">  <span class="keyword">const</span> copies = callbacks.slice(<span class="number">0</span>)</span><br><span class="line">  callbacks.length = <span class="number">0</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; copies.length; i++) &#123;</span><br><span class="line">    copies[i]()</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>flushCallbacks</code>æŠŠ<code>callbacks</code>æ•°ç»„å¤åˆ¶ä¸€ä»½ï¼Œç„¶åæŠŠ<code>callbacks</code>ç½®ä¸ºç©ºï¼Œæœ€åæŠŠå¤åˆ¶å‡ºæ¥çš„æ•°ç»„ä¸­çš„æ¯ä¸ªå‡½æ•°ä¾æ¬¡æ‰§è¡Œä¸€éï¼›æ‰€ä»¥å®ƒçš„ä½œç”¨ä»…ä»…æ˜¯ç”¨æ¥æ‰§è¡Œ<code>callbacksä¸­</code>çš„å›è°ƒå‡½æ•°ã€‚</p>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p><code>$nextTick</code>çš„æ€»ä½“æµç¨‹å¤§è‡´æ˜¯ï¼š</p>
<ol>
<li>æŠŠå›è°ƒå‡½æ•°æ”¾å…¥<code>callbacks</code>ä¸­æ‰§è¡Œï¼Œ<code>callpacks.push</code></li>
<li>å°†æ‰§è¡Œå‡½æ•°æ”¾åˆ°å¾®ä»»åŠ¡ä¼šå®ä»»åŠ¡ä¸­ï¼Œ<code>timerFunc</code></li>
<li>äº‹ä»¶å¾ªç¯åˆ°äº†å¾®ä»»åŠ¡æˆ–å®ä»»åŠ¡ï¼Œæ‰§è¡Œå‡½æ•°ä¾æ¬¡æ‰§è¡Œ<code>callbacks</code>ä¸­çš„å›è°ƒï¼Œ<code>flushCallbacks</code></li>
</ol>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/28/å‰ç«¯æ¶æ„&è½¯å®åŠ›-React-jså¯¹æ¯”Vue-js/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/28/å‰ç«¯æ¶æ„&è½¯å®åŠ›-React-jså¯¹æ¯”Vue-js/" class="post-title-link" itemprop="url">å‰ç«¯æ¶æ„&è½¯å®åŠ›-React.jså¯¹æ¯”Vue.js</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-28 23:09:43" itemprop="dateCreated datePublished" datetime="2020-04-28T23:09:43+08:00">2020-04-28</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-05-06 21:21:19" itemprop="dateModified" datetime="2020-05-06T21:21:19+08:00">2020-05-06</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¶æ„-è½¯å®åŠ›/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¶æ„/è½¯å®åŠ›</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="è®¾è®¡æ€æƒ³"><a href="#è®¾è®¡æ€æƒ³" class="headerlink" title="è®¾è®¡æ€æƒ³"></a>è®¾è®¡æ€æƒ³</h1><h2 id="Vue-js"><a href="#Vue-js" class="headerlink" title="Vue.js"></a>Vue.js</h2><p>æ¸è¿›å¼æ¡†æ¶ï¼Œé‡‡ç”¨è‡ªåº•å‘ä¸Šå¢é‡å¼€å‘çš„æ¨¡å¼ã€‚</p>
<p>æ‰€è°“æ¸è¿›å¼å°±æ˜¯æŠŠæ¡†æ¶åˆ†å±‚ã€‚</p>
<p>æœ€æ ¸å¿ƒçš„éƒ¨åˆ†æ˜¯è§†å›¾å±‚æ¸²æŸ“ï¼Œç„¶åå¾€å¤–æ˜¯ç»„ä»¶ç³»ç»Ÿï¼Œåœ¨è¿™ä¸ªåŸºç¡€ä¸Šå†åŠ å…¥è·¯ç”±æœºåˆ¶ï¼Œå†åŠ å…¥çŠ¶æ€ç®¡ç†ï¼Œæœ€å¤–å±‚æ˜¯æ„å»ºå·¥å…·ã€‚</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/vue-5.png" alt="æ¸è¿›å¼"></p>
<p>æ‰€è°“åˆ†å±‚ï¼Œå°±æ˜¯è¯´æ—¢å¯ä»¥åªç”¨æœ€æ ¸å¿ƒçš„è§†å›¾å±‚æ¸²æŸ“åŠŸèƒ½å¿«é€Ÿå¼€å‘ä¸€äº›éœ€æ±‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€æ•´å¥—å…¨å®¶æ¡¶æ¥å¼€å‘å¤§å‹åº”ç”¨ã€‚Vue.jsç”±è¶³å¤Ÿçš„çµæ´»æ€§æ¥é€‚åº”ä¸åŒçš„éœ€æ±‚ï¼Œæ‰€ä»¥å¼€å‘è€…å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚é€‰æ‹©ä¸åŒçš„å±‚çº§ã€‚</p>
<h2 id="React-js"><a href="#React-js" class="headerlink" title="React.js"></a>React.js</h2><p>å£°æ˜å¼ã€ç»„ä»¶åŒ–</p>
<p>React.jsä½¿åˆ›å»ºäº¤äº’å¼UIå˜å¾—è½»è€Œæ˜“ä¸¾ã€‚ä¸ºåº”ç”¨çš„æ¯ä¸€ä¸ªçŠ¶æ€è®¾è®¡ç®€ä»‹åœ°è¯•å›¾ï¼Œå½“æ•°æ®æ”¹å˜æ—¶React.jså¯ä»¥æœ‰æ•ˆåœ°æ›´æ–°å¹¶æ¸²æŸ“ç»„ä»¶ã€‚æ­¤å¤–ï¼ŒReact.jså¯ä»¥åˆ›å»ºæ‹¥æœ‰å„è‡ªçŠ¶æ€çš„ç»„ä»¶ï¼Œå†ç”±è¿™äº›ç»„ä»¶æ„æˆæ›´åŠ å¤æ‚çš„ UI</p>
<h1 id="ç»„ä»¶é—´æ•°æ®äº¤äº’"><a href="#ç»„ä»¶é—´æ•°æ®äº¤äº’" class="headerlink" title="ç»„ä»¶é—´æ•°æ®äº¤äº’"></a>ç»„ä»¶é—´æ•°æ®äº¤äº’</h1><h2 id="çˆ¶å­ç»„ä»¶"><a href="#çˆ¶å­ç»„ä»¶" class="headerlink" title="çˆ¶å­ç»„ä»¶"></a>çˆ¶å­ç»„ä»¶</h2><h3 id="Vue-js-1"><a href="#Vue-js-1" class="headerlink" title="Vue.js"></a>Vue.js</h3><p>Vue.jsä¸­çˆ¶ç»„ä»¶é€šè¿‡<code>props</code>ä¼ é€’æ•°æ®ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶ä½¿ç”¨<code>$emit</code>è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œçˆ¶ç»„ä»¶ä¸­ç›‘å¬å­ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶è·å–å­ç»„ä»¶ä¼ é€’æ¥çš„æ•°æ®ã€‚</p>
<h3 id="React-js-1"><a href="#React-js-1" class="headerlink" title="React.js"></a>React.js</h3><p>React.jsä¸­çˆ¶ç»„ä»¶ä½¿ç”¨<code>props</code>ä¼ é€’æ•°æ®å’Œå›è°ƒå‡½æ•°ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡<code>props</code>ä¼ ä¸‹æ¥çš„å›è°ƒå‡½æ•°è¿”å›æ•°æ®ï¼Œçˆ¶ç»„ä»¶é€šè¿‡å›è°ƒå‡½æ•°è·å–å­ç»„ä»¶ä¼ é€’ä¸Šæ¥çš„æ•°æ®ã€‚</p>
<h2 id="è·¨çº§ç»„ä»¶"><a href="#è·¨çº§ç»„ä»¶" class="headerlink" title="è·¨çº§ç»„ä»¶"></a>è·¨çº§ç»„ä»¶</h2><h3 id="Vue-js-2"><a href="#Vue-js-2" class="headerlink" title="Vue.js"></a>Vue.js</h3><p>Vue.jsä¸­é€šè¿‡<code>provide / inject</code>åœ¨ç¥–å…ˆç»„ä»¶å‘æ‰€æœ‰å­å­™åä»£æ³¨å…¥ä¸€ä¸ªä¾èµ–ï¼Œä¸è®ºç»„ä»¶å±‚æ¬¡æœ‰å¤šæ·±ï¼Œå¹¶åœ¨èµ·ä¸Šä¸‹æ¸¸å…³ç³»æˆç«‹çš„æ—¶é—´é‡Œå§‹ç»ˆç”Ÿæ•ˆã€‚</p>
<h3 id="React-js-2"><a href="#React-js-2" class="headerlink" title="React.js"></a>React.js</h3><p>React.jsçš„<code>Context</code> æä¾›äº†ä¸€ä¸ªæ— éœ€ä¸ºæ¯å±‚ç»„ä»¶æ‰‹åŠ¨æ·»åŠ  <code>props</code>å°±èƒ½åœ¨ç»„ä»¶æ ‘é—´è¿›è¡Œæ•°æ®ä¼ é€’çš„æ–¹æ³•ã€‚åœ¨çˆ¶ç»„ä»¶åˆ›å»ºä¸€ä¸ª<code>Context</code>å¯¹è±¡ï¼Œé€šè¿‡<code>Context.provider</code>çš„<code>value</code>å±æ€§å‘æ¶ˆè´¹ç»„ä»¶ä¼ å€¼ã€‚</p>
<h1 id="å“åº”å¼åŸç†"><a href="#å“åº”å¼åŸç†" class="headerlink" title="å“åº”å¼åŸç†"></a>å“åº”å¼åŸç†</h1><h2 id="Vue-js-3"><a href="#Vue-js-3" class="headerlink" title="Vue.js"></a>Vue.js</h2><p>Vue.jsé‡‡ç”¨æ•°æ®åŠ«æŒ&amp;å‘å¸ƒ-è®¢é˜…æ¨¡å¼æ¥å®ç°å“åº”å¼ï¼ŒVue.jsåœ¨åˆ›å»º<code>vm</code>çš„æ—¶å€™ï¼Œä¼šå°†æ•°æ®é…ç½®åœ¨å®ä¾‹å½“ä¸­ï¼Œç„¶åé€šè¿‡<code>Object.defineProperty</code>å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼Œä¸ºæ•°æ®åŠ¨æ€æ·»åŠ äº†<code>getter</code>ä¸<code>setter</code>æ–¹æ³•ï¼Œå½“è·å–æ•°æ®çš„æ—¶å€™ä¼šè§¦å‘å¯¹åº”çš„<code>getter</code>æ–¹æ³•ï¼Œå½“è®¾ç½®æ•°æ®çš„æ—¶å€™ä¼šè§¦å‘å¯¹åº”çš„<code>setter</code>æ–¹æ³•ï¼Œä»è€Œè¿›ä¸€æ­¥è§¦å‘<code>vm</code>çš„<code>watcher</code>æ–¹æ³•ï¼Œç„¶åæ•°æ®æ›´æ”¹ï¼Œ<code>vm</code>åˆ™ä¼šè¿›ä¸€æ­¥è§¦å‘è§†å›¾æ›´æ–°æ“ä½œã€‚</p>
<h2 id="React-js-3"><a href="#React-js-3" class="headerlink" title="React.js"></a>React.js</h2><p>React.jsä¸­ç»„ä»¶ä¸å…è®¸é€šè¿‡<code>this.state</code>è¿™ç§æ–¹å¼ç›´æ¥æ›´æ”¹ç»„ä»¶çš„çŠ¶æ€ã€‚è‡ªèº«è®¾ç½®çš„çŠ¶æ€ï¼Œå¯ä»¥é€šè¿‡<code>setState</code>æ¥è¿›è¡Œæ›´æ”¹ã€‚åœ¨<code>setState</code>ä¸­ï¼Œä¼ å…¥ä¸€ä¸ªå¯¹è±¡ï¼Œå°±ä¼šå°†ç»„ä»¶çš„çŠ¶æ€ä¸­é”®å€¼å¯¹çš„éƒ¨åˆ†æ›´æ”¹ï¼Œè¿˜å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå›è°ƒå‡½æ•°å¿…é¡»å‘ä¸Šé¢æ–¹å¼ä¸€æ ·çš„ä¸€ä¸ªå¯¹è±¡å‡½æ•°å¯ä»¥æ¥å—<code>prevState</code>å’Œ<code>props</code>ã€‚React.jsåœ¨æ¥æ”¶åˆ°ç”¨æˆ·çŠ¶æ€æ”¹å˜é€šçŸ¥åï¼Œä¼šæ ¹æ®å½“å‰æ¸²æŸ“æ ‘ï¼Œç»“åˆæœ€æ–°çš„çŠ¶æ€æ”¹å˜ï¼Œé€šè¿‡Diffç®—æ³•ï¼Œè®¡ç®—å‡ºæ ‘ä¸­å˜åŒ–çš„éƒ¨åˆ†ï¼Œç„¶ååªæ›´æ–°å˜åŒ–çš„éƒ¨åˆ†ï¼ˆDOMæ“ä½œï¼‰ï¼Œä»è€Œé¿å…æ•´æ£µæ ‘é‡æ„ï¼Œæé«˜æ€§èƒ½ã€‚</p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/reactSetData.png" alt="Reactæ›´æ–°è¿‡ç¨‹"></p>
<h1 id="Diffç®—æ³•"><a href="#Diffç®—æ³•" class="headerlink" title="Diffç®—æ³•"></a>Diffç®—æ³•</h1><h2 id="Vue-js-4"><a href="#Vue-js-4" class="headerlink" title="Vue.js"></a>Vue.js</h2><ol>
<li>åŒçº§æ¯”è¾ƒï¼Œå†æ¯”è¾ƒå­èŠ‚ç‚¹</li>
<li>å…ˆåˆ¤æ–­ä¸€æ–¹æœ‰å­èŠ‚ç‚¹è€Œå¦ä¸€æ–¹æ²¡æœ‰å­èŠ‚ç‚¹çš„æƒ…å†µ</li>
<li>æ¯”è¾ƒåŒæ–¹éƒ½æœ‰å­èŠ‚ç‚¹çš„æƒ…å†µï¼ˆ<a href="https://www.jianguoyun.com/static/stackedit/[http://blog.p18c.top/2020/03/04/Vue.jsç ”è¯»-è™šæ‹ŸDOM/](http://blog.p18c.top/2020/03/04/Vue.jsç ”è¯»-è™šæ‹ŸDOM/)" target="_blank" rel="noopener">æ ¸å¿ƒdiffç®—æ³•</a>ï¼‰</li>
<li>é€’å½’æ¯”è¾ƒå­èŠ‚ç‚¹</li>
</ol>
<h2 id="React-jsï¼ˆDiffè¯¦è§£ï¼‰"><a href="#React-jsï¼ˆDiffè¯¦è§£ï¼‰" class="headerlink" title="React.jsï¼ˆDiffè¯¦è§£ï¼‰"></a>React.jsï¼ˆ<a href="https://www.jianguoyun.com/static/stackedit/[https://zhuanlan.zhihu.com/p/20346379](https://zhuanlan.zhihu.com/p/20346379)" target="_blank" rel="noopener">Diffè¯¦è§£</a>ï¼‰</h2><p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/reactDomDiff.png" alt="React.js DOM Diff"></p>
<h1 id="ç”Ÿå‘½å‘¨æœŸ"><a href="#ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="ç”Ÿå‘½å‘¨æœŸ"></a>ç”Ÿå‘½å‘¨æœŸ</h1><h2 id="Vue-js-5"><a href="#Vue-js-5" class="headerlink" title="Vue.js"></a>Vue.js</h2><ol>
<li>beforeCreate</li>
</ol>
<p><code>new Vue()</code>åè§¦å‘çš„ç¬¬ä¸€ä¸ªé’©å­ï¼Œåœ¨å½“å‰é˜¶æ®µ<code>data</code>ã€<code>methods</code>ã€<code>computed</code>ä»¥åŠ<code>watch</code>ä¸Šçš„æ•°æ®å’Œæ–¹æ³•å‡ä¸èƒ½è¢«è®¿é—®</p>
<ol>
<li>created</li>
</ol>
<p>åœ¨å®ä¾‹åˆ›å»ºå®Œæˆä¹‹åè§¦å‘ï¼Œå½“å‰é˜¶æ®µå·²å®Œæˆäº†æ•°æ®è§‚æµ‹ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥ä½¿ç”¨æ•°æ®ï¼Œæ›´æ”¹æ•°æ®ï¼Œè¿™æ—¶æ›´æ–°ä¸ä¼šè§¦å‘<code>updated</code>é’©å­ã€‚å¯ä»¥<strong>åšä¸€äº›åˆå§‹æ•°æ®çš„è·å–</strong>ï¼Œåœ¨å½“å‰é˜¶æ®µ<strong>æ— æ³•è®¿é—®DOM</strong>ï¼ˆå¯ä½¿ç”¨vm.$nextTickï¼‰</p>
<ol>
<li>beforeMount</li>
</ol>
<p>å‘ç”Ÿåœ¨æŒ‚è½½ä¹‹å‰ï¼Œåœ¨è¿™ä¹‹å‰templateå·²å¯¼å…¥æ¸²æŸ“å‡½æ•°ç¼–è¯‘ï¼Œè€Œä¸”å½“å‰é˜¶æ®µè™šæ‹ŸDOMå·²åˆ›å»ºå®Œæˆï¼Œå³å°†å¼€å§‹æ¸²æŸ“ã€‚åœ¨æ­¤æ—¶ä¹Ÿå¯ä»¥å¯¹æ•°æ®è¿›è¡Œæ›´æ”¹ï¼Œä¸ä¼šè§¦å‘<code>updated</code></p>
<ol>
<li>mounted</li>
</ol>
<p>åœ¨æŒ‚è½½ä¹‹åè¢«è§¦å‘ã€‚åœ¨å½“å‰é˜¶æ®µï¼ŒçœŸå®çš„DOMè¢«æŒ‚è½½å®Œæ¯•ï¼Œæ•°æ®å®ŒæˆåŒå‘ç»‘å®šï¼Œå¯ä»¥è®¿é—®åˆ°DOMï¼Œå¯ä»¥ä½¿ç”¨<code>$ref</code>å±æ€§å¯¹DOMè¿›è¡Œæ“ä½œ</p>
<ol>
<li>beforeUpdate</li>
</ol>
<p>åœ¨ç•Œé¢å‘ç”Ÿæ›´æ–°ä¹‹å‰è¢«è§¦å‘ã€‚ä¹Ÿå°±æ˜¯å“åº”å¼æ•°æ®å‘ç”Ÿæ”¹å˜ä¹‹å‰ã€è™šæ‹ŸDOMé‡æ–°æ¸²æŸ“ä¹‹å‰è¢«è§¦å‘ï¼Œå¯ä»¥åœ¨æ­¤é˜¶æ®µå¯¹æ•°æ®è¿›è¡Œä¿®æ”¹ï¼Œä¸ä¼šé€ æˆé‡æ¸²æŸ“</p>
<ol>
<li>updated</li>
</ol>
<p>æ—©å‘ç”Ÿæ›´æ–°ä¹‹å‰è¢«è§¦å‘ã€‚å½“å‰é˜¶æ®µDOMå·²å®Œæˆæ›´æ–°ã€‚è¦æ³¨æ„çš„æ˜¯é¿å…åœ¨æ­¤æœŸé—´æ›´æ–°æ•°æ®ï¼Œå› ä¸ºè¿™æ ·å¯èƒ½ä¼šé€ æˆæ— é™å¾ªç¯çš„æ›´æ–°</p>
<ol>
<li>beforeDestory</li>
</ol>
<p>åœ¨å®ä¾‹é”€æ¯ä¹‹å‰è§¦å‘ã€‚åœ¨å½“å‰é˜¶æ®µå®ä¾‹å®Œå…¨å¯ä»¥è¢«ä½¿ç”¨ï¼Œå¯ä»¥åœ¨æ­¤é˜¶æ®µåšäº›å–„åå·¥ä½œï¼Œå¦‚æ¸…é™¤å®šæ—¶å™¨</p>
<ol>
<li>destoryed</li>
</ol>
<p>åœ¨å®ä¾‹é”€æ¯ä¹‹åè§¦å‘ã€‚è¿™æ—¶å€™åªå‰©ä¸‹DOMï¼Œç»„ä»¶å·²è¢«æ‹†è§£ã€æ•°æ®ç»‘å®šè¢«å¸è½½ã€ç›‘å¬è¢«ç§»é™¤ã€å­å®ä¾‹ä¹Ÿç»Ÿç»Ÿè¢«é”€æ¯</p>
<h2 id="React-jsï¼ˆç”Ÿå‘½å‘¨æœŸè¯¦è§£ï¼‰"><a href="#React-jsï¼ˆç”Ÿå‘½å‘¨æœŸè¯¦è§£ï¼‰" class="headerlink" title="React.jsï¼ˆç”Ÿå‘½å‘¨æœŸè¯¦è§£ï¼‰"></a>React.jsï¼ˆ<a href="https://www.jianguoyun.com/static/stackedit/[https://www.jianshu.com/p/b331d0e4b398](https://www.jianshu.com/p/b331d0e4b398)" target="_blank" rel="noopener">ç”Ÿå‘½å‘¨æœŸè¯¦è§£</a>ï¼‰</h2><p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/reactLifeCycle.png" alt="React.jsç”Ÿå‘½å‘¨æœŸ"></p>
<p><img src="https://mrrsblog.oss-cn-shanghai.aliyuncs.com/reactLifeCycle-1.png" alt="React.jsç”Ÿå‘½å‘¨æœŸ1"></p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/28/å‰ç«¯æ¶æ„&è½¯å®åŠ›-æ€§èƒ½ä¼˜åŒ–/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/28/å‰ç«¯æ¶æ„&è½¯å®åŠ›-æ€§èƒ½ä¼˜åŒ–/" class="post-title-link" itemprop="url">å‰ç«¯æ¶æ„&è½¯å®åŠ›-æ€§èƒ½ä¼˜åŒ–</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-28 21:21:05 / ä¿®æ”¹æ—¶é—´ï¼š21:53:47" itemprop="dateCreated datePublished" datetime="2020-04-28T21:21:05+08:00">2020-04-28</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¶æ„-è½¯å®åŠ›/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¶æ„/è½¯å®åŠ›</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ä»é—®é¢˜å‡ºå‘"><a href="#ä»é—®é¢˜å‡ºå‘" class="headerlink" title="ä»é—®é¢˜å‡ºå‘"></a>ä»é—®é¢˜å‡ºå‘</h1><p>ä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½å®Œæˆï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</p>
<ol>
<li>DNSè§£æ</li>
<li>TCPè¿æ¥</li>
<li>å‘é€HTTPè¯·æ±‚</li>
<li>æœåŠ¡ç«¯å¤„ç†è¯·æ±‚ï¼Œè¿”å›HTTPå“åº”</li>
<li>æµè§ˆå™¨æ‹¿åˆ°æ•°æ®ï¼Œè§£æå“åº”å†…å®¹ï¼ŒæŠŠè§£æçš„ç»“æœå±•ç¤ºç»™ç”¨æˆ·</li>
</ol>
<p>å‰ç«¯å¯ä»¥åšçš„ï¼š</p>
<ol>
<li>å‘é€HTTPè¯·æ±‚é˜¶æ®µ</li>
<li>æ¸²æŸ“æœåŠ¡ç«¯å“åº”é˜¶æ®µ</li>
</ol>
<h1 id="ç½‘ç»œå±‚é¢-ä¼˜åŒ–HTTPè¯·æ±‚"><a href="#ç½‘ç»œå±‚é¢-ä¼˜åŒ–HTTPè¯·æ±‚" class="headerlink" title="ç½‘ç»œå±‚é¢-ä¼˜åŒ–HTTPè¯·æ±‚"></a>ç½‘ç»œå±‚é¢-ä¼˜åŒ–HTTPè¯·æ±‚</h1><h2 id="å‡å°‘è¯·æ±‚æ¬¡æ•°"><a href="#å‡å°‘è¯·æ±‚æ¬¡æ•°" class="headerlink" title="å‡å°‘è¯·æ±‚æ¬¡æ•°"></a>å‡å°‘è¯·æ±‚æ¬¡æ•°</h2><ul>
<li>ç²¾çµå›¾</li>
<li>æ‡’åŠ è½½</li>
</ul>
<h2 id="å‡å°‘å•æ¬¡è¯·æ±‚æ‰€èŠ±è´¹çš„æ—¶é—´"><a href="#å‡å°‘å•æ¬¡è¯·æ±‚æ‰€èŠ±è´¹çš„æ—¶é—´" class="headerlink" title="å‡å°‘å•æ¬¡è¯·æ±‚æ‰€èŠ±è´¹çš„æ—¶é—´"></a>å‡å°‘å•æ¬¡è¯·æ±‚æ‰€èŠ±è´¹çš„æ—¶é—´</h2><ul>
<li>æŒ‰éœ€åŠ è½½</li>
<li>gzipå‹ç¼©</li>
</ul>
<h2 id="é€‰ç”¨æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼"><a href="#é€‰ç”¨æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼" class="headerlink" title="é€‰ç”¨æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼"></a>é€‰ç”¨æ­£ç¡®çš„å›¾ç‰‡æ ¼å¼</h2><ul>
<li><p>JPEGï¼Œæœ‰æŸå‹ç¼©ã€ä½“ç§¯å°ã€åŠ è½½å¿«ã€ä¸æ”¯æŒé€æ˜</p>
<p>é€‚ç”¨äºå‘ˆç°è‰²å½©ä¸°å¯Œçš„å›¾ç‰‡ï¼ŒJPGé€šå¸¸ä½œä¸ºå¤§çš„èƒŒæ™¯å›¾ã€è½®æ’­å›¾æˆ–bannerå›¾</p>
</li>
<li><p>PNGï¼Œæ— æŸå‹ç¼©ã€è´¨é‡é«˜ã€ä½“ç§¯å¤§ã€æ”¯æŒé€æ˜</p>
<p>å°çš„logoã€é¢œè‰²ç®€å•ä¸”å¯¹æ¯”å¼ºçƒˆçš„å›¾ç‰‡</p>
</li>
<li><p>SVGï¼Œæ–‡æœ¬æ–‡ä»¶ã€ä½“ç§¯å°ã€ä¸å¤±çœŸã€å…¼å®¹æ€§å¥½</p>
<p>å›¾æ ‡</p>
</li>
<li><p>webPï¼Œå…¨èƒ½å‹é€‰æ‰‹ï¼Œå…¼å®¹æ€§å·®</p>
</li>
</ul>
<h2 id="åˆç†ä½¿ç”¨ç¼“å­˜"><a href="#åˆç†ä½¿ç”¨ç¼“å­˜" class="headerlink" title="åˆç†ä½¿ç”¨ç¼“å­˜"></a><a href="http://blog.p18c.top/2019/06/30/æµè§ˆå™¨ç›¸å…³-ç¼“å­˜/" target="_blank" rel="noopener">åˆç†ä½¿ç”¨ç¼“å­˜</a></h2><p>é€šè¿‡ç½‘ç»œè·å–å†…å®¹æ—¢é€Ÿåº¦ç¼“æ…¢åˆå¼€é”€å·¨å¤§ã€‚è¾ƒå¤§çš„å“åº”éœ€è¦åœ¨å®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´è¿›è¡Œå¤šæ¬¡å¾€è¿”é€šä¿¡ï¼Œè¿™ä¼šå»¶è¿Ÿæµè§ˆå™¨è·å¾—å’Œå¤„ç†å†…å®¹çš„æ—¶é—´ï¼Œè¿˜ä¼šå¢åŠ è®¿é—®è€…çš„æµé‡è´¹ç”¨ã€‚å› æ­¤ï¼Œç¼“å­˜å¹¶é‡å¤åˆ©ç”¨ä¹‹å‰è·å–çš„èµ„æºçš„èƒ½åŠ›æˆä¸ºæ€§èƒ½ä¼˜åŒ–çš„ä¸€ä¸ªå…³é”®æ–¹é¢ã€‚</p>
<h1 id="æ¸²æŸ“é˜¶æ®µ"><a href="#æ¸²æŸ“é˜¶æ®µ" class="headerlink" title="æ¸²æŸ“é˜¶æ®µ"></a>æ¸²æŸ“é˜¶æ®µ</h1><h2 id="æ³¨æ„scriptæ ‡ç­¾æ”¾ç½®çš„ä½ç½®"><a href="#æ³¨æ„scriptæ ‡ç­¾æ”¾ç½®çš„ä½ç½®" class="headerlink" title="æ³¨æ„scriptæ ‡ç­¾æ”¾ç½®çš„ä½ç½®"></a>æ³¨æ„<code>script</code>æ ‡ç­¾æ”¾ç½®çš„ä½ç½®</h2><h2 id="ä½¿ç”¨linkçš„relå±æ€§"><a href="#ä½¿ç”¨linkçš„relå±æ€§" class="headerlink" title="ä½¿ç”¨linkçš„relå±æ€§"></a>ä½¿ç”¨<code>link</code>çš„<code>rel</code>å±æ€§</h2><ul>
<li><p><code>preload</code></p>
<p>å‘Šè¯‰æµè§ˆå™¨ä¸‹è½½èµ„æºï¼Œå› ä¸ºåœ¨å½“å‰å¯¼èˆªæœŸé—´ç¨åå°†éœ€è¦è¯¥èµ„æºã€‚</p>
</li>
<li><p><code>prefetch</code></p>
<p>æç¤ºæµè§ˆå™¨ï¼Œç”¨æˆ·æœªæ¥çš„æµè§ˆæœ‰å¯èƒ½éœ€è¦åŠ è½½ç›®æ ‡èµ„æºï¼Œæ‰€ä»¥æµè§ˆå™¨æœ‰å¯èƒ½é€šè¿‡äº‹å…ˆè·å–å’Œç¼“å­˜å¯¹åº”èµ„æºï¼Œä¼˜åŒ–ç”¨æˆ·ä½“éªŒã€‚</p>
</li>
</ul>
<h2 id="æ‰å¹³åŒ–CSSé€‰æ‹©å™¨ï¼Œé¿å…åµŒå¥—è¿‡æ·±"><a href="#æ‰å¹³åŒ–CSSé€‰æ‹©å™¨ï¼Œé¿å…åµŒå¥—è¿‡æ·±" class="headerlink" title="æ‰å¹³åŒ–CSSé€‰æ‹©å™¨ï¼Œé¿å…åµŒå¥—è¿‡æ·±"></a>æ‰å¹³åŒ–CSSé€‰æ‹©å™¨ï¼Œé¿å…åµŒå¥—è¿‡æ·±</h2><h2 id="å‡å°‘é‡ç»˜ä¸å›æµ"><a href="#å‡å°‘é‡ç»˜ä¸å›æµ" class="headerlink" title="å‡å°‘é‡ç»˜ä¸å›æµ"></a>å‡å°‘é‡ç»˜ä¸å›æµ</h2><ul>
<li>ä½¿ç”¨<code>transform</code>ä»£æ›¿<code>top</code></li>
<li>ä½¿ç”¨<code>visiblity</code>ä»£æ›¿<code>display:none</code></li>
<li>ç›´æ¥æ”¹å˜<code>clsaaName</code>ï¼ˆæŠŠè¦ä¿®æ”¹çš„æ ·å¼é›†ä¸­åˆ°ä¸€ä¸ª<code>class</code>å†…ç»Ÿä¸€ä¿®æ”¹ï¼‰</li>
<li>é¿å…ä½¿ç”¨tableå¸ƒå±€ï¼ˆå°½é‡ä¸è¦ä½¿ç”¨tableå¸ƒå±€ã€‚å¦‚æœæ²¡æœ‰å®šå®½ï¼Œè¡¨æ ¼ä¸€åˆ—çš„å®½åº¦åˆ™ç”±æœ€å®½çš„ä¸€åˆ—å†³å®šï¼Œé‚£ä¸ªå¾ˆå¯èƒ½åœ¨æœ€åä¸€è¡Œçš„å®½åº¦è¶…å‡ºä¹‹å‰çš„åˆ—å®½ï¼Œå¼•èµ·æ•´ä½“å›æµé€ æˆtableå¯èƒ½éœ€è¦å¤šæ¬¡è®¡ç®—æ‰èƒ½ç¡®å®šå¥½å…¶åœ¨æ¸²æŸ“æ ‘ä¸­èŠ‚ç‚¹çš„å±æ€§ï¼‰</li>
</ul>
<h2 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="headerlink" title="äº‹ä»¶å§”æ‰˜"></a>äº‹ä»¶å§”æ‰˜</h2><h2 id="é¿å…æ“ä½œé¢‘ç¹DOM"><a href="#é¿å…æ“ä½œé¢‘ç¹DOM" class="headerlink" title="é¿å…æ“ä½œé¢‘ç¹DOM"></a>é¿å…æ“ä½œé¢‘ç¹DOM</h2><h2 id="å¼‚æ­¥æ›´æ–°DOM-ï¼ˆåŒ…è£…æˆ-micro-ä»»åŠ¡ï¼‰"><a href="#å¼‚æ­¥æ›´æ–°DOM-ï¼ˆåŒ…è£…æˆ-micro-ä»»åŠ¡ï¼‰" class="headerlink" title="å¼‚æ­¥æ›´æ–°DOM ï¼ˆåŒ…è£…æˆ micro ä»»åŠ¡ï¼‰"></a>å¼‚æ­¥æ›´æ–°DOM ï¼ˆåŒ…è£…æˆ micro ä»»åŠ¡ï¼‰</h2><p>ç»“æŸ<code>script</code>è„šæœ¬çš„æ‰§è¡Œ ğŸ‘‰ å¤„ç†microé˜Ÿåˆ— ğŸ‘‰ render</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/25/å‰ç«¯æ¶æ„&è½¯å®åŠ›-JSBridgeåŸç†/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/25/å‰ç«¯æ¶æ„&è½¯å®åŠ›-JSBridgeåŸç†/" class="post-title-link" itemprop="url">å‰ç«¯æ¶æ„&è½¯å®åŠ›-JSBridgeåŸç†</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-25 23:01:48 / ä¿®æ”¹æ—¶é—´ï¼š23:02:23" itemprop="dateCreated datePublished" datetime="2020-04-25T23:01:48+08:00">2020-04-25</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¶æ„-è½¯å®åŠ›/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¶æ„/è½¯å®åŠ›</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ä»€ä¹ˆæ˜¯JSBridge"><a href="#ä»€ä¹ˆæ˜¯JSBridge" class="headerlink" title="ä»€ä¹ˆæ˜¯JSBridge"></a>ä»€ä¹ˆæ˜¯JSBridge</h1><p>JSBridgeæ˜¯ä¸€ç§JavaScriptå®ç°çš„Bridgeï¼Œè¿æ¥ç€æ¡¥ä¸¤ç«¯çš„nativeå’ŒH5ã€‚å®ƒåœ¨APPé‡Œæ–¹ä¾¿åœ°è®©nativeè°ƒç”¨JavaScriptï¼ŒJavaScriptè°ƒç”¨nativeï¼Œæ˜¯åŒå‘é€šä¿¡çš„é€šé“ã€‚</p>
<h1 id="JSBridgeåŒå‘é€šä¿¡åŸç†"><a href="#JSBridgeåŒå‘é€šä¿¡åŸç†" class="headerlink" title="JSBridgeåŒå‘é€šä¿¡åŸç†"></a>JSBridgeåŒå‘é€šä¿¡åŸç†</h1><h2 id="JavaScriptè°ƒç”¨native"><a href="#JavaScriptè°ƒç”¨native" class="headerlink" title="JavaScriptè°ƒç”¨native"></a>JavaScriptè°ƒç”¨native</h2><p>JavaScriptè°ƒç”¨nativeçš„å®ç°æ–¹å¼è¾ƒå¤šï¼Œä¸»è¦æœ‰ï¼š</p>
<ul>
<li>æ‹¦æˆª<code>URL Scheme</code></li>
<li>é‡å†™<code>prompt</code></li>
<li>æ³¨å…¥API</li>
</ul>
<h3 id="æ‹¦æˆªURL-Scheme"><a href="#æ‹¦æˆªURL-Scheme" class="headerlink" title="æ‹¦æˆªURL Scheme"></a>æ‹¦æˆª<code>URL Scheme</code></h3><p>Androidå’ŒiOSéƒ½å¯ä»¥é€šè¿‡æ‹¦æˆª<code>URL Scheme</code>å¹¶è§£æ<code>Scheme</code>æ¥å†³å®šæ˜¯å¦è¿›è¡Œå¯¹åº”çš„nativeä»£ç é€»è¾‘å¤„ç†ã€‚</p>
<p>Android çš„è¯ï¼Œ<code>Webview</code> æä¾›äº† <code>shouldOverrideUrlLoading</code> æ–¹æ³•æ¥æä¾›ç»™ Native æ‹¦æˆª H5 å‘é€çš„ <code>URL Scheme</code> è¯·æ±‚ã€‚</p>
<p>iOS çš„ <code>WKWebview</code> å¯ä»¥æ ¹æ®æ‹¦æˆªåˆ°çš„ <code>URL Scheme</code> å’Œå¯¹åº”çš„å‚æ•°æ‰§è¡Œç›¸å…³çš„æ“ä½œã€‚</p>
<p>è¿™ç§æ–¹æ³•çš„ä¼˜ç‚¹æ˜¯ä¸å­˜åœ¨æ¼æ´é—®é¢˜ã€ä½¿ç”¨çµæ´»ï¼Œå¯ä»¥å®ç° H5 å’Œ Native é¡µé¢çš„æ— ç¼åˆ‡æ¢ã€‚ä¾‹å¦‚åœ¨æŸä¸€é¡µé¢éœ€è¦å¿«é€Ÿä¸Šçº¿çš„æƒ…å†µä¸‹ï¼Œå…ˆå¼€å‘å‡º H5 é¡µé¢ã€‚æŸä¸€é“¾æ¥å¡«å†™çš„æ˜¯ H5 é“¾æ¥ï¼Œåœ¨å¯¹åº”çš„ Native é¡µé¢å¼€å‘å®Œæˆå‰å…ˆè·³è½¬è‡³ H5 é¡µé¢ï¼Œå¾… Native é¡µé¢å¼€å‘å®Œåå†è¿›è¡Œæ‹¦æˆªï¼Œè·³è½¬è‡³ Native é¡µé¢ï¼Œæ­¤æ—¶ H5 çš„é“¾æ¥æ— éœ€è¿›è¡Œä¿®æ”¹ã€‚ä½†æ˜¯ä½¿ç”¨ iframe.src æ¥å‘é€ <code>URL Scheme</code> éœ€è¦å¯¹ URL çš„é•¿åº¦ä½œæ§åˆ¶ï¼Œä½¿ç”¨å¤æ‚ï¼Œé€Ÿåº¦è¾ƒæ…¢ã€‚</p>
<h3 id="é‡å†™-prompt-ç­‰åŸç”Ÿ-JS-æ–¹æ³•"><a href="#é‡å†™-prompt-ç­‰åŸç”Ÿ-JS-æ–¹æ³•" class="headerlink" title="é‡å†™ prompt ç­‰åŸç”Ÿ JS æ–¹æ³•"></a>é‡å†™ prompt ç­‰åŸç”Ÿ JS æ–¹æ³•</h3><p>Android 4.2 ä¹‹å‰æ³¨å…¥å¯¹è±¡çš„æ¥å£æ˜¯ <code>addJavascriptInterface</code> ï¼Œä½†æ˜¯ç”±äºå®‰å…¨åŸå› æ…¢æ…¢ä¸è¢«ä½¿ç”¨ã€‚ä¸€èˆ¬ä¼šé€šè¿‡ä¿®æ”¹æµè§ˆå™¨çš„éƒ¨åˆ† <code>Window</code> å¯¹è±¡çš„æ–¹æ³•æ¥å®Œæˆæ“ä½œã€‚ä¸»è¦æ˜¯æ‹¦æˆª <code>alert</code>ã€<code>confirm</code>ã€<code>prompt</code>ã€<code>console.log</code> å››ä¸ªæ–¹æ³•ï¼Œåˆ†åˆ«è¢« <code>Webview</code> çš„ <code>onJsAlert</code>ã€<code>onJsConfirm</code>ã€<code>onConsoleMessage</code>ã€<code>onJsPrompt</code> ç›‘å¬ã€‚</p>
<p>iOS ç”±äºå®‰å…¨æœºåˆ¶ï¼Œ<code>WKWebView</code> å¯¹ <code>alert</code>ã€<code>confirm</code>ã€<code>prompt</code> ç­‰æ–¹æ³•åšäº†æ‹¦æˆªï¼Œå¦‚æœé€šè¿‡æ­¤æ–¹å¼è¿›è¡Œ Native ä¸ JS äº¤äº’ï¼Œéœ€è¦å®ç° <code>WKWebView</code> çš„ä¸‰ä¸ª <code>WKUIDelegate</code> ä»£ç†æ–¹æ³•ã€‚</p>
<p>ä½¿ç”¨è¯¥æ–¹å¼æ—¶ï¼Œå¯ä»¥ä¸ Android å’Œ iOS çº¦å®šå¥½ä½¿ç”¨ä¼ å‚çš„æ ¼å¼ï¼Œè¿™æ · H5 å¯ä»¥æ— éœ€è¯†åˆ«å®¢æˆ·ç«¯ï¼Œä¼ å…¥ä¸åŒå‚æ•°ç›´æ¥è°ƒç”¨ Native å³å¯ã€‚å‰©ä¸‹çš„äº¤ç»™å®¢æˆ·ç«¯è‡ªå·±å»æ‹¦æˆªç›¸åŒçš„æ–¹æ³•ï¼Œè¯†åˆ«ç›¸åŒçš„å‚æ•°ï¼Œè¿›è¡Œè‡ªå·±çš„å¤„ç†é€»è¾‘å³å¯å®ç°å¤šç«¯è¡¨ç°ä¸€è‡´ã€‚å¦å¤–ï¼Œå¦‚æœèƒ½ä¸ Native ç¡®å®šå¥½æ–¹æ³•åã€ä¼ å‚ç­‰è°ƒç”¨çš„åè®®è§„èŒƒï¼Œè¿™æ ·å…¶å®ƒæ ¼å¼çš„ <code>prompt</code> ç­‰æ–¹æ³•æ˜¯ä¸ä¼šè¢«è¯†åˆ«çš„ï¼Œèƒ½èµ·åˆ°éš”ç¦»çš„ä½œç”¨ã€‚</p>
<h3 id="æ³¨å…¥API"><a href="#æ³¨å…¥API" class="headerlink" title="æ³¨å…¥API"></a>æ³¨å…¥API</h3><p>åŸºäº <code>Webview</code> æä¾›çš„èƒ½åŠ›ï¼Œå¯ä»¥å‘ <code>Window</code> ä¸Šæ³¨å…¥å¯¹è±¡æˆ–æ–¹æ³•ã€‚JavaScript é€šè¿‡è¿™ä¸ªå¯¹è±¡æˆ–æ–¹æ³•è¿›è¡Œè°ƒç”¨æ—¶ï¼Œæ‰§è¡Œå¯¹åº”çš„é€»è¾‘æ“ä½œï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ Native çš„æ–¹æ³•ã€‚ä½¿ç”¨è¯¥æ–¹å¼æ—¶ï¼ŒJavaScript éœ€è¦ç­‰åˆ° Native æ‰§è¡Œå®Œå¯¹åº”çš„é€»è¾‘åæ‰èƒ½è¿›è¡Œå›è°ƒé‡Œé¢çš„æ“ä½œã€‚</p>
<p>Android çš„ <code>Webview</code> æä¾›äº† <code>addJavascriptInterface</code> æ–¹æ³•ï¼Œæ”¯æŒ Android 4.2 åŠä»¥ä¸Šç³»ç»Ÿã€‚</p>
<p>iOS çš„ <code>UIWebview</code> æä¾›äº† <code>JavaScriptScore</code> æ–¹æ³•ï¼Œæ”¯æŒ iOS 7.0 åŠä»¥ä¸Šç³»ç»Ÿã€‚<code>WKWebview</code> æä¾›äº† <code>window.webkit.messageHandlers</code> æ–¹æ³•ï¼Œæ”¯æŒ iOS 8.0 åŠä»¥ä¸Šç³»ç»Ÿã€‚<code>UIWebview</code> åœ¨å‡ å¹´å‰å¸¸ç”¨ï¼Œç›®å‰å·²ä¸å¸¸è§ã€‚</p>
<h2 id="nativeè°ƒç”¨JavaScript"><a href="#nativeè°ƒç”¨JavaScript" class="headerlink" title="nativeè°ƒç”¨JavaScript"></a>nativeè°ƒç”¨JavaScript</h2><p>nativeè°ƒç”¨JavaScriptåªéœ€H5å°†JavaScriptæ–¹æ³•æš´éœ²åœ¨<code>window</code>ä¸Šç»™nativeè°ƒç”¨å³å¯</p>
<p>Androidä¸­ä¸»è¦æœ‰ä¸¤ç§æ–¹å¼å®ç°ã€‚åœ¨4.4ä¹‹å‰ï¼Œé€šè¿‡loadUrlæ–¹æ³•ï¼Œæ‰§è¡Œä¸€æ®µJavaScriptä»£ç æ¥å®ç°ã€‚åœ¨4.4ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨<code>evaluateJavascript</code>æ–¹æ³•å®ç°ã€‚loadUrlæ–¹æ³•ä½¿ç”¨èµ·æ¥æ–¹ä¾¿ç®€æ´ï¼Œä½†æ˜¯æ•ˆç‡ä½æ— æ³•è·å¾—è¿”å›ç»“æœä¸”è°ƒç”¨çš„æ—¶å€™ä¼šåˆ·æ–°webviewã€‚evaluateJavascriptæ–¹æ³•æ•ˆç‡é«˜ä¸”è·å–è¿”å›å€¼æ–¹ä¾¿ï¼Œè°ƒç”¨æ—¶ä¸åˆ·æ–°<code>webview</code>ï¼Œæ”¯æŒ4.4+</p>
<p>iOSåœ¨<code>WKWebview</code>ä¸­å¯ä»¥é€šè¿‡<code>evaluateJavascript:javascriptString</code>æ¥å®ç°ï¼Œæ”¯æŒ8.0+</p>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/24/JavaScript-æ¨¡å—åŒ–æœºåˆ¶/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/24/JavaScript-æ¨¡å—åŒ–æœºåˆ¶/" class="post-title-link" itemprop="url">JavaScript-æ¨¡å—åŒ–æœºåˆ¶</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-24 22:55:14 / ä¿®æ”¹æ—¶é—´ï¼š22:55:47" itemprop="dateCreated datePublished" datetime="2020-04-24T22:55:14+08:00">2020-04-24</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/JavaScript/" itemprop="url" rel="index">
                    <span itemprop="name">JavaScript</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="AMD"><a href="#AMD" class="headerlink" title="AMD"></a>AMD</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>å…¨ç§°æ˜¯Asynchronous Module Definitionï¼ˆå¼‚æ­¥æ¨¡å—åŠ è½½æœºåˆ¶ï¼‰ã€‚åæ¥ç”±è¯¥è‰æ¡ˆçš„ä½œè€…ä»¥RequireJSå®ç°äº†è¯¥è§„èŒƒï¼Œæ‰€ä»¥ä¸€èˆ¬è¯´AMDä¹Ÿæ˜¯æŒ‡RequireJSã€‚é€‚ç”¨äº<strong>æµè§ˆå™¨ç¯å¢ƒ</strong></p>
<h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line">define(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="built_in">require</span>([<span class="string">'a'</span>], <span class="function"><span class="keyword">function</span> (<span class="params">a</span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(a)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><p>å¯¹äºä¾èµ–çš„æ¨¡å—ï¼ŒAMDæ¨å´‡<strong>ä¾èµ–å‰ç½®ï¼Œæå‰æ‰§è¡Œ</strong>ã€‚ä¹Ÿå°±æ˜¯è¯´åœ¨<code>define</code>æ–¹æ³•é‡Œä¼ å…¥çš„ä¾èµ–æ¨¡å—ï¼ˆæ•°ç»„ï¼‰ä¼šåœ¨ä¸€æ¥æ˜¯å°±ä¸‹è½½å¹¶æ‰§è¡Œ</p>
<h1 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h1><h2 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>ç”±CommonJSå°ç»„æ‰€æå‡ºï¼Œç›®çš„æ˜¯å¼¥è¡¥JavaScriptåœ¨æœåŠ¡ç«¯ç¼ºå°‘æ¨¡å—åŒ–æœºåˆ¶ã€‚<strong>Node.jsã€webpack</strong>éƒ½æ˜¯åŸºäºè¯¥è§„èŒƒå®ç°</p>
<h2 id="ç”¨æ³•-1"><a href="#ç”¨æ³•-1" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">"i am a function"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="built_in">require</span>(<span class="string">"./a.js"</span>)</span><br><span class="line">a()</span><br><span class="line"><span class="comment">// a.js</span></span><br><span class="line">exports.num = <span class="number">1</span></span><br><span class="line">exports.obj = &#123; <span class="attr">name</span>: <span class="string">'zhangsan'</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="built_in">require</span>(<span class="string">"./a.js"</span>)</span><br><span class="line"><span class="built_in">console</span>.log(a) <span class="comment">// &#123; num: 1, obj: &#123; name: 'zhangsan' &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="ç‰¹ç‚¹-1"><a href="#ç‰¹ç‚¹-1" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><ul>
<li>æ‰€æœ‰ä»£ç éƒ½è¿è¡Œåœ¨æ¨¡å—ä½œç”¨åŸŸï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ç¯å¢ƒ</li>
<li>æ¨¡å—æ˜¯åŒæ­¥åŠ è½½çš„ï¼Œå³åªæœ‰åŠ è½½å®Œæˆæ¬¡å•Šèƒ½æ‰§è¡Œåé¢çš„æ“ä½œ</li>
<li>æ¨¡å—åœ¨é¦–æ¬¡æ‰§è¡Œåå°±ä¼š<strong>ç¼“å­˜</strong>ï¼Œå†æ¬¡åŠ è½½åªè¿”å›ç¼“å­˜ç»“æœï¼Œå¦‚æœæƒ³è¦å†æ¬¡æ‰§è¡Œï¼Œå¯æ¸…é™¤ç¼“å­˜</li>
<li>CommonJS <strong>è¾“å‡ºçš„æ˜¯å€¼çš„æ‹·è´</strong></li>
<li><code>this</code>æŒ‡å‘å½“å‰æ¨¡å—</li>
</ul>
<h1 id="ESM"><a href="#ESM" class="headerlink" title="ESM"></a>ESM</h1><h2 id="ç®€ä»‹-2"><a href="#ç®€ä»‹-2" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>ES6å®šä¹‰çš„æ¨¡å—åŒ–è§„èŒƒ</p>
<h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// a.js</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> name = <span class="string">"zhangsan"</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> age = <span class="number">23</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">	address: <span class="string">"shanghai"</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// b.js</span></span><br><span class="line"><span class="keyword">import</span> address, &#123; name, age &#125; <span class="keyword">from</span> <span class="string">"./a.js"</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(address, name, age) <span class="comment">// "shanghai" "zhangsan" 23</span></span><br></pre></td></tr></table></figure>

<h2 id="ç‰¹ç‚¹-2"><a href="#ç‰¹ç‚¹-2" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h2><ul>
<li>ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£</li>
<li>å¯ä»¥å•ç‹¬åŠ è½½æ¨¡å—æŸä¸ªæ¥å£</li>
<li>è¾“å‡ºçš„æ˜¯å¼•ç”¨</li>
<li><code>this</code>æŒ‡å‘<code>undefined</code></li>
</ul>
<h1 id="ESM-VS-CommonJS"><a href="#ESM-VS-CommonJS" class="headerlink" title="ESM VS CommonJS"></a>ESM VS CommonJS</h1><table>
<thead>
<tr>
<th></th>
<th>CommonJS</th>
<th>ESM</th>
</tr>
</thead>
<tbody><tr>
<td>åŠ è½½æ—¶é—´</td>
<td>è¿è¡Œæ—¶åŠ è½½</td>
<td>ç¼–è¯‘æ—¶è¾“å‡ºæ¥å£</td>
</tr>
<tr>
<td>åŠ è½½æ–¹å¼</td>
<td>åŠ è½½æ•´ä¸ªæ¨¡å—</td>
<td>æŒ‰éœ€åŠ è½½</td>
</tr>
<tr>
<td>è¾“å‡ºæ–¹å¼</td>
<td>å€¼çš„æ‹·è´</td>
<td>å€¼çš„å¼•ç”¨</td>
</tr>
<tr>
<td><code>this</code></td>
<td>æŒ‡å‘å½“å‰æ¨¡å—</td>
<td><code>undefined</code></td>
</tr>
</tbody></table>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/24/å‰ç«¯æ¶æ„&è½¯å®åŠ›-é¢„åŠ è½½&æ‡’åŠ è½½/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/24/å‰ç«¯æ¶æ„&è½¯å®åŠ›-é¢„åŠ è½½&æ‡’åŠ è½½/" class="post-title-link" itemprop="url">å‰ç«¯æ¶æ„&è½¯å®åŠ›-é¢„åŠ è½½&æ‡’åŠ è½½</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-24 21:17:04 / ä¿®æ”¹æ—¶é—´ï¼š21:19:48" itemprop="dateCreated datePublished" datetime="2020-04-24T21:17:04+08:00">2020-04-24</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¶æ„-è½¯å®åŠ›/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¶æ„/è½¯å®åŠ›</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢„åŠ è½½"><a href="#é¢„åŠ è½½" class="headerlink" title="é¢„åŠ è½½"></a>é¢„åŠ è½½</h1><h2 id="å®ç°æ€è·¯"><a href="#å®ç°æ€è·¯" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h2><p><code>new</code>ä¸€ä¸ªæ–°çš„<code>Imgnode</code>ï¼Œç»™<code>Imgnode</code>çš„<code>src</code>èµ‹å€¼ä¸ºçœŸæ­£çš„<code>src</code>ï¼›è¯¥<code>Imgnode</code>åœ¨åŠ è½½å®Œæ¯•åç›¸åº”çš„å›¾ç‰‡èµ„æºå°±ä¼šåœ¨æœ¬åœ°ç¼“å­˜ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span>  <span class="title">preLoad</span> (<span class="params">...src</span>) </span>&#123;</span><br><span class="line">	src.forEach(<span class="function"><span class="params">item</span>  =&gt;</span> &#123;</span><br><span class="line">		<span class="keyword">const</span>  imgNode = <span class="keyword">new</span> Image()</span><br><span class="line">		imgNode.src = realSrc</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="æ‡’åŠ è½½"><a href="#æ‡’åŠ è½½" class="headerlink" title="æ‡’åŠ è½½"></a>æ‡’åŠ è½½</h1><h2 id="å®ç°æ€è·¯-1"><a href="#å®ç°æ€è·¯-1" class="headerlink" title="å®ç°æ€è·¯"></a>å®ç°æ€è·¯</h2><p>é¦–å…ˆè®¾ç½®ä¸€ä¸ªä¸´æ—¶å±æ€§ <code>data-src</code>ï¼Œå½“å‰å…ƒç´ æ˜¯å¦å‡ºç°åœ¨è§†å£æ—¶ä½¿ç”¨ <code>src</code> ä»£æ›¿ <code>data-src</code>ã€‚</p>
<ol>
<li><p><code>window.onscroll</code> + <code>clientTop</code>ï¼Œ<code>offsetTop</code>ï¼Œ<code>clientHeight</code> <code>scrollTop</code> + èŠ‚æµ ğŸ‘</p>
<p>ä¸å®¹æ˜“åˆ¤æ–­å…ƒç´ çš„ä½ç½®</p>
</li>
<li><p><code>window.onscroll</code> + <code>Element.getBoundingClientRect()</code> + èŠ‚æµğŸ‘</p>
<p><code>getBoundingClientRect</code>ä¼šè§¦å‘å›æµ</p>
</li>
<li><p><code>IntersectionObserver</code>ğŸ‘</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;img  style=<span class="string">"width: 200px;"</span>  id=<span class="string">"img"</span>  data-src=<span class="string">"./assets/yoda.jpg"</span>  alt=<span class="string">""</span>  srcset=<span class="string">""</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span>  observer = <span class="keyword">new</span>  IntersectionObserver(<span class="function"><span class="params">changes</span>=&gt;</span> &#123;</span><br><span class="line">	changes.forEach(<span class="function"><span class="params">change</span>  =&gt;</span> &#123;</span><br><span class="line">		<span class="comment">// change.isIntersecting åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦å‡ºç°åœ¨è§†å£ä¸­</span></span><br><span class="line">		<span class="keyword">if</span> (change.isIntersecting) &#123;</span><br><span class="line">			<span class="keyword">const</span>  img = change.target</span><br><span class="line">			img.src = img.dataset.src</span><br><span class="line">			<span class="built_in">Reflect</span>.deleteProperty(img.dataset, <span class="string">"src"</span>)</span><br><span class="line">			observer.unobserve(img)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;)</span><br><span class="line">&#125;)</span><br><span class="line">observer.observe(<span class="built_in">document</span>.querySelector(<span class="string">"#img"</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>img</code>çš„<code>lazy</code>å±æ€§ ğŸ‘</p>
<p>å…¼å®¹æ€§å·®ï¼Œ<a href="https://www.jianguoyun.com/static/stackedit/[https://www.zhangxinxu.com/wordpress/2019/09/native-img-loading-lazy/](https://www.zhangxinxu.com/wordpress/2019/09/native-img-loading-lazy/)" target="_blank" rel="noopener">å…·ä½“å®è·µ</a></p>
<p><code>&lt;img loading=&quot;lazy&quot; src=&quot;http://blog.p18c.top/imgs/avatar.png&quot; alt=&quot;&quot; srcset=&quot;&quot;&gt;</code></p>
</li>
</ol>
<h1 id="é¢„åŠ è½½-VS-æ‡’åŠ è½½"><a href="#é¢„åŠ è½½-VS-æ‡’åŠ è½½" class="headerlink" title="é¢„åŠ è½½ VS æ‡’åŠ è½½"></a>é¢„åŠ è½½ VS æ‡’åŠ è½½</h1><table>
<thead>
<tr>
<th></th>
<th>é¢„åŠ è½½</th>
<th>æ‡’åŠ è½½</th>
</tr>
</thead>
<tbody><tr>
<td>ä¼˜ç‚¹</td>
<td>çœŸæ­£çš„imgæ¸²æŸ“æ—¶é€Ÿåº¦å¿«</td>
<td>å‡è½»è·å–èµ„æºæ—¶çš„å‹åŠ›(æŒ‰éœ€åŠ è½½)</td>
</tr>
<tr>
<td>ç¼ºç‚¹</td>
<td>åŠ è½½èµ„æºè¿‡å¤š(æœ‰äº›å›¾ç‰‡å¯èƒ½ä¸ä¼šå±•ç¤º)</td>
<td>çœŸæ­£çš„imgæ¸²æŸ“æ—¶æ‰è·å–ï¼Œè‹¥ç½‘ç»œå·®ä¾ç„¶ä½“éªŒä¸å¥½</td>
</tr>
</tbody></table>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://mrrs878.github.io/2020/04/21/å‰ç«¯æ¶æ„&è½¯å®åŠ›-ç§»åŠ¨ç«¯é€‚é…/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Mr.RS">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/imgs/avatar.png">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Mr.RS">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            
            <a href="/2020/04/21/å‰ç«¯æ¶æ„&è½¯å®åŠ›-ç§»åŠ¨ç«¯é€‚é…/" class="post-title-link" itemprop="url">å‰ç«¯æ¶æ„/è½¯å®åŠ›-ç§»åŠ¨ç«¯é€‚é…</a>
          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              
                
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-04-21 22:33:00 / ä¿®æ”¹æ—¶é—´ï¼š22:34:22" itemprop="dateCreated datePublished" datetime="2020-04-21T22:33:00+08:00">2020-04-21</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/å‰ç«¯æ¶æ„-è½¯å®åŠ›/" itemprop="url" rel="index">
                    <span itemprop="name">å‰ç«¯æ¶æ„/è½¯å®åŠ›</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="ç§»åŠ¨ç«¯é€‚é…å…·ä½“å«ä¹‰"><a href="#ç§»åŠ¨ç«¯é€‚é…å…·ä½“å«ä¹‰" class="headerlink" title="ç§»åŠ¨ç«¯é€‚é…å…·ä½“å«ä¹‰"></a>ç§»åŠ¨ç«¯é€‚é…å…·ä½“å«ä¹‰</h1><p>ä¸ºäº†åœ¨ç§»åŠ¨ç«¯è®©é¡µé¢è·å¾—æ›´å¥½çš„æ˜¾ç¤ºæ•ˆæœï¼Œæˆ‘ä»¬å¿…é¡»è®©<strong>å¸ƒå±€è§†å£ã€è§†è§‰è§†å£éƒ½å°½å¯èƒ½ç­‰äºç†æƒ³è§†å£</strong>ï¼Œä½†è¿™å¹¶ä¸èƒ½ä¿è¯å®ƒä»¬æ˜¾ç¤ºå®Œå…¨ä¸€è‡´ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ¡ˆï¼ˆrem + vwé€‚é…ï¼‰æ¥è®©è®¾è®¡ç¨¿å¾—åˆ°æ›´å®Œç¾çš„é€‚é…ã€‚</p>
<h1 id="ä¸‰ä¸ªè§†å£"><a href="#ä¸‰ä¸ªè§†å£" class="headerlink" title="ä¸‰ä¸ªè§†å£"></a>ä¸‰ä¸ªè§†å£</h1><ol>
<li><p>å¸ƒå±€è§†å£</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/17/16ac3a666e96ff01?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="å¸ƒå±€è§†å£"><br>å¸ƒå±€è§†å£(<code>layout viewport</code>)ï¼šå½“æˆ‘ä»¬ä»¥ç™¾åˆ†æ¯”æ¥æŒ‡å®šä¸€ä¸ªå…ƒç´ çš„å¤§å°æ—¶ï¼Œå®ƒçš„è®¡ç®—å€¼æ˜¯ç”±è¿™ä¸ªå…ƒç´ çš„åŒ…å«å—è®¡ç®—è€Œæ¥çš„ã€‚å½“è¿™ä¸ªå…ƒç´ æ˜¯æœ€é¡¶çº§çš„å…ƒç´ æ—¶ï¼Œå®ƒå°±æ˜¯åŸºäºå¸ƒå±€è§†å£æ¥è®¡ç®—çš„ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¸ƒå±€è§†å£æ˜¯ç½‘é¡µå¸ƒå±€çš„åŸºå‡†çª—å£ï¼Œåœ¨<code>PC</code>æµè§ˆå™¨ä¸Šï¼Œå¸ƒå±€è§†å£å°±ç­‰äºå½“å‰æµè§ˆå™¨çš„çª—å£å¤§å°ï¼ˆä¸åŒ…æ‹¬<code>borders</code> ã€<code>margins</code>ã€æ»šåŠ¨æ¡ï¼‰ã€‚</p>
<p>åœ¨ç§»åŠ¨ç«¯ï¼Œå¸ƒå±€è§†å£è¢«èµ‹äºˆä¸€ä¸ªé»˜è®¤å€¼ï¼Œå¤§éƒ¨åˆ†ä¸º<code>980px</code>ï¼Œè¿™ä¿è¯<code>PC</code>çš„ç½‘é¡µå¯ä»¥åœ¨æ‰‹æœºæµè§ˆå™¨ä¸Šå‘ˆç°ï¼Œä½†æ˜¯éå¸¸å°ï¼Œç”¨æˆ·å¯ä»¥æ‰‹åŠ¨å¯¹ç½‘é¡µè¿›è¡Œæ”¾å¤§ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨<code>document.documentElement.clientWidth / clientHeight</code>æ¥è·å–å¸ƒå±€è§†å£å¤§å°ã€‚</p>
</li>
<li><p>è§†è§‰è§†å£</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/5/17/16ac3a66924ef751?imageView2/0/w/1280/h/960/format/webp/ignore-error/1" alt="è§†è§‰è§†å£"><br>è§†è§‰è§†å£(<code>visual viewport</code>)ï¼šç”¨æˆ·é€šè¿‡å±å¹•çœŸå®çœ‹åˆ°çš„åŒºåŸŸã€‚</p>
<p>è§†è§‰è§†å£é»˜è®¤ç­‰äºå½“å‰æµè§ˆå™¨çš„çª—å£å¤§å°ï¼ˆåŒ…æ‹¬æ»šåŠ¨æ¡å®½åº¦ï¼‰ã€‚</p>
<p>å½“ç”¨æˆ·å¯¹æµè§ˆå™¨è¿›è¡Œç¼©æ”¾æ—¶ï¼Œä¸ä¼šæ”¹å˜å¸ƒå±€è§†å£çš„å¤§å°ï¼Œæ‰€ä»¥é¡µé¢å¸ƒå±€æ˜¯ä¸å˜çš„ï¼Œä½†æ˜¯<strong>ç¼©æ”¾ä¼šæ”¹å˜è§†è§‰è§†å£</strong>çš„å¤§å°ã€‚</p>
<p>ä¾‹å¦‚ï¼šç”¨æˆ·å°†æµè§ˆå™¨çª—å£æ”¾å¤§äº†<code>200%</code>ï¼Œè¿™æ—¶æµè§ˆå™¨çª—å£ä¸­çš„<code>CSSåƒç´ </code>ä¼šéšç€è§†è§‰è§†å£çš„æ”¾å¤§è€Œæ”¾å¤§ï¼Œè¿™æ—¶ä¸€ä¸ª<code>CSS</code>åƒç´ ä¼šè·¨è¶Šæ›´å¤šçš„ç‰©ç†åƒç´ ã€‚</p>
<p>æ‰€ä»¥ï¼Œå¸ƒå±€è§†å£ä¼šé™åˆ¶ä½ çš„<code>CSS</code>å¸ƒå±€ï¼Œè€Œè§†è§‰è§†å£å†³å®šç”¨æˆ·å…·ä½“èƒ½çœ‹åˆ°ä»€ä¹ˆã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨<code>window.innerWidth / innerHeight</code>æ¥è·å–è§†è§‰è§†å£å¤§å°ã€‚</p>
</li>
<li><p>ç†æƒ³è§†å£</p>
<p>å¸ƒå±€è§†å£åœ¨ç§»åŠ¨ç«¯å±•ç¤ºçš„æ•ˆæœå¹¶ä¸æ˜¯ä¸€ä¸ªç†æƒ³çš„æ•ˆæœï¼Œæ‰€ä»¥ç†æƒ³è§†å£(<code>ideal viewport</code>)å°±è¯ç”Ÿäº†ï¼šç½‘ç«™é¡µé¢åœ¨ç§»åŠ¨ç«¯å±•ç¤ºçš„ç†æƒ³å¤§å° === è®¾å¤‡ç‹¬ç«‹åƒç´ </p>
<p>å½“é¡µé¢ç¼©æ”¾æ¯”ä¾‹ä¸º<code>100%</code>æ—¶ï¼Œ<code>CSSåƒç´  = è®¾å¤‡ç‹¬ç«‹åƒç´ </code>ï¼Œ<code>ç†æƒ³è§†å£ = è§†è§‰è§†å£</code>ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è°ƒç”¨<code>screen.width / height</code>æ¥è·å–ç†æƒ³è§†å£å¤§å°ã€‚</p>
</li>
</ol>
<h1 id="Meta-viewport"><a href="#Meta-viewport" class="headerlink" title="Meta viewport"></a>Meta viewport</h1><meta> å…ƒç´ è¡¨ç¤ºé‚£äº›ä¸èƒ½ç”±å…¶å®ƒHTMLå…ƒç›¸å…³å…ƒç´ ä¹‹ä¸€è¡¨ç¤ºçš„ä»»ä½•å…ƒæ•°æ®ä¿¡æ¯ï¼Œå®ƒå¯ä»¥å‘Šè¯‰æµè§ˆå™¨å¦‚ä½•è§£æé¡µé¢

<p>æˆ‘ä»¬å¯ä»¥å€ŸåŠ©``å…ƒç´ çš„<code>viewport</code>æ¥å¸®åŠ©æˆ‘ä»¬è®¾ç½®è§†å£ã€ç¼©æ”¾ç­‰ï¼Œä»è€Œè®©ç§»åŠ¨ç«¯å¾—åˆ°æ›´å¥½çš„å±•ç¤ºæ•ˆæœã€‚</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span>  <span class="attr">name</span>=<span class="string">"viewport"</span>  <span class="attr">content</span>=<span class="string">"width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;"</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><code>device-width</code>å°±ç­‰äºç†æƒ³è§†å£çš„å®½åº¦ï¼Œæ‰€ä»¥è®¾ç½®<code>width=device-width</code>å°±ç›¸å½“äºè®©å¸ƒå±€è§†å£ç­‰äºç†æƒ³è§†å£ã€‚</p>
<p>ç”±äº<code>initial-scale = ç†æƒ³è§†å£å®½åº¦ / è§†è§‰è§†å£å®½åº¦</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾ç½®<code>initial-scale=1;</code>å°±ç›¸å½“äºè®©è§†è§‰è§†å£ç­‰äºç†æƒ³è§†å£ã€‚</p>
<p>è¿™æ—¶ï¼Œ1ä¸ª<code>CSS</code>åƒç´ å°±ç­‰äº1ä¸ªè®¾å¤‡ç‹¬ç«‹åƒç´ ï¼Œè€Œä¸”æˆ‘ä»¬ä¹Ÿæ˜¯åŸºäºç†æƒ³è§†å£æ¥è¿›è¡Œå¸ƒå±€çš„ï¼Œæ‰€ä»¥å‘ˆç°å‡ºæ¥çš„é¡µé¢å¸ƒå±€åœ¨å„ç§è®¾å¤‡ä¸Šéƒ½èƒ½å¤§è‡´ç›¸ä¼¼ã€‚</p>
<h1 id="rem-vwé€‚é…"><a href="#rem-vwé€‚é…" class="headerlink" title="rem + vwé€‚é…"></a>rem + vwé€‚é…</h1><ul>
<li><p>remæ˜¯ç›¸å¯¹äºæ ¹å…ƒç´ çš„å­—ä½“å¤§å°çš„å•ä½ï¼Œä¹Ÿå°±æ˜¯htmlçš„font-sizeå¤§å°ï¼Œæµè§ˆå™¨é»˜è®¤çš„å­—ä½“å¤§å°æ˜¯16pxï¼Œæ‰€ä»¥é»˜è®¤çš„1rem=16pxï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ®è®¾å¤‡å®½åº¦åŠ¨æ€è®¾ç½®æ ¹å…ƒç´ çš„font-sizeï¼Œä½¿å¾—ä»¥remä¸ºå•ä½çš„å…ƒç´ åœ¨ä¸åŒç»ˆç«¯ä¸Šä»¥ç›¸å¯¹ä¸€è‡´çš„è§†è§‰æ•ˆæœå‘ˆç°ã€‚</p>
</li>
<li><p><code>vhã€vw</code>åˆ†åˆ«å¯¹åº”äºè§†è§‰è§†å£å®½åº¦ <code>window.innerHeight</code>å’Œè§†è§‰è§†å£é«˜åº¦ <code>window.innerWidth</code></p>
<p><code>100vh === window.innerHeight</code>ï¼Œ<code>100vw === window.innerWidth</code></p>
</li>
</ul>
<ol>
<li><p>è®¾ç½®metaæ ‡ç­¾</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">meta</span>  <span class="attr">name</span>=<span class="string">"viewport"</span>  <span class="attr">content</span>=<span class="string">"width=device-width; initial-scale=1; maximum-scale=1; minimum-scale=1; user-scalable=no;"</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è®¾ç½®æ ¹<code>font-size</code>ï¼ˆå¯¹åº”äº750pxè®¾è®¡ç¨¿ï¼‰</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">	<span class="attribute">font-size</span>: <span class="number">13.3333vw</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">750px = 100vw</span></span><br><span class="line"><span class="comment">1px = 0.13333vw</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å‡å®š1rem = 100px</span></span><br><span class="line"><span class="comment">åˆ™1rem = 13.333vw</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li>
</ol>

        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

    
  </div>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/imgs/avatar.png"
      alt="Mr.RS">
  <p class="site-author-name" itemprop="name">Mr.RS</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">64</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        <span class="site-state-item-count">18</span>
        <span class="site-state-item-name">åˆ†ç±»</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">59</span>
        <span class="site-state-item-name">æ ‡ç­¾</span>
        </a>
      </div>
    
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        
<script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">åšå®¢å…¨ç«™å…±67.9kå­—</span>
</div>
<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Mr.RS</span>
  <br/>
  <div class="powered-by">
    <i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
      æœ¬ç«™è®¿å®¢æ•°:<span id="busuanzi_value_site_uv"></span>
    </span>
  </div>
</div>
<!--
  <div class="powered-by">ç”± <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> å¼ºåŠ›é©±åŠ¨ v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">
      
    ä¸»é¢˜ â€“ <a href="https://pisces.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.4.1
  </div>
-->

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/pisces.js?v=7.4.1"></script>
<script src="/js/next-boot.js?v=7.4.1"></script>



  





















  

  

  

</body>
</html>
